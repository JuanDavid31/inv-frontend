<div class="main-content">
	<div class="ctrl" style="background:#DCE3E8">
		<div class="col-md-5 d-flex align-items-center div-conectar">
			<div class="ml-3 mr-3 div-select">
				<label class="mb-0 mr-2" for="De">De</label>
				<select class="form-control mt-0" name="De" id="De" [(ngModel)]="grupoDe">
					<option [ngValue]="{}" disabled selected>Selecciona un nodo</option>
					<option *ngFor="let grupo of darGruposIterables()" [ngValue]="grupo.data">
						{{grupo.data.nombre}}
					</option>
				</select>
			</div>
			<div class="ml-3 mr-3 div-select">
				<label class="mb-0 mr-2" for="A">A</label>
				<select class="form-control mt-0" name="A" id="A" [(ngModel)]="grupoA">
					<option [ngValue]="{}" disabled selected>Selecciona un nodo</option>
					<option *ngFor="let grupo of darGruposIterables()" [ngValue]="grupo.data">
						{{grupo.data.nombre}}
					</option>
				</select>
			</div>
			<div class="d-flex flex-column">
				<input class="btn btn-default btn-sm mt-0 mb-0" type="submit" value="Conectar" (click)="conectar()">
			</div>
		</div>
		<div class="col-md-4 solicitar-organizado">
			<div class="noselect checkbox-solicitud">
				<input type="checkbox" id="solicitarOrganizado" [(ngModel)]="solicitandoOrganizacion"
					name="solicitarOrganizadoInput" (change)="cambioSolicitud()">
				<label for="solicitarOrganizado" data-tippy-content="Tooltip">¿Solicitar organizado?</label>
			</div>
			<span>
				Solicitantes {{ darCantidadSolicitantes() }}/
				{{usuarios.length}}
			</span>
		</div>
		<div class="col-md-3 div-usuarios dropdown">
			<div id="dropdownMenuButton" class="btn btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"
				aria-expanded="false">
				<i class="fa fa-users"></i>
				<span class="ml-2">Usuarios</span>
			</div>
			<div class="dropdown-menu dropdown-menu-left" aria-labelledby="dropdownMenuButton">
				<span class="dropdown-item" *ngFor="let usuario of usuarios">
					{{usuario.nombre}}
				</span>
			</div>
		</div>
	</div>
	<div id="cy">
	</div>
	<div id="modal-cambio-nombre" class="modal fade">
		<div class="modal-dialog">
			<div class="modal-content">
				<!-- contenido del titulo -->
				<div class="modal-header" style="color:white; background:#0C5F97;">
					<h4 class="modal-tittle">Cambiar nombre ({{grupoSeleccionado?.nombre}})</h4>
					<button tyle="button" style="color:#FFFFFF" class="close" data-dismiss="modal"
						aria-hidden="true">&times;</button>
				</div>
				<!-- contenido de la ventana-->
				<div class="modal-body">
					<form #modalForm="ngForm">
						<div class="form-group">
							<label for="nombre-problematica">Nombre</label>
							<input type="text" id="nombre-problematica" name="nuevoNombre" #nuevoNombre="ngModel"
								class="form-control" [(ngModel)]="nuevoNombreGrupo" name="nuevoNombreGrupoInput"
								minlength="4" maxlength="15" required>
							<div *ngIf="nuevoNombre?.touched">
								<div class="alert alert-danger" role="alert"
									style="height:50px;text-align:center;background:#F08080"
									*ngIf="nuevoNombre?.errors?.minlength">
									<a>Debe tener minimo 4 caracteres</a>
									<button type="button" class="close" data-dismiss="alert" aria-label="Close"
										style="color:#FFFFFF">
										<span aria-hidden="true">&times;</span>
									</button>
								</div>
							</div>
						</div>
						<button type="submit" style="background:#0C5F97" class="btn btn-info"
							(click)="cambiarNombreGrupo(grupoSeleccionado.id, nuevoNombreGrupo)"
							[disabled]="modalForm.invalid">Guardar
							cambios</button>
					</form>
				</div>
			</div>
		</div>
	</div>
	<div id="modal-visualizacion-imagen-nodo" class="modal fade">
		<div class="modal-dialog">
			<div class="modal-content">
				<!-- contenido del titulo -->
				<div class="modal-header" style="color:white; background:#0C5F97;">
					<h4 class="modal-tittle">{{nodoSeleccionado?.nombre}}</h4>
					<button tyle="button" style="color:#FFFFFF" class="close" data-dismiss="modal"
						aria-hidden="true">&times;</button>
				</div>
				<!-- contenido de la ventana-->
				<div class="modal-body">
					{{nodoSeleccionado?.nombreCreador}}
					<a [href]="nodoSeleccionado?.urlFoto" target="_blank">Abrir imagen en una pestaña nueva.</a>
					<img src="{{nodoSeleccionado?.urlFoto}}" alt="Imagen nodo">
					<span>
						<strong>Creador: </strong>{{nodoSeleccionado.nombreCreador}}
					</span>
				</div>
			</div>
		</div>
	</div>
</div>