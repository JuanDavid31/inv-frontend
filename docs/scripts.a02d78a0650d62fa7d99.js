!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Popper=t()}(this,(function(){"use strict";function e(e){return e&&"[object Function]"==={}.toString.call(e)}function t(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function n(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function i(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var r=t(e);return/(auto|scroll|overlay)/.test(r.overflow+r.overflowY+r.overflowX)?e:i(n(e))}function r(e){return e&&e.referenceNode?e.referenceNode:e}function o(e){return 11===e?X:10===e?U:X||U}function a(e){if(!e)return document.documentElement;for(var n=o(10)?document.body:null,i=e.offsetParent||null;i===n&&e.nextElementSibling;)i=(e=e.nextElementSibling).offsetParent;var r=i&&i.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(i.nodeName)&&"static"===t(i,"position")?a(i):i:e?e.ownerDocument.documentElement:document.documentElement}function s(e){return null===e.parentNode?e:s(e.parentNode)}function l(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?e:t,r=n?t:e,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);var u=o.commonAncestorContainer;if(e!==u&&t!==u||i.contains(r))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||a(e.firstElementChild)===e)}(u)?u:a(u);var c=s(e);return c.host?l(c.host,t):l(e,s(t).host)}function u(e){var t="top"===(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;return"BODY"===n||"HTML"===n?(e.ownerDocument.scrollingElement||e.ownerDocument.documentElement)[t]:e[t]}function c(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=u(t,"top"),r=u(t,"left"),o=n?-1:1;return e.top+=i*o,e.bottom+=i*o,e.left+=r*o,e.right+=r*o,e}function h(e,t){var n="x"===t?"Left":"Top",i="Left"==n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"],10)+parseFloat(e["border"+i+"Width"],10)}function d(e,t,n,i){return W(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],o(10)?parseInt(n["offset"+e])+parseInt(i["margin"+("Height"===e?"Top":"Left")])+parseInt(i["margin"+("Height"===e?"Bottom":"Right")]):0)}function f(e){var t=e.body,n=e.documentElement,i=o(10)&&getComputedStyle(n);return{height:d("Height",t,n,i),width:d("Width",t,n,i)}}function p(e){return Z({},e,{right:e.left+e.width,bottom:e.top+e.height})}function g(e){var n={};try{if(o(10)){n=e.getBoundingClientRect();var i=u(e,"top"),r=u(e,"left");n.top+=i,n.left+=r,n.bottom+=i,n.right+=r}else n=e.getBoundingClientRect()}catch(t){}var a={left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top},s="HTML"===e.nodeName?f(e.ownerDocument):{},l=e.offsetWidth-(s.width||e.clientWidth||a.width),c=e.offsetHeight-(s.height||e.clientHeight||a.height);if(l||c){var d=t(e);l-=h(d,"x"),c-=h(d,"y"),a.width-=l,a.height-=c}return p(a)}function m(e,n){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],a=o(10),s="HTML"===n.nodeName,l=g(e),u=g(n),h=i(e),d=t(n),f=parseFloat(d.borderTopWidth,10),m=parseFloat(d.borderLeftWidth,10);r&&s&&(u.top=W(u.top,0),u.left=W(u.left,0));var v=p({top:l.top-u.top-f,left:l.left-u.left-m,width:l.width,height:l.height});if(v.marginTop=0,v.marginLeft=0,!a&&s){var y=parseFloat(d.marginTop,10),b=parseFloat(d.marginLeft,10);v.top-=f-y,v.bottom-=f-y,v.left-=m-b,v.right-=m-b,v.marginTop=y,v.marginLeft=b}return(a&&!r?n.contains(h):n===h&&"BODY"!==h.nodeName)&&(v=c(v,n)),v}function v(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,i=m(e,n),r=W(n.clientWidth,window.innerWidth||0),o=W(n.clientHeight,window.innerHeight||0),a=t?0:u(n),s=t?0:u(n,"left");return p({top:a-i.top+i.marginTop,left:s-i.left+i.marginLeft,width:r,height:o})}function y(e){var i=e.nodeName;if("BODY"===i||"HTML"===i)return!1;if("fixed"===t(e,"position"))return!0;var r=n(e);return!!r&&y(r)}function b(e){if(!e||!e.parentElement||o())return document.documentElement;for(var n=e.parentElement;n&&"none"===t(n,"transform");)n=n.parentElement;return n||document.documentElement}function x(e,t,o,a){var s=4<arguments.length&&void 0!==arguments[4]&&arguments[4],u={top:0,left:0},c=s?b(e):l(e,r(t));if("viewport"===a)u=v(c,s);else{var h;"scrollParent"===a?"BODY"===(h=i(n(t))).nodeName&&(h=e.ownerDocument.documentElement):h="window"===a?e.ownerDocument.documentElement:a;var d=m(h,c,s);if("HTML"!==h.nodeName||y(c))u=d;else{var p=f(e.ownerDocument),g=p.height,x=p.width;u.top+=d.top-d.marginTop,u.bottom=g+d.top,u.left+=d.left-d.marginLeft,u.right=x+d.left}}var w="number"==typeof(o=o||0);return u.left+=w?o:o.left||0,u.top+=w?o:o.top||0,u.right-=w?o:o.right||0,u.bottom-=w?o:o.bottom||0,u}function w(e){return e.width*e.height}function _(e,t,n,i,r){var o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=x(n,i,o,r),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},l=Object.keys(s).map((function(e){return Z({key:e},s[e],{area:w(s[e])})})).sort((function(e,t){return t.area-e.area})),u=l.filter((function(e){return e.width>=n.clientWidth&&e.height>=n.clientHeight})),c=0<u.length?u[0].key:l[0].key,h=e.split("-")[1];return c+(h?"-"+h:"")}function E(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return m(n,i?b(t):l(t,r(n)),i)}function S(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),i=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+i,height:e.offsetHeight+n}}function C(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function T(e,t,n){n=n.split("-")[0];var i=S(e),r={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",s=o?"left":"top",l=o?"height":"width",u=o?"width":"height";return r[a]=t[a]+t[l]/2-i[l]/2,r[s]=n===s?t[s]-i[u]:t[C(s)],r}function k(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function D(t,n,i){return(void 0===i?t:t.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var i=k(e,(function(e){return e[t]===n}));return e.indexOf(i)}(t,"name",i))).forEach((function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var i=t.function||t.fn;t.enabled&&e(i)&&(n.offsets.popper=p(n.offsets.popper),n.offsets.reference=p(n.offsets.reference),n=i(n,t))})),n}function A(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=E(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=_(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=T(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=D(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function O(e,t){return e.some((function(e){return e.enabled&&e.name===t}))}function P(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<t.length;i++){var r=t[i],o=r?""+r+n:e;if(void 0!==document.body.style[o])return o}return null}function M(){return this.state.isDestroyed=!0,O(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[P("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function I(e){var t=e.ownerDocument;return t?t.defaultView:window}function N(){this.state.eventsEnabled||(this.state=function(e,t,n,r){n.updateBound=r,I(e).addEventListener("resize",n.updateBound,{passive:!0});var o=i(e);return function e(t,n,r,o){var a="BODY"===t.nodeName,s=a?t.ownerDocument.defaultView:t;s.addEventListener(n,r,{passive:!0}),a||e(i(s.parentNode),n,r,o),o.push(s)}(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}(this.reference,0,this.state,this.scheduleUpdate))}function L(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=function(e,t){return I(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}(this.reference,this.state))}function R(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function B(e,t){Object.keys(t).forEach((function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&R(t[n])&&(i="px"),e.style[n]=t[n]+i}))}function j(e,t,n){var i=k(e,(function(e){return e.name===t})),r=!!i&&e.some((function(e){return e.name===n&&e.enabled&&e.order<i.order}));if(!r){var o="`"+t+"`";console.warn("`"+n+"` modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return r}function F(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=te.indexOf(e),i=te.slice(n+1).concat(te.slice(0,n));return t?i.reverse():i}var H=Math.min,Y=Math.floor,z=Math.round,W=Math.max,$="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,V=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if($&&0<=navigator.userAgent.indexOf(e[t]))return 1;return 0}(),q=$&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),V))}},X=$&&!(!window.MSInputMethodContext||!document.documentMode),U=$&&/MSIE 10/.test(navigator.userAgent),G=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},K=function(){function e(e,t){for(var n,i=0;i<t.length;i++)(n=t[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Q=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Z=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},J=$&&/Firefox/i.test(navigator.userAgent),ee=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],te=ee.slice(3),ne=function(){function t(n,i){var r=this,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};G(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=q(this.update.bind(this)),this.options=Z({},t.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=n&&n.jquery?n[0]:n,this.popper=i&&i.jquery?i[0]:i,this.options.modifiers={},Object.keys(Z({},t.Defaults.modifiers,o.modifiers)).forEach((function(e){r.options.modifiers[e]=Z({},t.Defaults.modifiers[e]||{},o.modifiers?o.modifiers[e]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return Z({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(t){t.enabled&&e(t.onLoad)&&t.onLoad(r.reference,r.popper,r.options,t,r.state)})),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return K(t,[{key:"update",value:function(){return A.call(this)}},{key:"destroy",value:function(){return M.call(this)}},{key:"enableEventListeners",value:function(){return N.call(this)}},{key:"disableEventListeners",value:function(){return L.call(this)}}]),t}();return ne.Utils=("undefined"==typeof window?global:window).PopperUtils,ne.placements=ee,ne.Defaults={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],i=t.split("-")[1];if(i){var r=e.offsets,o=r.reference,a=r.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",u=s?"width":"height",c={start:Q({},l,o[l]),end:Q({},l,o[l]+o[u]-a[u])};e.offsets.popper=Z({},a,c[i])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n,i=t.offset,r=e.offsets,o=r.popper,a=r.reference,s=e.placement.split("-")[0];return n=R(+i)?[+i,0]:function(e,t,n,i){var r=[0,0],o=-1!==["right","left"].indexOf(i),a=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=a.indexOf(k(a,(function(e){return-1!==e.search(/,|\s/)})));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=-1===s?[a]:[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))];return(u=u.map((function(e,i){var r=(1===i?!o:o)?"height":"width",a=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,i){var r=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],a=r[2];if(!o)return e;if(0===a.indexOf("%")){var s;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=i}return p(s)[t]/100*o}return"vh"===a||"vw"===a?("vh"===a?W(document.documentElement.clientHeight,window.innerHeight||0):W(document.documentElement.clientWidth,window.innerWidth||0))/100*o:o}(e,r,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,i){R(n)&&(r[t]+=n*("-"===e[i-1]?-1:1))}))})),r}(i,o,a,s),"left"===s?(o.top+=n[0],o.left-=n[1]):"right"===s?(o.top+=n[0],o.left+=n[1]):"top"===s?(o.left+=n[0],o.top-=n[1]):"bottom"===s&&(o.left+=n[0],o.top+=n[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||a(e.instance.popper);e.instance.reference===n&&(n=a(n));var i=P("transform"),r=e.instance.popper.style,o=r.top,s=r.left,l=r[i];r.top="",r.left="",r[i]="";var u=x(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);r.top=o,r.left=s,r[i]=l,t.boundaries=u;var c=e.offsets.popper,h={primary:function(e){var n=c[e];return c[e]<u[e]&&!t.escapeWithReference&&(n=W(c[e],u[e])),Q({},e,n)},secondary:function(e){var n="right"===e?"left":"top",i=c[n];return c[e]>u[e]&&!t.escapeWithReference&&(i=H(c[n],u[e]-("right"===e?c.width:c.height))),Q({},n,i)}};return t.priority.forEach((function(e){var t=-1===["left","top"].indexOf(e)?"secondary":"primary";c=Z({},c,h[t](e))})),e.offsets.popper=c,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,i=t.reference,r=e.placement.split("-")[0],o=Y,a=-1!==["top","bottom"].indexOf(r),s=a?"right":"bottom",l=a?"left":"top",u=a?"width":"height";return n[s]<o(i[l])&&(e.offsets.popper[l]=o(i[l])-n[u]),n[l]>o(i[s])&&(e.offsets.popper[l]=o(i[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,n){var i;if(!j(e.instance.modifiers,"arrow","keepTogether"))return e;var r=n.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var o=e.placement.split("-")[0],a=e.offsets,s=a.popper,l=a.reference,u=-1!==["left","right"].indexOf(o),c=u?"height":"width",h=u?"Top":"Left",d=h.toLowerCase(),f=u?"left":"top",g=u?"bottom":"right",m=S(r)[c];l[g]-m<s[d]&&(e.offsets.popper[d]-=s[d]-(l[g]-m)),l[d]+m>s[g]&&(e.offsets.popper[d]+=l[d]+m-s[g]),e.offsets.popper=p(e.offsets.popper);var v=l[d]+l[c]/2-m/2,y=t(e.instance.popper),b=parseFloat(y["margin"+h],10),x=parseFloat(y["border"+h+"Width"],10),w=v-e.offsets.popper[d]-b-x;return w=W(H(s[c]-m,w),0),e.arrowElement=r,e.offsets.arrow=(Q(i={},d,z(w)),Q(i,f,""),i),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(O(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=x(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),i=e.placement.split("-")[0],r=C(i),o=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case"flip":a=[i,r];break;case"clockwise":a=F(i);break;case"counterclockwise":a=F(i,!0);break;default:a=t.behavior}return a.forEach((function(s,l){if(i!==s||a.length===l+1)return e;i=e.placement.split("-")[0],r=C(i);var u=e.offsets.popper,c=e.offsets.reference,h=Y,d="left"===i&&h(u.right)>h(c.left)||"right"===i&&h(u.left)<h(c.right)||"top"===i&&h(u.bottom)>h(c.top)||"bottom"===i&&h(u.top)<h(c.bottom),f=h(u.left)<h(n.left),p=h(u.right)>h(n.right),g=h(u.top)<h(n.top),m=h(u.bottom)>h(n.bottom),v="left"===i&&f||"right"===i&&p||"top"===i&&g||"bottom"===i&&m,y=-1!==["top","bottom"].indexOf(i),b=!!t.flipVariations&&(y&&"start"===o&&f||y&&"end"===o&&p||!y&&"start"===o&&g||!y&&"end"===o&&m)||!!t.flipVariationsByContent&&(y&&"start"===o&&p||y&&"end"===o&&f||!y&&"start"===o&&m||!y&&"end"===o&&g);(d||v||b)&&(e.flipped=!0,(d||v)&&(i=a[l+1]),b&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=i+(o?"-"+o:""),e.offsets.popper=Z({},e.offsets.popper,T(e.instance.popper,e.offsets.reference,e.placement)),e=D(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],i=e.offsets,r=i.popper,o=i.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return r[a?"left":"top"]=o[n]-(s?r[a?"width":"height"]:0),e.placement=C(t),e.offsets.popper=p(r),e}},hide:{order:800,enabled:!0,fn:function(e){if(!j(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=k(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,i=t.y,r=e.offsets.popper,o=k(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s,l,u=void 0===o?t.gpuAcceleration:o,c=a(e.instance.popper),h=g(c),d={position:r.position},f=function(e,t){var n=e.offsets,i=n.popper,r=z,o=function(e){return e},a=r(n.reference.width),s=r(i.width),l=-1!==["left","right"].indexOf(e.placement),u=-1!==e.placement.indexOf("-"),c=t?l||u||a%2==s%2?r:Y:o,h=t?r:o;return{left:c(1==a%2&&1==s%2&&!u&&t?i.left-1:i.left),top:h(i.top),bottom:h(i.bottom),right:c(i.right)}}(e,2>window.devicePixelRatio||!J),p="bottom"===n?"top":"bottom",m="right"===i?"left":"right",v=P("transform");if(l="bottom"==p?"HTML"===c.nodeName?-c.clientHeight+f.bottom:-h.height+f.bottom:f.top,s="right"==m?"HTML"===c.nodeName?-c.clientWidth+f.right:-h.width+f.right:f.left,u&&v)d[v]="translate3d("+s+"px, "+l+"px, 0)",d[p]=0,d[m]=0,d.willChange="transform";else{var y="right"==m?-1:1;d[p]=l*("bottom"==p?-1:1),d[m]=s*y,d.willChange=p+", "+m}return e.attributes=Z({},{"x-placement":e.placement},e.attributes),e.styles=Z({},d,e.styles),e.arrowStyles=Z({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){return B(e.instance.popper,e.styles),function(e,t){Object.keys(t).forEach((function(n){!1===t[n]?e.removeAttribute(n):e.setAttribute(n,t[n])}))}(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&B(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,i,r){var o=E(r,t,e,n.positionFixed),a=_(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),B(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},ne})),function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,(function(e,t){"use strict";var n=[],i=e.document,r=Object.getPrototypeOf,o=n.slice,a=n.concat,s=n.push,l=n.indexOf,u={},c=u.toString,h=u.hasOwnProperty,d=h.toString,f=d.call(Object),p={},g=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},m=function(e){return null!=e&&e===e.window},v={type:!0,src:!0,nonce:!0,noModule:!0};function y(e,t,n){var r,o,a=(n=n||i).createElement("script");if(a.text=e,t)for(r in v)(o=t[r]||t.getAttribute&&t.getAttribute(r))&&a.setAttribute(r,o);n.head.appendChild(a).parentNode.removeChild(a)}function b(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?u[c.call(e)]||"object":typeof e}var x=function(e,t){return new x.fn.init(e,t)},w=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function _(e){var t=!!e&&"length"in e&&e.length,n=b(e);return!g(e)&&!m(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}x.fn=x.prototype={jquery:"3.4.1",constructor:x,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=x.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return x.each(this,e)},map:function(e){return this.pushStack(x.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},x.extend=x.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||g(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)i=e[t],"__proto__"!==t&&a!==i&&(u&&i&&(x.isPlainObject(i)||(r=Array.isArray(i)))?(n=a[t],o=r&&!Array.isArray(n)?[]:r||x.isPlainObject(n)?n:{},r=!1,a[t]=x.extend(u,o,i)):void 0!==i&&(a[t]=i));return a},x.extend({expando:"jQuery"+("3.4.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==c.call(e)||(t=r(e))&&("function"!=typeof(n=h.call(t,"constructor")&&t.constructor)||d.call(n)!==f))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t){y(e,{nonce:t&&t.nonce})},each:function(e,t){var n,i=0;if(_(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(w,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(_(Object(e))?x.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:l.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,a=!n;r<o;r++)!t(e[r],r)!==a&&i.push(e[r]);return i},map:function(e,t,n){var i,r,o=0,s=[];if(_(e))for(i=e.length;o<i;o++)null!=(r=t(e[o],o,n))&&s.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&s.push(r);return a.apply([],s)},guid:1,support:p}),"function"==typeof Symbol&&(x.fn[Symbol.iterator]=n[Symbol.iterator]),x.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){u["[object "+t+"]"]=t.toLowerCase()}));var E=function(e){var t,n,i,r,o,a,s,l,u,c,h,d,f,p,g,m,v,y,b,x="sizzle"+1*new Date,w=e.document,_=0,E=0,S=le(),C=le(),T=le(),k=le(),D=function(e,t){return e===t&&(h=!0),0},A={}.hasOwnProperty,O=[],P=O.pop,M=O.push,I=O.push,N=O.slice,L=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",j="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",F="\\["+B+"*("+j+")(?:"+B+"*([*^$|!~]?=)"+B+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+j+"))|)"+B+"*\\]",H=":("+j+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",Y=new RegExp(B+"+","g"),z=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),W=new RegExp("^"+B+"*,"+B+"*"),$=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),V=new RegExp(B+"|>"),q=new RegExp(H),X=new RegExp("^"+j+"$"),U={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+H),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},G=/HTML$/i,K=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\([\\da-f]{1,6}"+B+"?|("+B+")|.)","ig"),ne=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},ie=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,re=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){d()},ae=xe((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{I.apply(O=N.call(w.childNodes),w.childNodes)}catch(Ce){I={apply:O.length?function(e,t){M.apply(e,N.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function se(e,t,i,r){var o,s,u,c,h,p,v,y=t&&t.ownerDocument,_=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==_&&9!==_&&11!==_)return i;if(!r&&((t?t.ownerDocument||t:w)!==f&&d(t),t=t||f,g)){if(11!==_&&(h=J.exec(e)))if(o=h[1]){if(9===_){if(!(u=t.getElementById(o)))return i;if(u.id===o)return i.push(u),i}else if(y&&(u=y.getElementById(o))&&b(t,u)&&u.id===o)return i.push(u),i}else{if(h[2])return I.apply(i,t.getElementsByTagName(e)),i;if((o=h[3])&&n.getElementsByClassName&&t.getElementsByClassName)return I.apply(i,t.getElementsByClassName(o)),i}if(n.qsa&&!k[e+" "]&&(!m||!m.test(e))&&(1!==_||"object"!==t.nodeName.toLowerCase())){if(v=e,y=t,1===_&&V.test(e)){for((c=t.getAttribute("id"))?c=c.replace(ie,re):t.setAttribute("id",c=x),s=(p=a(e)).length;s--;)p[s]="#"+c+" "+be(p[s]);v=p.join(","),y=ee.test(e)&&ve(t.parentNode)||t}try{return I.apply(i,y.querySelectorAll(v)),i}catch(E){k(e,!0)}finally{c===x&&t.removeAttribute("id")}}}return l(e.replace(z,"$1"),t,i,r)}function le(){var e=[];return function t(n,r){return e.push(n+" ")>i.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function ue(e){return e[x]=!0,e}function ce(e){var t=f.createElement("fieldset");try{return!!e(t)}catch(Ce){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function he(e,t){for(var n=e.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=t}function de(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function fe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ge(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function me(e){return ue((function(t){return t=+t,ue((function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))}))}))}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=se.support={},o=se.isXML=function(e){var t=(e.ownerDocument||e).documentElement;return!G.test(e.namespaceURI||t&&t.nodeName||"HTML")},d=se.setDocument=function(e){var t,r,a=e?e.ownerDocument||e:w;return a!==f&&9===a.nodeType&&a.documentElement?(p=(f=a).documentElement,g=!o(f),w!==f&&(r=f.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",oe,!1):r.attachEvent&&r.attachEvent("onunload",oe)),n.attributes=ce((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=ce((function(e){return e.appendChild(f.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=Z.test(f.getElementsByClassName),n.getById=ce((function(e){return p.appendChild(e).id=x,!f.getElementsByName||!f.getElementsByName(x).length})),n.getById?(i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n,i,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},v=[],m=[],(n.qsa=Z.test(f.querySelectorAll))&&(ce((function(e){p.appendChild(e).innerHTML="<a id='"+x+"'></a><select id='"+x+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+B+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+B+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+x+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+x+"+*").length||m.push(".#.+[+~]")})),ce((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=f.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+B+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")}))),(n.matchesSelector=Z.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ce((function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),v.push("!=",H)})),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),t=Z.test(p.compareDocumentPosition),b=t||Z.test(p.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},D=t?function(e,t){if(e===t)return h=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===i?e===f||e.ownerDocument===w&&b(w,e)?-1:t===f||t.ownerDocument===w&&b(w,t)?1:c?L(c,e)-L(c,t):0:4&i?-1:1)}:function(e,t){if(e===t)return h=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!r||!o)return e===f?-1:t===f?1:r?-1:o?1:c?L(c,e)-L(c,t):0;if(r===o)return de(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?de(a[i],s[i]):a[i]===w?-1:s[i]===w?1:0},f):f},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&&d(e),n.matchesSelector&&g&&!k[t+" "]&&(!v||!v.test(t))&&(!m||!m.test(t)))try{var i=y.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(Ce){k(t,!0)}return se(t,f,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!==f&&d(e),b(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!==f&&d(e);var r=i.attrHandle[t.toLowerCase()],o=r&&A.call(i.attrHandle,t.toLowerCase())?r(e,t,!g):void 0;return void 0!==o?o:n.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},se.escape=function(e){return(e+"").replace(ie,re)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,i=[],r=0,o=0;if(h=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(D),h){for(;t=e[o++];)t===e[o]&&(r=i.push(o));for(;r--;)e.splice(i[r],1)}return c=null,e},r=se.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=r(t);return n},(i=se.selectors={cacheLength:50,createPseudo:ue,match:U,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return U.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&q.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|"+B+")"+e+"("+B+"|$)"))&&S(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(i){var r=se.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r.replace(Y," ")+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var u,c,h,d,f,p,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(m){if(o){for(;g;){for(d=t;d=d[g];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&y){for(b=(f=(u=(c=(h=(d=m)[x]||(d[x]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]||[])[0]===_&&u[1])&&u[2],d=f&&m.childNodes[f];d=++f&&d&&d[g]||(b=f=0)||p.pop();)if(1===d.nodeType&&++b&&d===t){c[e]=[_,f,b];break}}else if(y&&(b=f=(u=(c=(h=(d=t)[x]||(d[x]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]||[])[0]===_&&u[1]),!1===b)for(;(d=++f&&d&&d[g]||(b=f=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++b||(y&&((c=(h=d[x]||(d[x]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]=[_,b]),d!==t)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return r[x]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ue((function(e,n){for(var i,o=r(e,t),a=o.length;a--;)e[i=L(e,o[a])]=!(n[i]=o[a])})):function(e){return r(e,0,n)}):r}},pseudos:{not:ue((function(e){var t=[],n=[],i=s(e.replace(z,"$1"));return i[x]?ue((function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}})),has:ue((function(e){return function(t){return se(e,t).length>0}})),contains:ue((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||r(t)).indexOf(e)>-1}})),lang:ue((function(e){return X.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return K.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:me((function(){return[0]})),last:me((function(e,t){return[t-1]})),eq:me((function(e,t,n){return[n<0?n+t:n]})),even:me((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:me((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:me((function(e,t,n){for(var i=n<0?n+t:n>t?t:n;--i>=0;)e.push(i);return e})),gt:me((function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e}))}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=fe(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=pe(t);function ye(){}function be(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function xe(e,t,n){var i=t.dir,r=t.next,o=r||i,a=n&&"parentNode"===o,s=E++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||a)return e(t,n,r);return!1}:function(t,n,l){var u,c,h,d=[_,s];if(l){for(;t=t[i];)if((1===t.nodeType||a)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||a)if(c=(h=t[x]||(t[x]={}))[t.uniqueID]||(h[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[i]||t;else{if((u=c[o])&&u[0]===_&&u[1]===s)return d[2]=u[2];if(c[o]=d,d[2]=e(t,n,l))return!0}return!1}}function we(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function _e(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),u&&t.push(s)));return a}function Ee(e,t,n,i,r,o){return i&&!i[x]&&(i=Ee(i)),r&&!r[x]&&(r=Ee(r,o)),ue((function(o,a,s,l){var u,c,h,d=[],f=[],p=a.length,g=o||function(e,t,n){for(var i=0,r=t.length;i<r;i++)se(e,t[i],n);return n}(t||"*",s.nodeType?[s]:s,[]),m=!e||!o&&t?g:_e(g,d,e,s,l),v=n?r||(o?e:p||i)?[]:a:m;if(n&&n(m,v,s,l),i)for(u=_e(v,f),i(u,[],s,l),c=u.length;c--;)(h=u[c])&&(v[f[c]]=!(m[f[c]]=h));if(o){if(r||e){if(r){for(u=[],c=v.length;c--;)(h=v[c])&&u.push(m[c]=h);r(null,v=[],u,l)}for(c=v.length;c--;)(h=v[c])&&(u=r?L(o,h):d[c])>-1&&(o[u]=!(a[u]=h))}}else v=_e(v===a?v.splice(p,v.length):v),r?r(null,a,v,l):I.apply(a,v)}))}function Se(e){for(var t,n,r,o=e.length,a=i.relative[e[0].type],s=a||i.relative[" "],l=a?1:0,c=xe((function(e){return e===t}),s,!0),h=xe((function(e){return L(t,e)>-1}),s,!0),d=[function(e,n,i){var r=!a&&(i||n!==u)||((t=n).nodeType?c(e,n,i):h(e,n,i));return t=null,r}];l<o;l++)if(n=i.relative[e[l].type])d=[xe(we(d),n)];else{if((n=i.filter[e[l].type].apply(null,e[l].matches))[x]){for(r=++l;r<o&&!i.relative[e[r].type];r++);return Ee(l>1&&we(d),l>1&&be(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(z,"$1"),n,l<r&&Se(e.slice(l,r)),r<o&&Se(e=e.slice(r)),r<o&&be(e))}d.push(n)}return we(d)}return ye.prototype=i.filters=i.pseudos,i.setFilters=new ye,a=se.tokenize=function(e,t){var n,r,o,a,s,l,u,c=C[e+" "];if(c)return t?0:c.slice(0);for(s=e,l=[],u=i.preFilter;s;){for(a in n&&!(r=W.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),n=!1,(r=$.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(z," ")}),s=s.slice(n.length)),i.filter)!(r=U[a].exec(s))||u[a]&&!(r=u[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?se.error(e):C(e,l).slice(0)},s=se.compile=function(e,t){var n,r=[],o=[],s=T[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=Se(t[n]))[x]?r.push(s):o.push(s);(s=T(e,function(e,t){var n=t.length>0,r=e.length>0,o=function(o,a,s,l,c){var h,p,m,v=0,y="0",b=o&&[],x=[],w=u,E=o||r&&i.find.TAG("*",c),S=_+=null==w?1:Math.random()||.1,C=E.length;for(c&&(u=a===f||a||c);y!==C&&null!=(h=E[y]);y++){if(r&&h){for(p=0,a||h.ownerDocument===f||(d(h),s=!g);m=e[p++];)if(m(h,a||f,s)){l.push(h);break}c&&(_=S)}n&&((h=!m&&h)&&v--,o&&b.push(h))}if(v+=y,n&&y!==v){for(p=0;m=t[p++];)m(b,x,a,s);if(o){if(v>0)for(;y--;)b[y]||x[y]||(x[y]=P.call(l));x=_e(x)}I.apply(l,x),c&&!o&&x.length>0&&v+t.length>1&&se.uniqueSort(l)}return c&&(_=S,u=w),b};return n?ue(o):o}(o,r))).selector=e}return s},l=se.select=function(e,t,n,r){var o,l,u,c,h,d="function"==typeof e&&e,f=!r&&a(e=d.selector||e);if(n=n||[],1===f.length){if((l=f[0]=f[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&9===t.nodeType&&g&&i.relative[l[1].type]){if(!(t=(i.find.ID(u.matches[0].replace(te,ne),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(o=U.needsContext.test(e)?0:l.length;o--&&!i.relative[c=(u=l[o]).type];)if((h=i.find[c])&&(r=h(u.matches[0].replace(te,ne),ee.test(l[0].type)&&ve(t.parentNode)||t))){if(l.splice(o,1),!(e=r.length&&be(l)))return I.apply(n,r),n;break}}return(d||s(e,f))(r,t,!g,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},n.sortStable=x.split("").sort(D).join("")===x,n.detectDuplicates=!!h,d(),n.sortDetached=ce((function(e){return 1&e.compareDocumentPosition(f.createElement("fieldset"))})),ce((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||he("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&ce((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||he("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ce((function(e){return null==e.getAttribute("disabled")}))||he(R,(function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null})),se}(e);x.find=E,x.expr=E.selectors,x.expr[":"]=x.expr.pseudos,x.uniqueSort=x.unique=E.uniqueSort,x.text=E.getText,x.isXMLDoc=E.isXML,x.contains=E.contains,x.escapeSelector=E.escape;var S=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&x(e).is(n))break;i.push(e)}return i},C=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},T=x.expr.match.needsContext;function k(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function A(e,t,n){return g(t)?x.grep(e,(function(e,i){return!!t.call(e,i,e)!==n})):t.nodeType?x.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?x.grep(e,(function(e){return l.call(t,e)>-1!==n})):x.filter(t,e,n)}x.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?x.find.matchesSelector(i,e)?[i]:[]:x.find.matches(e,x.grep(t,(function(e){return 1===e.nodeType})))},x.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(x(e).filter((function(){for(t=0;t<i;t++)if(x.contains(r[t],this))return!0})));for(n=this.pushStack([]),t=0;t<i;t++)x.find(e,r[t],n);return i>1?x.uniqueSort(n):n},filter:function(e){return this.pushStack(A(this,e||[],!1))},not:function(e){return this.pushStack(A(this,e||[],!0))},is:function(e){return!!A(this,"string"==typeof e&&T.test(e)?x(e):e||[],!1).length}});var O,P=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(x.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||O,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:P.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(x.merge(this,x.parseHTML(r[1],(t=t instanceof x?t[0]:t)&&t.nodeType?t.ownerDocument||t:i,!0)),D.test(r[1])&&x.isPlainObject(t))for(r in t)g(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(o=i.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):g(e)?void 0!==n.ready?n.ready(e):e(x):x.makeArray(e,this)}).prototype=x.fn,O=x(i);var M=/^(?:parents|prev(?:Until|All))/,I={children:!0,contents:!0,next:!0,prev:!0};function N(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}x.fn.extend({has:function(e){var t=x(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(x.contains(this,t[e]))return!0}))},closest:function(e,t){var n,i=0,r=this.length,o=[],a="string"!=typeof e&&x(e);if(!T.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&x.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?x.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?l.call(x(e),this[0]):l.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(x.uniqueSort(x.merge(this.get(),x(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),x.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return S(e,"parentNode")},parentsUntil:function(e,t,n){return S(e,"parentNode",n)},next:function(e){return N(e,"nextSibling")},prev:function(e){return N(e,"previousSibling")},nextAll:function(e){return S(e,"nextSibling")},prevAll:function(e){return S(e,"previousSibling")},nextUntil:function(e,t,n){return S(e,"nextSibling",n)},prevUntil:function(e,t,n){return S(e,"previousSibling",n)},siblings:function(e){return C((e.parentNode||{}).firstChild,e)},children:function(e){return C(e.firstChild)},contents:function(e){return void 0!==e.contentDocument?e.contentDocument:(k(e,"template")&&(e=e.content||e),x.merge([],e.childNodes))}},(function(e,t){x.fn[e]=function(n,i){var r=x.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=x.filter(i,r)),this.length>1&&(I[e]||x.uniqueSort(r),M.test(e)&&r.reverse()),this.pushStack(r)}}));var L=/[^\x20\t\r\n\f]+/g;function R(e){return e}function B(e){throw e}function j(e,t,n,i){var r;try{e&&g(r=e.promise)?r.call(e).done(t).fail(n):e&&g(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}x.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return x.each(e.match(L)||[],(function(e,n){t[n]=!0})),t}(e):x.extend({},e);var t,n,i,r,o=[],a=[],s=-1,l=function(){for(r=r||e.once,i=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,r&&(o=n?[]:"")},u={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){x.each(n,(function(n,i){g(i)?e.unique&&u.has(i)||o.push(i):i&&i.length&&"string"!==b(i)&&t(i)}))}(arguments),n&&!t&&l()),this},remove:function(){return x.each(arguments,(function(e,t){for(var n;(n=x.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--})),this},has:function(e){return e?x.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=a=[],n||t||(o=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},x.extend({Deferred:function(t){var n=[["notify","progress",x.Callbacks("memory"),x.Callbacks("memory"),2],["resolve","done",x.Callbacks("once memory"),x.Callbacks("once memory"),0,"resolved"],["reject","fail",x.Callbacks("once memory"),x.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return x.Deferred((function(t){x.each(n,(function(n,i){var r=g(e[i[4]])&&e[i[4]];o[i[1]]((function(){var e=r&&r.apply(this,arguments);e&&g(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[i[0]+"With"](this,r?[e]:arguments)}))})),e=null})).promise()},then:function(t,i,r){var o=0;function a(t,n,i,r){return function(){var s=this,l=arguments,u=function(){var e,u;if(!(t<o)){if((e=i.apply(s,l))===n.promise())throw new TypeError("Thenable self-resolution");g(u=e&&("object"==typeof e||"function"==typeof e)&&e.then)?r?u.call(e,a(o,n,R,r),a(o,n,B,r)):u.call(e,a(++o,n,R,r),a(o,n,B,r),a(o,n,R,n.notifyWith)):(i!==R&&(s=void 0,l=[e]),(r||n.resolveWith)(s,l))}},c=r?u:function(){try{u()}catch(e){x.Deferred.exceptionHook&&x.Deferred.exceptionHook(e,c.stackTrace),t+1>=o&&(i!==B&&(s=void 0,l=[e]),n.rejectWith(s,l))}};t?c():(x.Deferred.getStackHook&&(c.stackTrace=x.Deferred.getStackHook()),e.setTimeout(c))}}return x.Deferred((function(e){n[0][3].add(a(0,e,g(r)?r:R,e.notifyWith)),n[1][3].add(a(0,e,g(t)?t:R)),n[2][3].add(a(0,e,g(i)?i:B))})).promise()},promise:function(e){return null!=e?x.extend(e,r):r}},o={};return x.each(n,(function(e,t){var a=t[2],s=t[5];r[t[1]]=a.add,s&&a.add((function(){i=s}),n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith})),r.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,i=Array(n),r=o.call(arguments),a=x.Deferred(),s=function(e){return function(n){i[e]=this,r[e]=arguments.length>1?o.call(arguments):n,--t||a.resolveWith(i,r)}};if(t<=1&&(j(e,a.done(s(n)).resolve,a.reject,!t),"pending"===a.state()||g(r[n]&&r[n].then)))return a.then();for(;n--;)j(r[n],s(n),a.reject);return a.promise()}});var F=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;x.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&F.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},x.readyException=function(t){e.setTimeout((function(){throw t}))};var H=x.Deferred();function Y(){i.removeEventListener("DOMContentLoaded",Y),e.removeEventListener("load",Y),x.ready()}x.fn.ready=function(e){return H.then(e).catch((function(e){x.readyException(e)})),this},x.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--x.readyWait:x.isReady)||(x.isReady=!0,!0!==e&&--x.readyWait>0||H.resolveWith(i,[x]))}}),x.ready.then=H.then,"complete"===i.readyState||"loading"!==i.readyState&&!i.documentElement.doScroll?e.setTimeout(x.ready):(i.addEventListener("DOMContentLoaded",Y),e.addEventListener("load",Y));var z=function(e,t,n,i,r,o,a){var s=0,l=e.length,u=null==n;if("object"===b(n))for(s in r=!0,n)z(e,t,s,n[s],!0,o,a);else if(void 0!==i&&(r=!0,g(i)||(a=!0),u&&(a?(t.call(e,i),t=null):(u=t,t=function(e,t,n){return u.call(x(e),n)})),t))for(;s<l;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:u?t.call(e):l?t(e[0],n):o},W=/^-ms-/,$=/-([a-z])/g;function V(e,t){return t.toUpperCase()}function q(e){return e.replace(W,"ms-").replace($,V)}var X=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function U(){this.expando=x.expando+U.uid++}U.uid=1,U.prototype={cache:function(e){var t=e[this.expando];return t||(t={},X(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[q(t)]=n;else for(i in t)r[q(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][q(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(q):(t=q(t))in i?[t]:t.match(L)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||x.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!x.isEmptyObject(t)}};var G=new U,K=new U,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Z=/[A-Z]/g;function J(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(Z,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Q.test(e)?JSON.parse(e):e)}(n)}catch(r){}K.set(e,t,n)}else n=void 0;return n}x.extend({hasData:function(e){return K.hasData(e)||G.hasData(e)},data:function(e,t,n){return K.access(e,t,n)},removeData:function(e,t){K.remove(e,t)},_data:function(e,t,n){return G.access(e,t,n)},_removeData:function(e,t){G.remove(e,t)}}),x.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=K.get(o),1===o.nodeType&&!G.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&(i=q(i.slice(5)),J(o,i,r[i]));G.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each((function(){K.set(this,e)})):z(this,(function(t){var n;if(o&&void 0===t)return void 0!==(n=K.get(o,e))?n:void 0!==(n=J(o,e))?n:void 0;this.each((function(){K.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){K.remove(this,e)}))}}),x.extend({queue:function(e,t,n){var i;if(e)return i=G.get(e,t=(t||"fx")+"queue"),n&&(!i||Array.isArray(n)?i=G.access(e,t,x.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){var n=x.queue(e,t=t||"fx"),i=n.length,r=n.shift(),o=x._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,(function(){x.dequeue(e,t)}),o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return G.get(e,n)||G.access(e,n,{empty:x.Callbacks("once memory").add((function(){G.remove(e,[t+"queue",n])}))})}}),x.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?x.queue(this[0],e):void 0===t?this:this.each((function(){var n=x.queue(this,e,t);x._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&x.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){x.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=x.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=G.get(o[a],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],ie=i.documentElement,re=function(e){return x.contains(e.ownerDocument,e)},oe={composed:!0};ie.getRootNode&&(re=function(e){return x.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&re(e)&&"none"===x.css(e,"display")},se=function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in r=n.apply(e,i||[]),t)e.style[o]=a[o];return r};function le(e,t,n,i){var r,o,a=20,s=i?function(){return i.cur()}:function(){return x.css(e,t,"")},l=s(),u=n&&n[3]||(x.cssNumber[t]?"":"px"),c=e.nodeType&&(x.cssNumber[t]||"px"!==u&&+l)&&te.exec(x.css(e,t));if(c&&c[3]!==u){for(u=u||c[3],c=+(l/=2)||1;a--;)x.style(e,t,c+u),(1-o)*(1-(o=s()/l||.5))<=0&&(a=0),c/=o;x.style(e,t,(c*=2)+u),n=n||[]}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}var ue={};function ce(e){var t,n=e.ownerDocument,i=e.nodeName,r=ue[i];return r||(t=n.body.appendChild(n.createElement(i)),r=x.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),ue[i]=r,r)}function he(e,t){for(var n,i,r=[],o=0,a=e.length;o<a;o++)(i=e[o]).style&&(n=i.style.display,t?("none"===n&&(r[o]=G.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&ae(i)&&(r[o]=ce(i))):"none"!==n&&(r[o]="none",G.set(i,"display",n)));for(o=0;o<a;o++)null!=r[o]&&(e[o].style.display=r[o]);return e}x.fn.extend({show:function(){return he(this,!0)},hide:function(){return he(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ae(this)?x(this).show():x(this).hide()}))}});var de=/^(?:checkbox|radio)$/i,fe=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,pe=/^$|^module$|\/(?:java|ecma)script/i,ge={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function me(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&k(e,t)?x.merge([e],n):n}function ve(e,t){for(var n=0,i=e.length;n<i;n++)G.set(e[n],"globalEval",!t||G.get(t[n],"globalEval"))}ge.optgroup=ge.option,ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td;var ye,be,xe=/<|&#?\w+;/;function we(e,t,n,i,r){for(var o,a,s,l,u,c,h=t.createDocumentFragment(),d=[],f=0,p=e.length;f<p;f++)if((o=e[f])||0===o)if("object"===b(o))x.merge(d,o.nodeType?[o]:o);else if(xe.test(o)){for(a=a||h.appendChild(t.createElement("div")),s=(fe.exec(o)||["",""])[1].toLowerCase(),a.innerHTML=(l=ge[s]||ge._default)[1]+x.htmlPrefilter(o)+l[2],c=l[0];c--;)a=a.lastChild;x.merge(d,a.childNodes),(a=h.firstChild).textContent=""}else d.push(t.createTextNode(o));for(h.textContent="",f=0;o=d[f++];)if(i&&x.inArray(o,i)>-1)r&&r.push(o);else if(u=re(o),a=me(h.appendChild(o),"script"),u&&ve(a),n)for(c=0;o=a[c++];)pe.test(o.type||"")&&n.push(o);return h}ye=i.createDocumentFragment().appendChild(i.createElement("div")),(be=i.createElement("input")).setAttribute("type","radio"),be.setAttribute("checked","checked"),be.setAttribute("name","t"),ye.appendChild(be),p.checkClone=ye.cloneNode(!0).cloneNode(!0).lastChild.checked,ye.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!ye.cloneNode(!0).lastChild.defaultValue;var _e=/^key/,Ee=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Se=/^([^.]*)(?:\.(.+)|)/;function Ce(){return!0}function Te(){return!1}function ke(e,t){return e===function(){try{return i.activeElement}catch(e){}}()==("focus"===t)}function De(e,t,n,i,r,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(i=i||n,n=void 0),t)De(e,s,n,i,t[s],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Te;else if(!r)return e;return 1===o&&(a=r,(r=function(e){return x().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=x.guid++)),e.each((function(){x.event.add(this,t,r,i,n)}))}function Ae(e,t,n){n?(G.set(e,t,!1),x.event.add(e,t,{namespace:!1,handler:function(e){var i,r,a=G.get(this,t);if(1&e.isTrigger&&this[t]){if(a.length)(x.event.special[t]||{}).delegateType&&e.stopPropagation();else if(a=o.call(arguments),G.set(this,t,a),i=n(this,t),this[t](),a!==(r=G.get(this,t))||i?G.set(this,t,!1):r={},a!==r)return e.stopImmediatePropagation(),e.preventDefault(),r.value}else a.length&&(G.set(this,t,{value:x.event.trigger(x.extend(a[0],x.Event.prototype),a.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===G.get(e,t)&&x.event.add(e,t,Ce)}x.event={global:{},add:function(e,t,n,i,r){var o,a,s,l,u,c,h,d,f,p,g,m=G.get(e);if(m)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&x.find.matchesSelector(ie,r),n.guid||(n.guid=x.guid++),(l=m.events)||(l=m.events={}),(a=m.handle)||(a=m.handle=function(t){return void 0!==x&&x.event.triggered!==t.type?x.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(L)||[""]).length;u--;)f=g=(s=Se.exec(t[u])||[])[1],p=(s[2]||"").split(".").sort(),f&&(h=x.event.special[f]||{},h=x.event.special[f=(r?h.delegateType:h.bindType)||f]||{},c=x.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&x.expr.match.needsContext.test(r),namespace:p.join(".")},o),(d=l[f])||((d=l[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,i,p,a)||e.addEventListener&&e.addEventListener(f,a)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,c):d.push(c),x.event.global[f]=!0)},remove:function(e,t,n,i,r){var o,a,s,l,u,c,h,d,f,p,g,m=G.hasData(e)&&G.get(e);if(m&&(l=m.events)){for(u=(t=(t||"").match(L)||[""]).length;u--;)if(f=g=(s=Se.exec(t[u])||[])[1],p=(s[2]||"").split(".").sort(),f){for(h=x.event.special[f]||{},d=l[f=(i?h.delegateType:h.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)c=d[o],!r&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(e,c));a&&!d.length&&(h.teardown&&!1!==h.teardown.call(e,p,m.handle)||x.removeEvent(e,f,m.handle),delete l[f])}else for(f in l)x.event.remove(e,f+t[u],n,i,!0);x.isEmptyObject(l)&&G.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,a,s=x.event.fix(e),l=new Array(arguments.length),u=(G.get(this,"events")||{})[s.type]||[],c=x.event.special[s.type]||{};for(l[0]=s,t=1;t<arguments.length;t++)l[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=x.event.handlers.call(this,s,u),t=0;(r=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==o.namespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(i=((x.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(s.result=i)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,i,r,o,a,s=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(o=[],a={},n=0;n<l;n++)void 0===a[r=(i=t[n]).selector+" "]&&(a[r]=i.needsContext?x(r,this).index(u)>-1:x.find(r,this,null,[u]).length),a[r]&&o.push(i);o.length&&s.push({elem:u,handlers:o})}return u=this,l<t.length&&s.push({elem:u,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(x.Event.prototype,e,{enumerable:!0,configurable:!0,get:g(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[x.expando]?e:new x.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return de.test(t.type)&&t.click&&k(t,"input")&&Ae(t,"click",Ce),!1},trigger:function(e){var t=this||e;return de.test(t.type)&&t.click&&k(t,"input")&&Ae(t,"click"),!0},_default:function(e){var t=e.target;return de.test(t.type)&&t.click&&k(t,"input")&&G.get(t,"click")||k(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},x.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},x.Event=function(e,t){if(!(this instanceof x.Event))return new x.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ce:Te,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&x.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[x.expando]=!0},x.Event.prototype={constructor:x.Event,isDefaultPrevented:Te,isPropagationStopped:Te,isImmediatePropagationStopped:Te,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ce,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ce,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ce,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},x.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&_e.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ee.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},x.event.addProp),x.each({focus:"focusin",blur:"focusout"},(function(e,t){x.event.special[e]={setup:function(){return Ae(this,e,ke),!1},trigger:function(){return Ae(this,e),!0},delegateType:t}})),x.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){x.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return r&&(r===i||x.contains(i,r))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}})),x.fn.extend({on:function(e,t,n,i){return De(this,e,t,n,i)},one:function(e,t,n,i){return De(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,x(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Te),this.each((function(){x.event.remove(this,e,n,t)}))}});var Oe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Pe=/<script|<style|<link/i,Me=/checked\s*(?:[^=]|=\s*.checked.)/i,Ie=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ne(e,t){return k(e,"table")&&k(11!==t.nodeType?t:t.firstChild,"tr")&&x(e).children("tbody")[0]||e}function Le(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Re(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Be(e,t){var n,i,r,o,a,s,l,u;if(1===t.nodeType){if(G.hasData(e)&&(o=G.access(e),a=G.set(t,o),u=o.events))for(r in delete a.handle,a.events={},u)for(n=0,i=u[r].length;n<i;n++)x.event.add(t,r,u[r][n]);K.hasData(e)&&(s=K.access(e),l=x.extend({},s),K.set(t,l))}}function je(e,t){var n=t.nodeName.toLowerCase();"input"===n&&de.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Fe(e,t,n,i){t=a.apply([],t);var r,o,s,l,u,c,h=0,d=e.length,f=d-1,m=t[0],v=g(m);if(v||d>1&&"string"==typeof m&&!p.checkClone&&Me.test(m))return e.each((function(r){var o=e.eq(r);v&&(t[0]=m.call(this,r,o.html())),Fe(o,t,n,i)}));if(d&&(o=(r=we(t,e[0].ownerDocument,!1,e,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(l=(s=x.map(me(r,"script"),Le)).length;h<d;h++)u=r,h!==f&&(u=x.clone(u,!0,!0),l&&x.merge(s,me(u,"script"))),n.call(e[h],u,h);if(l)for(c=s[s.length-1].ownerDocument,x.map(s,Re),h=0;h<l;h++)pe.test((u=s[h]).type||"")&&!G.access(u,"globalEval")&&x.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?x._evalUrl&&!u.noModule&&x._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")}):y(u.textContent.replace(Ie,""),u,c))}return e}function He(e,t,n){for(var i,r=t?x.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||x.cleanData(me(i)),i.parentNode&&(n&&re(i)&&ve(me(i,"script")),i.parentNode.removeChild(i));return e}x.extend({htmlPrefilter:function(e){return e.replace(Oe,"<$1></$2>")},clone:function(e,t,n){var i,r,o,a,s=e.cloneNode(!0),l=re(e);if(!(p.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||x.isXMLDoc(e)))for(a=me(s),i=0,r=(o=me(e)).length;i<r;i++)je(o[i],a[i]);if(t)if(n)for(o=o||me(e),a=a||me(s),i=0,r=o.length;i<r;i++)Be(o[i],a[i]);else Be(e,s);return(a=me(s,"script")).length>0&&ve(a,!l&&me(e,"script")),s},cleanData:function(e){for(var t,n,i,r=x.event.special,o=0;void 0!==(n=e[o]);o++)if(X(n)){if(t=n[G.expando]){if(t.events)for(i in t.events)r[i]?x.event.remove(n,i):x.removeEvent(n,i,t.handle);n[G.expando]=void 0}n[K.expando]&&(n[K.expando]=void 0)}}}),x.fn.extend({detach:function(e){return He(this,e,!0)},remove:function(e){return He(this,e)},text:function(e){return z(this,(function(e){return void 0===e?x.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Fe(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ne(this,e).appendChild(e)}))},prepend:function(){return Fe(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ne(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Fe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Fe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(x.cleanData(me(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return x.clone(this,e,t)}))},html:function(e){return z(this,(function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Pe.test(e)&&!ge[(fe.exec(e)||["",""])[1].toLowerCase()]){e=x.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(x.cleanData(me(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Fe(this,arguments,(function(t){var n=this.parentNode;x.inArray(this,e)<0&&(x.cleanData(me(this)),n&&n.replaceChild(t,this))}),e)}}),x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){x.fn[e]=function(e){for(var n,i=[],r=x(e),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),x(r[a])[t](n),s.apply(i,n.get());return this.pushStack(i)}}));var Ye=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),ze=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},We=new RegExp(ne.join("|"),"i");function $e(e,t,n){var i,r,o,a,s=e.style;return(n=n||ze(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||re(e)||(a=x.style(e,t)),!p.pixelBoxStyles()&&Ye.test(a)&&We.test(t)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function Ve(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ie.appendChild(u).appendChild(c);var t=e.getComputedStyle(c);r="1%"!==t.top,l=12===n(t.marginLeft),c.style.right="60%",s=36===n(t.right),o=36===n(t.width),c.style.position="absolute",a=12===n(c.offsetWidth/3),ie.removeChild(u),c=null}}function n(e){return Math.round(parseFloat(e))}var r,o,a,s,l,u=i.createElement("div"),c=i.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===c.style.backgroundClip,x.extend(p,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),a}}))}();var qe=["Webkit","Moz","ms"],Xe=i.createElement("div").style,Ue={};function Ge(e){return x.cssProps[e]||Ue[e]||(e in Xe?e:Ue[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=qe.length;n--;)if((e=qe[n]+t)in Xe)return e}(e)||e)}var Ke=/^(none|table(?!-c[ea]).+)/,Qe=/^--/,Ze={position:"absolute",visibility:"hidden",display:"block"},Je={letterSpacing:"0",fontWeight:"400"};function et(e,t,n){var i=te.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function tt(e,t,n,i,r,o){var a="width"===t?1:0,s=0,l=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=x.css(e,n+ne[a],!0,r)),i?("content"===n&&(l-=x.css(e,"padding"+ne[a],!0,r)),"margin"!==n&&(l-=x.css(e,"border"+ne[a]+"Width",!0,r))):(l+=x.css(e,"padding"+ne[a],!0,r),"padding"!==n?l+=x.css(e,"border"+ne[a]+"Width",!0,r):s+=x.css(e,"border"+ne[a]+"Width",!0,r));return!i&&o>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-s-.5))||0),l}function nt(e,t,n){var i=ze(e),r=(!p.boxSizingReliable()||n)&&"border-box"===x.css(e,"boxSizing",!1,i),o=r,a=$e(e,t,i),s="offset"+t[0].toUpperCase()+t.slice(1);if(Ye.test(a)){if(!n)return a;a="auto"}return(!p.boxSizingReliable()&&r||"auto"===a||!parseFloat(a)&&"inline"===x.css(e,"display",!1,i))&&e.getClientRects().length&&(r="border-box"===x.css(e,"boxSizing",!1,i),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+tt(e,t,n||(r?"border":"content"),o,i,a)+"px"}function it(e,t,n,i,r){return new it.prototype.init(e,t,n,i,r)}x.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=$e(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=q(t),l=Qe.test(t),u=e.style;if(l||(t=Ge(s)),a=x.cssHooks[t]||x.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:u[t];"string"==(o=typeof n)&&(r=te.exec(n))&&r[1]&&(n=le(e,t,r),o="number"),null!=n&&n==n&&("number"!==o||l||(n+=r&&r[3]||(x.cssNumber[s]?"":"px")),p.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(l?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,i){var r,o,a,s=q(t);return Qe.test(t)||(t=Ge(s)),(a=x.cssHooks[t]||x.cssHooks[s])&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=$e(e,t,i)),"normal"===r&&t in Je&&(r=Je[t]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),x.each(["height","width"],(function(e,t){x.cssHooks[t]={get:function(e,n,i){if(n)return!Ke.test(x.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?nt(e,t,i):se(e,Ze,(function(){return nt(e,t,i)}))},set:function(e,n,i){var r,o=ze(e),a=!p.scrollboxSize()&&"absolute"===o.position,s=(a||i)&&"border-box"===x.css(e,"boxSizing",!1,o),l=i?tt(e,t,i,s,o):0;return s&&a&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-tt(e,t,"border",!1,o)-.5)),l&&(r=te.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=x.css(e,t)),et(0,n,l)}}})),x.cssHooks.marginLeft=Ve(p.reliableMarginLeft,(function(e,t){if(t)return(parseFloat($e(e,"marginLeft"))||e.getBoundingClientRect().left-se(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),x.each({margin:"",padding:"",border:"Width"},(function(e,t){x.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+ne[i]+t]=o[i]||o[i-2]||o[0];return r}},"margin"!==e&&(x.cssHooks[e+t].set=et)})),x.fn.extend({css:function(e,t){return z(this,(function(e,t,n){var i,r,o={},a=0;if(Array.isArray(t)){for(i=ze(e),r=t.length;a<r;a++)o[t[a]]=x.css(e,t[a],!1,i);return o}return void 0!==n?x.style(e,t,n):x.css(e,t)}),e,t,arguments.length>1)}}),x.Tween=it,(it.prototype={constructor:it,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||x.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(x.cssNumber[n]?"":"px")},cur:function(){var e=it.propHooks[this.prop];return e&&e.get?e.get(this):it.propHooks._default.get(this)},run:function(e){var t,n=it.propHooks[this.prop];return this.pos=t=this.options.duration?x.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):it.propHooks._default.set(this),this}}).init.prototype=it.prototype,(it.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=x.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){x.fx.step[e.prop]?x.fx.step[e.prop](e):1!==e.elem.nodeType||!x.cssHooks[e.prop]&&null==e.elem.style[Ge(e.prop)]?e.elem[e.prop]=e.now:x.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=it.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},x.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},x.fx=it.prototype.init,x.fx.step={};var rt,ot,at=/^(?:toggle|show|hide)$/,st=/queueHooks$/;function lt(){ot&&(!1===i.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(lt):e.setTimeout(lt,x.fx.interval),x.fx.tick())}function ut(){return e.setTimeout((function(){rt=void 0})),rt=Date.now()}function ct(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=ne[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function ht(e,t,n){for(var i,r=(dt.tweeners[t]||[]).concat(dt.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,t,e))return i}function dt(e,t,n){var i,r,o=0,a=dt.prefilters.length,s=x.Deferred().always((function(){delete l.elem})),l=function(){if(r)return!1;for(var t=rt||ut(),n=Math.max(0,u.startTime+u.duration-t),i=1-(n/u.duration||0),o=0,a=u.tweens.length;o<a;o++)u.tweens[o].run(i);return s.notifyWith(e,[u,i,n]),i<1&&a?n:(a||s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:x.extend({},t),opts:x.extend(!0,{specialEasing:{},easing:x.easing._default},n),originalProperties:t,originalOptions:n,startTime:rt||ut(),duration:n.duration,tweens:[],createTween:function(t,n){var i=x.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)u.tweens[n].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),c=u.props;for(function(e,t){var n,i,r,o,a;for(n in e)if(r=t[i=q(n)],o=e[n],Array.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(a=x.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r}(c,u.opts.specialEasing);o<a;o++)if(i=dt.prefilters[o].call(u,e,c,u.opts))return g(i.stop)&&(x._queueHooks(u.elem,u.opts.queue).stop=i.stop.bind(i)),i;return x.map(c,ht,u),g(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),x.fx.timer(x.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u}x.Animation=x.extend(dt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return le(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){g(e)?(t=e,e=["*"]):e=e.match(L);for(var n,i=0,r=e.length;i<r;i++)(dt.tweeners[n=e[i]]=dt.tweeners[n]||[]).unshift(t)},prefilters:[function(e,t,n){var i,r,o,a,s,l,u,c,h="width"in t||"height"in t,d=this,f={},p=e.style,g=e.nodeType&&ae(e),m=G.get(e,"fxshow");for(i in n.queue||(null==(a=x._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,d.always((function(){d.always((function(){a.unqueued--,x.queue(e,"fx").length||a.empty.fire()}))}))),t)if(at.test(r=t[i])){if(delete t[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;g=!0}f[i]=m&&m[i]||x.style(e,i)}if((l=!x.isEmptyObject(t))||!x.isEmptyObject(f))for(i in h&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(u=m&&m.display)&&(u=G.get(e,"display")),"none"===(c=x.css(e,"display"))&&(u?c=u:(he([e],!0),u=e.style.display||u,c=x.css(e,"display"),he([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===x.css(e,"float")&&(l||(d.done((function(){p.display=u})),null==u&&(u="none"===(c=p.display)?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}))),l=!1,f)l||(m?"hidden"in m&&(g=m.hidden):m=G.access(e,"fxshow",{display:u}),o&&(m.hidden=!g),g&&he([e],!0),d.done((function(){for(i in g||he([e]),G.remove(e,"fxshow"),f)x.style(e,i,f[i])}))),l=ht(g?m[i]:0,i,d),i in m||(m[i]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?dt.prefilters.unshift(e):dt.prefilters.push(e)}}),x.speed=function(e,t,n){var i=e&&"object"==typeof e?x.extend({},e):{complete:n||!n&&t||g(e)&&e,duration:e,easing:n&&t||t&&!g(t)&&t};return x.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration=i.duration in x.fx.speeds?x.fx.speeds[i.duration]:x.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){g(i.old)&&i.old.call(this),i.queue&&x.dequeue(this,i.queue)},i},x.fn.extend({fadeTo:function(e,t,n,i){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=x.isEmptyObject(e),o=x.speed(t,n,i),a=function(){var t=dt(this,x.extend({},e),o);(r||G.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,r=null!=e&&e+"queueHooks",o=x.timers,a=G.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&st.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||x.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=G.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=x.timers,a=i?i.length:0;for(n.finish=!0,x.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish}))}}),x.each(["toggle","show","hide"],(function(e,t){var n=x.fn[t];x.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ct(t,!0),e,i,r)}})),x.each({slideDown:ct("show"),slideUp:ct("hide"),slideToggle:ct("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){x.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}})),x.timers=[],x.fx.tick=function(){var e,t=0,n=x.timers;for(rt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||x.fx.stop(),rt=void 0},x.fx.timer=function(e){x.timers.push(e),x.fx.start()},x.fx.interval=13,x.fx.start=function(){ot||(ot=!0,lt())},x.fx.stop=function(){ot=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fn.delay=function(t,n){return t=x.fx&&x.fx.speeds[t]||t,this.queue(n=n||"fx",(function(n,i){var r=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(r)}}))},function(){var e=i.createElement("input"),t=i.createElement("select").appendChild(i.createElement("option"));e.type="checkbox",p.checkOn=""!==e.value,p.optSelected=t.selected,(e=i.createElement("input")).value="t",e.type="radio",p.radioValue="t"===e.value}();var ft,pt=x.expr.attrHandle;x.fn.extend({attr:function(e,t){return z(this,x.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){x.removeAttr(this,e)}))}}),x.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?x.prop(e,t,n):(1===o&&x.isXMLDoc(e)||(r=x.attrHooks[t.toLowerCase()]||(x.expr.match.bool.test(t)?ft:void 0)),void 0!==n?null===n?void x.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=x.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!p.radioValue&&"radio"===t&&k(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(L);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),ft={set:function(e,t,n){return!1===t?x.removeAttr(e,n):e.setAttribute(n,n),n}},x.each(x.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=pt[t]||x.find.attr;pt[t]=function(e,t,i){var r,o,a=t.toLowerCase();return i||(o=pt[a],pt[a]=r,r=null!=n(e,t,i)?a:null,pt[a]=o),r}}));var gt=/^(?:input|select|textarea|button)$/i,mt=/^(?:a|area)$/i;function vt(e){return(e.match(L)||[]).join(" ")}function yt(e){return e.getAttribute&&e.getAttribute("class")||""}function bt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(L)||[]}x.fn.extend({prop:function(e,t){return z(this,x.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[x.propFix[e]||e]}))}}),x.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&x.isXMLDoc(e)||(r=x.propHooks[t=x.propFix[t]||t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=x.find.attr(e,"tabindex");return t?parseInt(t,10):gt.test(e.nodeName)||mt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(x.propHooks.selected={get:function(e){return null},set:function(e){}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){x.propFix[this.toLowerCase()]=this})),x.fn.extend({addClass:function(e){var t,n,i,r,o,a,s,l=0;if(g(e))return this.each((function(t){x(this).addClass(e.call(this,t,yt(this)))}));if((t=bt(e)).length)for(;n=this[l++];)if(r=yt(n),i=1===n.nodeType&&" "+vt(r)+" "){for(a=0;o=t[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(s=vt(i))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,i,r,o,a,s,l=0;if(g(e))return this.each((function(t){x(this).removeClass(e.call(this,t,yt(this)))}));if(!arguments.length)return this.attr("class","");if((t=bt(e)).length)for(;n=this[l++];)if(r=yt(n),i=1===n.nodeType&&" "+vt(r)+" "){for(a=0;o=t[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(s=vt(i))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,i="string"===n||Array.isArray(e);return"boolean"==typeof t&&i?t?this.addClass(e):this.removeClass(e):g(e)?this.each((function(n){x(this).toggleClass(e.call(this,n,yt(this),t),t)})):this.each((function(){var t,r,o,a;if(i)for(r=0,o=x(this),a=bt(e);t=a[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=yt(this))&&G.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":G.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+vt(yt(n))+" ").indexOf(t)>-1)return!0;return!1}});var xt=/\r/g;x.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=g(e),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,x(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=x.map(r,(function(e){return null==e?"":e+""}))),(t=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))}))):r?(t=x.valHooks[r.type]||x.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(xt,""):null==n?"":n:void 0}}),x.extend({valHooks:{option:{get:function(e){var t=x.find.attr(e,"value");return null!=t?t:vt(x.text(e))}},select:{get:function(e){var t,n,i,r=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],l=a?o+1:r.length;for(i=o<0?l:a?o:0;i<l;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!k(n.parentNode,"optgroup"))){if(t=x(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,o=x.makeArray(t),a=r.length;a--;)((i=r[a]).selected=x.inArray(x.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),x.each(["radio","checkbox"],(function(){x.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=x.inArray(x(e).val(),t)>-1}},p.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),p.focusin="onfocusin"in e;var wt=/^(?:focusinfocus|focusoutblur)$/,_t=function(e){e.stopPropagation()};x.extend(x.event,{trigger:function(t,n,r,o){var a,s,l,u,c,d,f,p,v=[r||i],y=h.call(t,"type")?t.type:t,b=h.call(t,"namespace")?t.namespace.split("."):[];if(s=p=l=r=r||i,3!==r.nodeType&&8!==r.nodeType&&!wt.test(y+x.event.triggered)&&(y.indexOf(".")>-1&&(b=y.split("."),y=b.shift(),b.sort()),c=y.indexOf(":")<0&&"on"+y,(t=t[x.expando]?t:new x.Event(y,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=b.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:x.makeArray(n,[t]),f=x.event.special[y]||{},o||!f.trigger||!1!==f.trigger.apply(r,n))){if(!o&&!f.noBubble&&!m(r)){for(wt.test((u=f.delegateType||y)+y)||(s=s.parentNode);s;s=s.parentNode)v.push(s),l=s;l===(r.ownerDocument||i)&&v.push(l.defaultView||l.parentWindow||e)}for(a=0;(s=v[a++])&&!t.isPropagationStopped();)p=s,t.type=a>1?u:f.bindType||y,(d=(G.get(s,"events")||{})[t.type]&&G.get(s,"handle"))&&d.apply(s,n),(d=c&&s[c])&&d.apply&&X(s)&&(t.result=d.apply(s,n),!1===t.result&&t.preventDefault());return t.type=y,o||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(v.pop(),n)||!X(r)||c&&g(r[y])&&!m(r)&&((l=r[c])&&(r[c]=null),x.event.triggered=y,t.isPropagationStopped()&&p.addEventListener(y,_t),r[y](),t.isPropagationStopped()&&p.removeEventListener(y,_t),x.event.triggered=void 0,l&&(r[c]=l)),t.result}},simulate:function(e,t,n){var i=x.extend(new x.Event,n,{type:e,isSimulated:!0});x.event.trigger(i,null,t)}}),x.fn.extend({trigger:function(e,t){return this.each((function(){x.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return x.event.trigger(e,t,n,!0)}}),p.focusin||x.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){x.event.simulate(t,e.target,x.event.fix(e))};x.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=G.access(i,t);r||i.addEventListener(e,n,!0),G.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=G.access(i,t)-1;r?G.access(i,t,r):(i.removeEventListener(e,n,!0),G.remove(i,t))}}}));var Et=e.location,St=Date.now(),Ct=/\?/;x.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(i){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||x.error("Invalid XML: "+t),n};var Tt=/\[\]$/,kt=/\r?\n/g,Dt=/^(?:submit|button|image|reset|file)$/i,At=/^(?:input|select|textarea|keygen)/i;function Ot(e,t,n,i){var r;if(Array.isArray(t))x.each(t,(function(t,r){n||Tt.test(e)?i(e,r):Ot(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)}));else if(n||"object"!==b(t))i(e,t);else for(r in t)Ot(e+"["+r+"]",t[r],n,i)}x.param=function(e,t){var n,i=[],r=function(e,t){var n=g(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!x.isPlainObject(e))x.each(e,(function(){r(this.name,this.value)}));else for(n in e)Ot(n,e[n],t,r);return i.join("&")},x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=x.prop(this,"elements");return e?x.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!x(this).is(":disabled")&&At.test(this.nodeName)&&!Dt.test(e)&&(this.checked||!de.test(e))})).map((function(e,t){var n=x(this).val();return null==n?null:Array.isArray(n)?x.map(n,(function(e){return{name:t.name,value:e.replace(kt,"\r\n")}})):{name:t.name,value:n.replace(kt,"\r\n")}})).get()}});var Pt=/%20/g,Mt=/#.*$/,It=/([?&])_=[^&]*/,Nt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,Rt=/^\/\//,Bt={},jt={},Ft="*/".concat("*"),Ht=i.createElement("a");function Yt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(L)||[];if(g(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function zt(e,t,n,i){var r={},o=e===jt;function a(s){var l;return r[s]=!0,x.each(e[s]||[],(function(e,s){var u=s(t,n,i);return"string"!=typeof u||o||r[u]?o?!(l=u):void 0:(t.dataTypes.unshift(u),a(u),!1)})),l}return a(t.dataTypes[0])||!r["*"]&&a("*")}function Wt(e,t){var n,i,r=x.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&x.extend(!0,e,i),e}Ht.href=Et.href,x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Et.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ft,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Wt(Wt(e,x.ajaxSettings),t):Wt(x.ajaxSettings,e)},ajaxPrefilter:Yt(Bt),ajaxTransport:Yt(jt),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0);var r,o,a,s,l,u,c,h,d,f,p=x.ajaxSetup({},n=n||{}),g=p.context||p,m=p.context&&(g.nodeType||g.jquery)?x(g):x.event,v=x.Deferred(),y=x.Callbacks("once memory"),b=p.statusCode||{},w={},_={},E="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Nt.exec(a);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=_[e.toLowerCase()]=_[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==c&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)S.always(e[S.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||E;return r&&r.abort(t),C(0,t),this}};if(v.promise(S),p.url=((t||p.url||Et.href)+"").replace(Rt,Et.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(L)||[""],null==p.crossDomain){u=i.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=Ht.protocol+"//"+Ht.host!=u.protocol+"//"+u.host}catch(T){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=x.param(p.data,p.traditional)),zt(Bt,p,n,S),c)return S;for(d in(h=x.event&&p.global)&&0==x.active++&&x.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Lt.test(p.type),o=p.url.replace(Mt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Pt,"+")):(f=p.url.slice(o.length),p.data&&(p.processData||"string"==typeof p.data)&&(o+=(Ct.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(It,"$1"),f=(Ct.test(o)?"&":"?")+"_="+St+++f),p.url=o+f),p.ifModified&&(x.lastModified[o]&&S.setRequestHeader("If-Modified-Since",x.lastModified[o]),x.etag[o]&&S.setRequestHeader("If-None-Match",x.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&S.setRequestHeader("Content-Type",p.contentType),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ft+"; q=0.01":""):p.accepts["*"]),p.headers)S.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(g,S,p)||c))return S.abort();if(E="abort",y.add(p.complete),S.done(p.success),S.fail(p.error),r=zt(jt,p,n,S)){if(S.readyState=1,h&&m.trigger("ajaxSend",[S,p]),c)return S;p.async&&p.timeout>0&&(l=e.setTimeout((function(){S.abort("timeout")}),p.timeout));try{c=!1,r.send(w,C)}catch(T){if(c)throw T;C(-1,T)}}else C(-1,"No Transport");function C(t,n,i,s){var u,d,f,w,_,E=n;c||(c=!0,l&&e.clearTimeout(l),r=void 0,a=s||"",S.readyState=t>0?4:0,u=t>=200&&t<300||304===t,i&&(w=function(e,t,n){for(var i,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}(p,S,i)),w=function(e,t,n,i){var r,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=u[l+" "+o]||u["* "+o]))for(r in u)if((s=r.split(" "))[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[r]:!0!==u[r]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(T){return{state:"parsererror",error:a?T:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(p,w,S,u),u?(p.ifModified&&((_=S.getResponseHeader("Last-Modified"))&&(x.lastModified[o]=_),(_=S.getResponseHeader("etag"))&&(x.etag[o]=_)),204===t||"HEAD"===p.type?E="nocontent":304===t?E="notmodified":(E=w.state,d=w.data,u=!(f=w.error))):(f=E,!t&&E||(E="error",t<0&&(t=0))),S.status=t,S.statusText=(n||E)+"",u?v.resolveWith(g,[d,E,S]):v.rejectWith(g,[S,E,f]),S.statusCode(b),b=void 0,h&&m.trigger(u?"ajaxSuccess":"ajaxError",[S,p,u?d:f]),y.fireWith(g,[S,E]),h&&(m.trigger("ajaxComplete",[S,p]),--x.active||x.event.trigger("ajaxStop")))}return S},getJSON:function(e,t,n){return x.get(e,t,n,"json")},getScript:function(e,t){return x.get(e,void 0,t,"script")}}),x.each(["get","post"],(function(e,t){x[t]=function(e,n,i,r){return g(n)&&(r=r||i,i=n,n=void 0),x.ajax(x.extend({url:e,type:t,dataType:r,data:n,success:i},x.isPlainObject(e)&&e))}})),x._evalUrl=function(e,t){return x.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){x.globalEval(e,t)}})},x.fn.extend({wrapAll:function(e){var t;return this[0]&&(g(e)&&(e=e.call(this[0])),t=x(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return g(e)?this.each((function(t){x(this).wrapInner(e.call(this,t))})):this.each((function(){var t=x(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=g(e);return this.each((function(n){x(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){x(this).replaceWith(this.childNodes)})),this}}),x.expr.pseudos.hidden=function(e){return!x.expr.pseudos.visible(e)},x.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},x.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var $t={0:200,1223:204},Vt=x.ajaxSettings.xhr();p.cors=!!Vt&&"withCredentials"in Vt,p.ajax=Vt=!!Vt,x.ajaxTransport((function(t){var n,i;if(p.cors||Vt&&!t.crossDomain)return{send:function(r,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(a,r[a]);n=function(e){return function(){n&&(n=i=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o($t[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),i=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout((function(){n&&i()}))},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(l){if(n)throw l}},abort:function(){n&&n()}}})),x.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return x.globalEval(e),e}}}),x.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),x.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,o){t=x("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),i.head.appendChild(t[0])},abort:function(){n&&n()}}}));var qt,Xt=[],Ut=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Xt.pop()||x.expando+"_"+St++;return this[e]=!0,e}}),x.ajaxPrefilter("json jsonp",(function(t,n,i){var r,o,a,s=!1!==t.jsonp&&(Ut.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ut.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=g(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ut,"$1"+r):!1!==t.jsonp&&(t.url+=(Ct.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||x.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){a=arguments},i.always((function(){void 0===o?x(e).removeProp(r):e[r]=o,t[r]&&(t.jsonpCallback=n.jsonpCallback,Xt.push(r)),a&&g(o)&&o(a[0]),a=o=void 0})),"script"})),p.createHTMLDocument=((qt=i.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===qt.childNodes.length),x.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(p.createHTMLDocument?((r=(t=i.implementation.createHTMLDocument("")).createElement("base")).href=i.location.href,t.head.appendChild(r)):t=i),a=!n&&[],(o=D.exec(e))?[t.createElement(o[1])]:(o=we([e],t,a),a&&a.length&&x(a).remove(),x.merge([],o.childNodes)));var r,o,a},x.fn.load=function(e,t,n){var i,r,o,a=this,s=e.indexOf(" ");return s>-1&&(i=vt(e.slice(s)),e=e.slice(0,s)),g(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&x.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done((function(e){o=arguments,a.html(i?x("<div>").append(x.parseHTML(e)).find(i):e)})).always(n&&function(e,t){a.each((function(){n.apply(this,o||[e.responseText,t,e])}))}),this},x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){x.fn[t]=function(e){return this.on(t,e)}})),x.expr.pseudos.animated=function(e){return x.grep(x.timers,(function(t){return e===t.elem})).length},x.offset={setOffset:function(e,t,n){var i,r,o,a,s,l,u=x.css(e,"position"),c=x(e),h={};"static"===u&&(e.style.position="relative"),s=c.offset(),o=x.css(e,"top"),l=x.css(e,"left"),("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1?(a=(i=c.position()).top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),g(t)&&(t=t.call(e,n,x.extend({},s))),null!=t.top&&(h.top=t.top-s.top+a),null!=t.left&&(h.left=t.left-s.left+r),"using"in t?t.using.call(e,h):c.css(h)}},x.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){x.offset.setOffset(this,e,t)}));var t,n,i=this[0];return i?i.getClientRects().length?{top:(t=i.getBoundingClientRect()).top+(n=i.ownerDocument.defaultView).pageYOffset,left:t.left+n.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===x.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===x.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=x(e).offset()).top+=x.css(e,"borderTopWidth",!0),r.left+=x.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-x.css(i,"marginTop",!0),left:t.left-r.left-x.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===x.css(e,"position");)e=e.offsetParent;return e||ie}))}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;x.fn[e]=function(i){return z(this,(function(e,i,r){var o;if(m(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===r)return o?o[t]:e[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r}),e,i,arguments.length)}})),x.each(["top","left"],(function(e,t){x.cssHooks[t]=Ve(p.pixelPosition,(function(e,n){if(n)return n=$e(e,t),Ye.test(n)?x(e).position()[t]+"px":n}))})),x.each({Height:"height",Width:"width"},(function(e,t){x.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,i){x.fn[i]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===o?"margin":"border");return z(this,(function(t,n,r){var o;return m(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?x.css(t,n,s):x.style(t,n,r,s)}),t,a?r:void 0,a)}}))})),x.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){x.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}})),x.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),x.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),x.proxy=function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),g(e))return i=o.call(arguments,2),(r=function(){return e.apply(t||this,i.concat(o.call(arguments)))}).guid=e.guid=e.guid||x.guid++,r},x.holdReady=function(e){e?x.readyWait++:x.ready(!0)},x.isArray=Array.isArray,x.parseJSON=JSON.parse,x.nodeName=k,x.isFunction=g,x.isWindow=m,x.camelCase=q,x.type=b,x.now=Date.now,x.isNumeric=function(e){var t=x.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],(function(){return x}));var Gt=e.jQuery,Kt=e.$;return x.noConflict=function(t){return e.$===x&&(e.$=Kt),t&&e.jQuery===x&&(e.jQuery=Gt),x},t||(e.jQuery=e.$=x),x})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("jquery"),require("popper.js")):"function"==typeof define&&define.amd?define(["jquery","popper.js"],t):t((e=e||self).jQuery,e.Popper)}(this,(function(e,t){"use strict";var n=Math.max;function i(e){return{}.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase()}function r(e,t){const n=e.nodeName.toLowerCase();if(-1!==t.indexOf(n))return-1===re.indexOf(n)||!(!e.nodeValue.match(oe)&&!e.nodeValue.match(ae));const i=t.filter(e=>e instanceof RegExp);for(let r=0,o=i.length;r<o;r++)if(n.match(i[r]))return!0;return!1}function o(e,t,n){if(0===e.length)return e;if(n&&"function"==typeof n)return n(e);const i=(new window.DOMParser).parseFromString(e,"text/html"),o=Object.keys(t),a=[].slice.call(i.body.querySelectorAll("*"));for(let s=0,l=a.length;s<l;s++){const e=a[s],n=e.nodeName.toLowerCase();if(-1===o.indexOf(e.nodeName.toLowerCase())){e.parentNode.removeChild(e);continue}const i=[].slice.call(e.attributes),l=[].concat(t["*"]||[],t[n]||[]);i.forEach(t=>{r(t,l)||e.removeAttribute(t.nodeName)})}return i.body.innerHTML}function a(e,t){for(var n,i=0;i<t.length;i++)(n=t[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t;const l="transitionend",u={TRANSITION_END:"bsTransitionEnd",getUID(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},getSelectorFromElement(e){let t=e.getAttribute("data-target");if(!t||"#"===t){const n=e.getAttribute("href");t=n&&"#"!==n?n.trim():""}try{return document.querySelector(t)?t:null}catch(e){return null}},getTransitionDurationFromElement(t){if(!t)return 0;let n=e(t).css("transition-duration"),i=e(t).css("transition-delay");const r=parseFloat(n),o=parseFloat(i);return r||o?(n=n.split(",")[0],i=i.split(",")[0],1e3*(parseFloat(n)+parseFloat(i))):0},reflow:e=>e.offsetHeight,triggerTransitionEnd(t){e(t).trigger(l)},supportsTransitionEnd:()=>!0,isElement:e=>(e[0]||e).nodeType,typeCheckConfig(e,t,n){for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const o=n[r],a=t[r],s=a&&u.isElement(a)?"element":i(a);if(!new RegExp(o).test(s))throw new Error(`${e.toUpperCase()}: `+`Option "${r}" provided type "${s}" `+`but expected type "${o}".`)}},findShadowRoot(e){if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?u.findShadowRoot(e.parentNode):null}};e.fn.emulateTransitionEnd=function(t){let n=!1;return e(this).one(u.TRANSITION_END,()=>{n=!0}),setTimeout(()=>{n||u.triggerTransitionEnd(this)},t),this},e.event.special[u.TRANSITION_END]={bindType:l,delegateType:l,handle(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}};const c="bs.alert",h=`.${c}`,d=e.fn.alert,f={CLOSE:`close${h}`,CLOSED:`closed${h}`,CLICK_DATA_API:`click${h}.data-api`},p={ALERT:"alert",FADE:"fade",SHOW:"show"};class g{constructor(e){this._element=e}static get VERSION(){return"4.3.1"}close(e){let t=this._element;e&&(t=this._getRootElement(e)),this._triggerCloseEvent(t).isDefaultPrevented()||this._removeElement(t)}dispose(){e.removeData(this._element,c),this._element=null}_getRootElement(t){const n=u.getSelectorFromElement(t);let i=!1;return n&&(i=document.querySelector(n)),i||(i=e(t).closest(`.${p.ALERT}`)[0]),i}_triggerCloseEvent(t){const n=e.Event(f.CLOSE);return e(t).trigger(n),n}_removeElement(t){if(e(t).removeClass(p.SHOW),!e(t).hasClass(p.FADE))return void this._destroyElement(t);const n=u.getTransitionDurationFromElement(t);e(t).one(u.TRANSITION_END,e=>this._destroyElement(t,e)).emulateTransitionEnd(n)}_destroyElement(t){e(t).detach().trigger(f.CLOSED).remove()}static _jQueryInterface(t){return this.each((function(){const n=e(this);let i=n.data(c);i||(i=new g(this),n.data(c,i)),"close"===t&&i[t](this)}))}static _handleDismiss(e){return function(t){t&&t.preventDefault(),e.close(this)}}}e(document).on(f.CLICK_DATA_API,'[data-dismiss="alert"]',g._handleDismiss(new g)),e.fn.alert=g._jQueryInterface,e.fn.alert.Constructor=g,e.fn.alert.noConflict=()=>(e.fn.alert=d,g._jQueryInterface);const m="bs.button",v=`.${m}`,y=".data-api",b=e.fn.button,x={ACTIVE:"active",BUTTON:"btn",FOCUS:"focus"},w={DATA_TOGGLE_CARROT:'[data-toggle^="button"]',DATA_TOGGLE:'[data-toggle="buttons"]',INPUT:'input:not([type="hidden"])',ACTIVE:".active",BUTTON:".btn"},_={CLICK_DATA_API:`click${v}${y}`,FOCUS_BLUR_DATA_API:`focus${v}${y} `+`blur${v}${y}`};class E{constructor(e){this._element=e}static get VERSION(){return"4.3.1"}toggle(){let t=!0,n=!0;const i=e(this._element).closest(w.DATA_TOGGLE)[0];if(i){const r=this._element.querySelector(w.INPUT);if(r){if("radio"===r.type)if(r.checked&&this._element.classList.contains(x.ACTIVE))t=!1;else{const t=i.querySelector(w.ACTIVE);t&&e(t).removeClass(x.ACTIVE)}if(t){if(r.hasAttribute("disabled")||i.hasAttribute("disabled")||r.classList.contains("disabled")||i.classList.contains("disabled"))return;r.checked=!this._element.classList.contains(x.ACTIVE),e(r).trigger("change")}r.focus(),n=!1}}n&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(x.ACTIVE)),t&&e(this._element).toggleClass(x.ACTIVE)}dispose(){e.removeData(this._element,m),this._element=null}static _jQueryInterface(t){return this.each((function(){let n=e(this).data(m);n||(n=new E(this),e(this).data(m,n)),"toggle"===t&&n[t]()}))}}e(document).on(_.CLICK_DATA_API,w.DATA_TOGGLE_CARROT,t=>{t.preventDefault();let n=t.target;e(n).hasClass(x.BUTTON)||(n=e(n).closest(w.BUTTON)),E._jQueryInterface.call(e(n),"toggle")}).on(_.FOCUS_BLUR_DATA_API,w.DATA_TOGGLE_CARROT,t=>{const n=e(t.target).closest(w.BUTTON)[0];e(n).toggleClass(x.FOCUS,/^focus(in)?$/.test(t.type))}),e.fn.button=E._jQueryInterface,e.fn.button.Constructor=E,e.fn.button.noConflict=()=>(e.fn.button=b,E._jQueryInterface);const S="carousel",C="bs.carousel",T=`.${C}`,k=".data-api",D=e.fn.carousel,A={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},O={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},P={NEXT:"next",PREV:"prev",LEFT:"left",RIGHT:"right"},M={SLIDE:`slide${T}`,SLID:`slid${T}`,KEYDOWN:`keydown${T}`,MOUSEENTER:`mouseenter${T}`,MOUSELEAVE:`mouseleave${T}`,TOUCHSTART:`touchstart${T}`,TOUCHMOVE:`touchmove${T}`,TOUCHEND:`touchend${T}`,POINTERDOWN:`pointerdown${T}`,POINTERUP:`pointerup${T}`,DRAG_START:`dragstart${T}`,LOAD_DATA_API:`load${T}${k}`,CLICK_DATA_API:`click${T}${k}`},I={CAROUSEL:"carousel",ACTIVE:"active",SLIDE:"slide",RIGHT:"carousel-item-right",LEFT:"carousel-item-left",NEXT:"carousel-item-next",PREV:"carousel-item-prev",ITEM:"carousel-item",POINTER_EVENT:"pointer-event"},N={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",ITEM_IMG:".carousel-item img",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},L={TOUCH:"touch",PEN:"pen"};class R{constructor(e,t){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(t),this._element=e,this._indicatorsElement=this._element.querySelector(N.INDICATORS),this._touchSupported="ontouchstart"in document.documentElement||0<navigator.maxTouchPoints,this._pointerEvent=!(!window.PointerEvent&&!window.MSPointerEvent),this._addEventListeners()}static get VERSION(){return"4.3.1"}static get Default(){return A}next(){this._isSliding||this._slide(P.NEXT)}nextWhenVisible(){!document.hidden&&e(this._element).is(":visible")&&"hidden"!==e(this._element).css("visibility")&&this.next()}prev(){this._isSliding||this._slide(P.PREV)}pause(e){e||(this._isPaused=!0),this._element.querySelector(N.NEXT_PREV)&&(u.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}cycle(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}to(t){this._activeElement=this._element.querySelector(N.ACTIVE_ITEM);const n=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||0>t)){if(this._isSliding)return void e(this._element).one(M.SLID,()=>this.to(t));if(n===t)return this.pause(),void this.cycle();this._slide(t>n?P.NEXT:P.PREV,this._items[t])}}dispose(){e(this._element).off(T),e.removeData(this._element,C),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null}_getConfig(e){return e={...A,...e},u.typeCheckConfig(S,e,O),e}_handleSwipe(){const e=Math.abs(this.touchDeltaX);if(!(e<=40)){const t=e/this.touchDeltaX;0<t&&this.prev(),0>t&&this.next()}}_addEventListeners(){this._config.keyboard&&e(this._element).on(M.KEYDOWN,e=>this._keydown(e)),"hover"===this._config.pause&&e(this._element).on(M.MOUSEENTER,e=>this.pause(e)).on(M.MOUSELEAVE,e=>this.cycle(e)),this._config.touch&&this._addTouchEventListeners()}_addTouchEventListeners(){if(!this._touchSupported)return;const t=e=>{this._pointerEvent&&L[e.originalEvent.pointerType.toUpperCase()]?this.touchStartX=e.originalEvent.clientX:!this._pointerEvent&&(this.touchStartX=e.originalEvent.touches[0].clientX)},n=e=>{this.touchDeltaX=e.originalEvent.touches&&1<e.originalEvent.touches.length?0:e.originalEvent.touches[0].clientX-this.touchStartX},i=e=>{this._pointerEvent&&L[e.originalEvent.pointerType.toUpperCase()]&&(this.touchDeltaX=e.originalEvent.clientX-this.touchStartX),this._handleSwipe(),"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(e=>this.cycle(e),500+this._config.interval))};e(this._element.querySelectorAll(N.ITEM_IMG)).on(M.DRAG_START,e=>e.preventDefault()),this._pointerEvent?(e(this._element).on(M.POINTERDOWN,e=>t(e)),e(this._element).on(M.POINTERUP,e=>i(e)),this._element.classList.add(I.POINTER_EVENT)):(e(this._element).on(M.TOUCHSTART,e=>t(e)),e(this._element).on(M.TOUCHMOVE,e=>n(e)),e(this._element).on(M.TOUCHEND,e=>i(e)))}_keydown(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case 37:e.preventDefault(),this.prev();break;case 39:e.preventDefault(),this.next()}}_getItemIndex(e){return this._items=e&&e.parentNode?[].slice.call(e.parentNode.querySelectorAll(N.ITEM)):[],this._items.indexOf(e)}_getItemByDirection(e,t){const n=e===P.NEXT,i=e===P.PREV,r=this._getItemIndex(t);if((i&&0===r||n&&r===this._items.length-1)&&!this._config.wrap)return t;const o=(r+(e===P.PREV?-1:1))%this._items.length;return-1===o?this._items[this._items.length-1]:this._items[o]}_triggerSlideEvent(t,n){const i=this._getItemIndex(t),r=this._getItemIndex(this._element.querySelector(N.ACTIVE_ITEM)),o=e.Event(M.SLIDE,{relatedTarget:t,direction:n,from:r,to:i});return e(this._element).trigger(o),o}_setActiveIndicatorElement(t){if(this._indicatorsElement){const n=[].slice.call(this._indicatorsElement.querySelectorAll(N.ACTIVE));e(n).removeClass(I.ACTIVE);const i=this._indicatorsElement.children[this._getItemIndex(t)];i&&e(i).addClass(I.ACTIVE)}}_slide(t,n){const i=this._element.querySelector(N.ACTIVE_ITEM),r=this._getItemIndex(i),o=n||i&&this._getItemByDirection(t,i),a=this._getItemIndex(o),s=!!this._interval;let l,c,h;if(t===P.NEXT?(l=I.LEFT,c=I.NEXT,h=P.LEFT):(l=I.RIGHT,c=I.PREV,h=P.RIGHT),o&&e(o).hasClass(I.ACTIVE))return void(this._isSliding=!1);if(this._triggerSlideEvent(o,h).isDefaultPrevented())return;if(!i||!o)return;this._isSliding=!0,s&&this.pause(),this._setActiveIndicatorElement(o);const d=e.Event(M.SLID,{relatedTarget:o,direction:h,from:r,to:a});if(e(this._element).hasClass(I.SLIDE)){e(o).addClass(c),u.reflow(o),e(i).addClass(l),e(o).addClass(l);const t=parseInt(o.getAttribute("data-interval"),10);t?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=t):this._config.interval=this._config.defaultInterval||this._config.interval;const n=u.getTransitionDurationFromElement(i);e(i).one(u.TRANSITION_END,()=>{e(o).removeClass(`${l} ${c}`).addClass(I.ACTIVE),e(i).removeClass(`${I.ACTIVE} ${c} ${l}`),this._isSliding=!1,setTimeout(()=>e(this._element).trigger(d),0)}).emulateTransitionEnd(n)}else e(i).removeClass(I.ACTIVE),e(o).addClass(I.ACTIVE),this._isSliding=!1,e(this._element).trigger(d);s&&this.cycle()}static _jQueryInterface(t){return this.each((function(){let n=e(this).data(C),i={...A,...e(this).data()};"object"==typeof t&&(i={...i,...t});const r="string"==typeof t?t:i.slide;if(n||(n=new R(this,i),e(this).data(C,n)),"number"==typeof t)n.to(t);else if("string"==typeof r){if(void 0===n[r])throw new TypeError(`No method named "${r}"`);n[r]()}else i.interval&&i.ride&&(n.pause(),n.cycle())}))}static _dataApiClickHandler(t){const n=u.getSelectorFromElement(this);if(!n)return;const i=e(n)[0];if(!i||!e(i).hasClass(I.CAROUSEL))return;const r={...e(i).data(),...e(this).data()},o=this.getAttribute("data-slide-to");o&&(r.interval=!1),R._jQueryInterface.call(e(i),r),o&&e(i).data(C).to(o),t.preventDefault()}}e(document).on(M.CLICK_DATA_API,N.DATA_SLIDE,R._dataApiClickHandler),e(window).on(M.LOAD_DATA_API,()=>{const t=[].slice.call(document.querySelectorAll(N.DATA_RIDE));for(let n=0,i=t.length;n<i;n++){const i=e(t[n]);R._jQueryInterface.call(i,i.data())}}),e.fn.carousel=R._jQueryInterface,e.fn.carousel.Constructor=R,e.fn.carousel.noConflict=()=>(e.fn[S]=D,R._jQueryInterface);const B="collapse",j="bs.collapse",F=`.${j}`,H=e.fn.collapse,Y={toggle:!0,parent:""},z={toggle:"boolean",parent:"(string|element)"},W={SHOW:`show${F}`,SHOWN:`shown${F}`,HIDE:`hide${F}`,HIDDEN:`hidden${F}`,CLICK_DATA_API:`click${F}.data-api`},$={SHOW:"show",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"},V={WIDTH:"width",HEIGHT:"height"},q={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'};class X{constructor(e,t){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(t),this._triggerArray=[].slice.call(document.querySelectorAll(`[data-toggle="collapse"][href="#${e.id}"],`+`[data-toggle="collapse"][data-target="#${e.id}"]`));const n=[].slice.call(document.querySelectorAll(q.DATA_TOGGLE));for(let i=0,r=n.length;i<r;i++){const t=n[i],r=u.getSelectorFromElement(t),o=[].slice.call(document.querySelectorAll(r)).filter(t=>t===e);null!==r&&0<o.length&&(this._selector=r,this._triggerArray.push(t))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}static get VERSION(){return"4.3.1"}static get Default(){return Y}toggle(){e(this._element).hasClass($.SHOW)?this.hide():this.show()}show(){if(this._isTransitioning||e(this._element).hasClass($.SHOW))return;let t,n;if(this._parent&&0===(t=[].slice.call(this._parent.querySelectorAll(q.ACTIVES)).filter(e=>"string"==typeof this._config.parent?e.getAttribute("data-parent")===this._config.parent:e.classList.contains($.COLLAPSE))).length&&(t=null),t&&(n=e(t).not(this._selector).data(j))&&n._isTransitioning)return;const i=e.Event(W.SHOW);if(e(this._element).trigger(i),i.isDefaultPrevented())return;t&&(X._jQueryInterface.call(e(t).not(this._selector),"hide"),!n&&e(t).data(j,null));const r=this._getDimension();e(this._element).removeClass($.COLLAPSE).addClass($.COLLAPSING),this._element.style[r]=0,this._triggerArray.length&&e(this._triggerArray).removeClass($.COLLAPSED).attr("aria-expanded",!0),this.setTransitioning(!0);const o=r[0].toUpperCase()+r.slice(1),a=u.getTransitionDurationFromElement(this._element);e(this._element).one(u.TRANSITION_END,()=>{e(this._element).removeClass($.COLLAPSING).addClass($.COLLAPSE).addClass($.SHOW),this._element.style[r]="",this.setTransitioning(!1),e(this._element).trigger(W.SHOWN)}).emulateTransitionEnd(a),this._element.style[r]=`${this._element[`scroll${o}`]}px`}hide(){if(!this._isTransitioning&&e(this._element).hasClass($.SHOW)){const t=e.Event(W.HIDE);if(e(this._element).trigger(t),!t.isDefaultPrevented()){const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,u.reflow(this._element),e(this._element).addClass($.COLLAPSING).removeClass($.COLLAPSE).removeClass($.SHOW);const n=this._triggerArray.length;if(0<n)for(let o=0;o<n;o++){const t=this._triggerArray[o],n=u.getSelectorFromElement(t);null!==n&&(e([].slice.call(document.querySelectorAll(n))).hasClass($.SHOW)||e(t).addClass($.COLLAPSED).attr("aria-expanded",!1))}this.setTransitioning(!0);const i=()=>{this.setTransitioning(!1),e(this._element).removeClass($.COLLAPSING).addClass($.COLLAPSE).trigger(W.HIDDEN)};this._element.style[t]="";const r=u.getTransitionDurationFromElement(this._element);e(this._element).one(u.TRANSITION_END,i).emulateTransitionEnd(r)}}}setTransitioning(e){this._isTransitioning=e}dispose(){e.removeData(this._element,j),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null}_getConfig(e){return(e={...Y,...e}).toggle=!!e.toggle,u.typeCheckConfig(B,e,z),e}_getDimension(){return e(this._element).hasClass(V.WIDTH)?V.WIDTH:V.HEIGHT}_getParent(){let t;u.isElement(this._config.parent)?(t=this._config.parent,void 0!==this._config.parent.jquery&&(t=this._config.parent[0])):t=document.querySelector(this._config.parent);const n=[].slice.call(t.querySelectorAll(`[data-toggle="collapse"][data-parent="${this._config.parent}"]`));return e(n).each((e,t)=>{this._addAriaAndCollapsedClass(X._getTargetFromElement(t),[t])}),t}_addAriaAndCollapsedClass(t,n){const i=e(t).hasClass($.SHOW);n.length&&e(n).toggleClass($.COLLAPSED,!i).attr("aria-expanded",i)}static _getTargetFromElement(e){const t=u.getSelectorFromElement(e);return t?document.querySelector(t):null}static _jQueryInterface(t){return this.each((function(){const n=e(this);let i=n.data(j);const r={...Y,...n.data(),..."object"==typeof t&&t?t:{}};if(!i&&r.toggle&&/show|hide/.test(t)&&(r.toggle=!1),i||(i=new X(this,r),n.data(j,i)),"string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t]()}}))}}e(document).on(W.CLICK_DATA_API,q.DATA_TOGGLE,(function(t){"A"===t.currentTarget.tagName&&t.preventDefault();const n=e(this),i=u.getSelectorFromElement(this),r=[].slice.call(document.querySelectorAll(i));e(r).each((function(){const t=e(this),i=t.data(j)?"toggle":n.data();X._jQueryInterface.call(t,i)}))})),e.fn.collapse=X._jQueryInterface,e.fn.collapse.Constructor=X,e.fn.collapse.noConflict=()=>(e.fn[B]=H,X._jQueryInterface);const U="modal",G="bs.modal",K=`.${G}`,Q=e.fn.modal,Z={backdrop:!0,keyboard:!0,focus:!0,show:!0},J={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},ee={HIDE:`hide${K}`,HIDDEN:`hidden${K}`,SHOW:`show${K}`,SHOWN:`shown${K}`,FOCUSIN:`focusin${K}`,RESIZE:`resize${K}`,CLICK_DISMISS:`click.dismiss${K}`,KEYDOWN_DISMISS:`keydown.dismiss${K}`,MOUSEUP_DISMISS:`mouseup.dismiss${K}`,MOUSEDOWN_DISMISS:`mousedown.dismiss${K}`,CLICK_DATA_API:`click${K}.data-api`},te={SCROLLABLE:"modal-dialog-scrollable",SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show"},ne={DIALOG:".modal-dialog",MODAL_BODY:".modal-body",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top"};class ie{constructor(e,t){this._config=this._getConfig(t),this._element=e,this._dialog=e.querySelector(ne.DIALOG),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}static get VERSION(){return"4.3.1"}static get Default(){return Z}toggle(e){return this._isShown?this.hide():this.show(e)}show(t){if(!this._isShown&&!this._isTransitioning){e(this._element).hasClass(te.FADE)&&(this._isTransitioning=!0);const n=e.Event(ee.SHOW,{relatedTarget:t});e(this._element).trigger(n),this._isShown||n.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),e(this._element).on(ee.CLICK_DISMISS,ne.DATA_DISMISS,e=>this.hide(e)),e(this._dialog).on(ee.MOUSEDOWN_DISMISS,()=>{e(this._element).one(ee.MOUSEUP_DISMISS,t=>{e(t.target).is(this._element)&&(this._ignoreBackdropClick=!0)})}),this._showBackdrop(()=>this._showElement(t)))}}hide(t){if(t&&t.preventDefault(),this._isShown&&!this._isTransitioning){const t=e.Event(ee.HIDE);if(e(this._element).trigger(t),this._isShown&&!t.isDefaultPrevented()){this._isShown=!1;const t=e(this._element).hasClass(te.FADE);if(t&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),e(document).off(ee.FOCUSIN),e(this._element).removeClass(te.SHOW),e(this._element).off(ee.CLICK_DISMISS),e(this._dialog).off(ee.MOUSEDOWN_DISMISS),t){const t=u.getTransitionDurationFromElement(this._element);e(this._element).one(u.TRANSITION_END,e=>this._hideModal(e)).emulateTransitionEnd(t)}else this._hideModal()}}}dispose(){[window,this._element,this._dialog].forEach(t=>e(t).off(K)),e(document).off(ee.FOCUSIN),e.removeData(this._element,G),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null}handleUpdate(){this._adjustDialog()}_getConfig(e){return e={...Z,...e},u.typeCheckConfig(U,e,J),e}_showElement(t){const n=e(this._element).hasClass(te.FADE);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),e(this._dialog).hasClass(te.SCROLLABLE)?this._dialog.querySelector(ne.MODAL_BODY).scrollTop=0:this._element.scrollTop=0,n&&u.reflow(this._element),e(this._element).addClass(te.SHOW),this._config.focus&&this._enforceFocus();const i=e.Event(ee.SHOWN,{relatedTarget:t}),r=()=>{this._config.focus&&this._element.focus(),this._isTransitioning=!1,e(this._element).trigger(i)};if(n){const t=u.getTransitionDurationFromElement(this._dialog);e(this._dialog).one(u.TRANSITION_END,r).emulateTransitionEnd(t)}else r()}_enforceFocus(){e(document).off(ee.FOCUSIN).on(ee.FOCUSIN,t=>{document!==t.target&&this._element!==t.target&&0===e(this._element).has(t.target).length&&this._element.focus()})}_setEscapeEvent(){this._isShown&&this._config.keyboard?e(this._element).on(ee.KEYDOWN_DISMISS,e=>{27===e.which&&(e.preventDefault(),this.hide())}):!this._isShown&&e(this._element).off(ee.KEYDOWN_DISMISS)}_setResizeEvent(){this._isShown?e(window).on(ee.RESIZE,e=>this.handleUpdate(e)):e(window).off(ee.RESIZE)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._isTransitioning=!1,this._showBackdrop(()=>{e(document.body).removeClass(te.OPEN),this._resetAdjustments(),this._resetScrollbar(),e(this._element).trigger(ee.HIDDEN)})}_removeBackdrop(){this._backdrop&&(e(this._backdrop).remove(),this._backdrop=null)}_showBackdrop(t){const n=e(this._element).hasClass(te.FADE)?te.FADE:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=te.BACKDROP,n&&this._backdrop.classList.add(n),e(this._backdrop).appendTo(document.body),e(this._element).on(ee.CLICK_DISMISS,e=>this._ignoreBackdropClick?void(this._ignoreBackdropClick=!1):void(e.target!==e.currentTarget||("static"===this._config.backdrop?this._element.focus():this.hide()))),n&&u.reflow(this._backdrop),e(this._backdrop).addClass(te.SHOW),!t)return;if(!n)return void t();const i=u.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(u.TRANSITION_END,t).emulateTransitionEnd(i)}else if(!this._isShown&&this._backdrop){e(this._backdrop).removeClass(te.SHOW);const n=()=>{this._removeBackdrop(),t&&t()};if(e(this._element).hasClass(te.FADE)){const t=u.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(u.TRANSITION_END,n).emulateTransitionEnd(t)}else n()}else t&&t()}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=`${this._scrollbarWidth}px`),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=`${this._scrollbarWidth}px`)}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}_checkScrollbar(){const e=document.body.getBoundingClientRect();this._isBodyOverflowing=e.left+e.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()}_setScrollbar(){if(this._isBodyOverflowing){const t=[].slice.call(document.querySelectorAll(ne.FIXED_CONTENT)),n=[].slice.call(document.querySelectorAll(ne.STICKY_CONTENT));e(t).each((t,n)=>{const i=n.style.paddingRight,r=e(n).css("padding-right");e(n).data("padding-right",i).css("padding-right",`${parseFloat(r)+this._scrollbarWidth}px`)}),e(n).each((t,n)=>{const i=n.style.marginRight,r=e(n).css("margin-right");e(n).data("margin-right",i).css("margin-right",`${parseFloat(r)-this._scrollbarWidth}px`)});const i=document.body.style.paddingRight,r=e(document.body).css("padding-right");e(document.body).data("padding-right",i).css("padding-right",`${parseFloat(r)+this._scrollbarWidth}px`)}e(document.body).addClass(te.OPEN)}_resetScrollbar(){const t=[].slice.call(document.querySelectorAll(ne.FIXED_CONTENT));e(t).each((t,n)=>{const i=e(n).data("padding-right");e(n).removeData("padding-right"),n.style.paddingRight=i||""});const n=[].slice.call(document.querySelectorAll(`${ne.STICKY_CONTENT}`));e(n).each((t,n)=>{const i=e(n).data("margin-right");void 0!==i&&e(n).css("margin-right",i).removeData("margin-right")});const i=e(document.body).data("padding-right");e(document.body).removeData("padding-right"),document.body.style.paddingRight=i||""}_getScrollbarWidth(){const e=document.createElement("div");e.className=te.SCROLLBAR_MEASURER,document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t}static _jQueryInterface(t,n){return this.each((function(){let i=e(this).data(G);const r={...Z,...e(this).data(),..."object"==typeof t&&t?t:{}};if(i||(i=new ie(this,r),e(this).data(G,i)),"string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t](n)}else r.show&&i.show(n)}))}}e(document).on(ee.CLICK_DATA_API,ne.DATA_TOGGLE,(function(t){let n;const i=u.getSelectorFromElement(this);i&&(n=document.querySelector(i));const r=e(n).data(G)?"toggle":{...e(n).data(),...e(this).data()};("A"===this.tagName||"AREA"===this.tagName)&&t.preventDefault();const o=e(n).one(ee.SHOW,t=>{t.isDefaultPrevented()||o.one(ee.HIDDEN,()=>{e(this).is(":visible")&&this.focus()})});ie._jQueryInterface.call(e(n),r,this)})),e.fn.modal=ie._jQueryInterface,e.fn.modal.Constructor=ie,e.fn.modal.noConflict=()=>(e.fn[U]=Q,ie._jQueryInterface);const re=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],oe=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,ae=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i,se="tooltip",le="bs.tooltip",ue=`.${le}`,ce=e.fn[se],he="bs-tooltip",de=new RegExp(`(^|\\s)${he}\\S+`,"g"),fe=["sanitize","whiteList","sanitizeFn"],pe={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object"},ge={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},me={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]}},ve={SHOW:"show",OUT:"out"},ye={HIDE:`hide${ue}`,HIDDEN:`hidden${ue}`,SHOW:`show${ue}`,SHOWN:`shown${ue}`,INSERTED:`inserted${ue}`,CLICK:`click${ue}`,FOCUSIN:`focusin${ue}`,FOCUSOUT:`focusout${ue}`,MOUSEENTER:`mouseenter${ue}`,MOUSELEAVE:`mouseleave${ue}`},be={FADE:"fade",SHOW:"show"},xe={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner",ARROW:".arrow"},we={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"};class _e{constructor(e,n){if(void 0===t)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=e,this.config=this._getConfig(n),this.tip=null,this._setListeners()}static get VERSION(){return"4.3.1"}static get Default(){return me}static get NAME(){return se}static get DATA_KEY(){return le}static get Event(){return ye}static get EVENT_KEY(){return ue}static get DefaultType(){return pe}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(t){if(this._isEnabled)if(t){const n=this.constructor.DATA_KEY;let i=e(t.currentTarget).data(n);i||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(n,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(e(this.getTipElement()).hasClass(be.SHOW))return void this._leave(null,this);this._enter(null,this)}}dispose(){clearTimeout(this._timeout),e.removeData(this.element,this.constructor.DATA_KEY),e(this.element).off(this.constructor.EVENT_KEY),e(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&e(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null}show(){if("none"===e(this.element).css("display"))throw new Error("Please use show on visible elements");const n=e.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){e(this.element).trigger(n);const i=u.findShadowRoot(this.element),r=e.contains(null===i?this.element.ownerDocument.documentElement:i,this.element);if(n.isDefaultPrevented()||!r)return;const o=this.getTipElement(),a=u.getUID(this.constructor.NAME);o.setAttribute("id",a),this.element.setAttribute("aria-describedby",a),this.setContent(),this.config.animation&&e(o).addClass(be.FADE);const s="function"==typeof this.config.placement?this.config.placement.call(this,o,this.element):this.config.placement,l=this._getAttachment(s);this.addAttachmentClass(l);const c=this._getContainer();e(o).data(this.constructor.DATA_KEY,this),e.contains(this.element.ownerDocument.documentElement,this.tip)||e(o).appendTo(c),e(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new t(this.element,o,{placement:l,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:xe.ARROW},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:e=>{e.originalPlacement!==e.placement&&this._handlePopperPlacementChange(e)},onUpdate:e=>this._handlePopperPlacementChange(e)}),e(o).addClass(be.SHOW),"ontouchstart"in document.documentElement&&e(document.body).children().on("mouseover",null,e.noop);const h=()=>{this.config.animation&&this._fixTransition();const t=this._hoverState;this._hoverState=null,e(this.element).trigger(this.constructor.Event.SHOWN),t===ve.OUT&&this._leave(null,this)};if(e(this.tip).hasClass(be.FADE)){const t=u.getTransitionDurationFromElement(this.tip);e(this.tip).one(u.TRANSITION_END,h).emulateTransitionEnd(t)}else h()}}hide(t){const n=this.getTipElement(),i=e.Event(this.constructor.Event.HIDE),r=()=>{this._hoverState!==ve.SHOW&&n.parentNode&&n.parentNode.removeChild(n),this._cleanTipClass(),this.element.removeAttribute("aria-describedby"),e(this.element).trigger(this.constructor.Event.HIDDEN),null!==this._popper&&this._popper.destroy(),t&&t()};if(e(this.element).trigger(i),!i.isDefaultPrevented()){if(e(n).removeClass(be.SHOW),"ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),this._activeTrigger[we.CLICK]=!1,this._activeTrigger[we.FOCUS]=!1,this._activeTrigger[we.HOVER]=!1,e(this.tip).hasClass(be.FADE)){const t=u.getTransitionDurationFromElement(n);e(n).one(u.TRANSITION_END,r).emulateTransitionEnd(t)}else r();this._hoverState=""}}update(){null!==this._popper&&this._popper.scheduleUpdate()}isWithContent(){return!!this.getTitle()}addAttachmentClass(t){e(this.getTipElement()).addClass(`${he}-${t}`)}getTipElement(){return this.tip=this.tip||e(this.config.template)[0],this.tip}setContent(){const t=this.getTipElement();this.setElementContent(e(t.querySelectorAll(xe.TOOLTIP_INNER)),this.getTitle()),e(t).removeClass(`${be.FADE} ${be.SHOW}`)}setElementContent(t,n){return"object"==typeof n&&(n.nodeType||n.jquery)?void(this.config.html?!e(n).parent().is(t)&&t.empty().append(n):t.text(e(n).text())):void(this.config.html?(this.config.sanitize&&(n=o(n,this.config.whiteList,this.config.sanitizeFn)),t.html(n)):t.text(n))}getTitle(){let e=this.element.getAttribute("data-original-title");return e||(e="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),e}_getOffset(){const e={};return"function"==typeof this.config.offset?e.fn=e=>(e.offsets={...e.offsets,...this.config.offset(e.offsets,this.element)||{}},e):e.offset=this.config.offset,e}_getContainer(){return!1===this.config.container?document.body:u.isElement(this.config.container)?e(this.config.container):e(document).find(this.config.container)}_getAttachment(e){return ge[e.toUpperCase()]}_setListeners(){this.config.trigger.split(" ").forEach(t=>{if("click"===t)e(this.element).on(this.constructor.Event.CLICK,this.config.selector,e=>this.toggle(e));else if(t!==we.MANUAL){const n=t===we.HOVER?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,i=t===we.HOVER?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;e(this.element).on(n,this.config.selector,e=>this._enter(e)).on(i,this.config.selector,e=>this._leave(e))}}),e(this.element).closest(".modal").on("hide.bs.modal",()=>{this.element&&this.hide()}),this.config.selector?this.config={...this.config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){const e=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!=e)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))}_enter(t,n){const i=this.constructor.DATA_KEY;return(n=n||e(t.currentTarget).data(i))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),t&&(n._activeTrigger["focusin"===t.type?we.FOCUS:we.HOVER]=!0),e(n.getTipElement()).hasClass(be.SHOW)||n._hoverState===ve.SHOW?void(n._hoverState=ve.SHOW):(clearTimeout(n._timeout),n._hoverState=ve.SHOW,n.config.delay&&n.config.delay.show?void(n._timeout=setTimeout(()=>{n._hoverState===ve.SHOW&&n.show()},n.config.delay.show)):void n.show())}_leave(t,n){const i=this.constructor.DATA_KEY;if((n=n||e(t.currentTarget).data(i))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),t&&(n._activeTrigger["focusout"===t.type?we.FOCUS:we.HOVER]=!1),!n._isWithActiveTrigger())return clearTimeout(n._timeout),n._hoverState=ve.OUT,n.config.delay&&n.config.delay.hide?void(n._timeout=setTimeout(()=>{n._hoverState===ve.OUT&&n.hide()},n.config.delay.hide)):void n.hide()}_isWithActiveTrigger(){for(const e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1}_getConfig(t){const n=e(this.element).data();return Object.keys(n).forEach(e=>{-1!==fe.indexOf(e)&&delete n[e]}),"number"==typeof(t={...this.constructor.Default,...n,..."object"==typeof t&&t?t:{}}).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),u.typeCheckConfig(se,t,this.constructor.DefaultType),t.sanitize&&(t.template=o(t.template,t.whiteList,t.sanitizeFn)),t}_getDelegateConfig(){const e={};if(this.config)for(const t in this.config)this.constructor.Default[t]!==this.config[t]&&(e[t]=this.config[t]);return e}_cleanTipClass(){const t=e(this.getTipElement()),n=t.attr("class").match(de);null!==n&&n.length&&t.removeClass(n.join(""))}_handlePopperPlacementChange(e){this.tip=e.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(e.placement))}_fixTransition(){const t=this.getTipElement(),n=this.config.animation;null!==t.getAttribute("x-placement")||(e(t).removeClass(be.FADE),this.config.animation=!1,this.hide(),this.show(),this.config.animation=n)}static _jQueryInterface(t){return this.each((function(){let n=e(this).data(le);if((n||!/dispose|hide/.test(t))&&(n||(n=new _e(this,"object"==typeof t&&t),e(this).data(le,n)),"string"==typeof t)){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t]()}}))}}e.fn[se]=_e._jQueryInterface,e.fn[se].Constructor=_e,e.fn[se].noConflict=()=>(e.fn[se]=ce,_e._jQueryInterface);const Ee="popover",Se="bs.popover",Ce=`.${Se}`,Te=e.fn.popover,ke="bs-popover",De=new RegExp(`(^|\\s)${ke}\\S+`,"g"),Ae={..._e.Default,placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'},Oe={..._e.DefaultType,content:"(string|element|function)"},Pe={FADE:"fade",SHOW:"show"},Me={TITLE:".popover-header",CONTENT:".popover-body"},Ie={HIDE:`hide${Ce}`,HIDDEN:`hidden${Ce}`,SHOW:`show${Ce}`,SHOWN:`shown${Ce}`,INSERTED:`inserted${Ce}`,CLICK:`click${Ce}`,FOCUSIN:`focusin${Ce}`,FOCUSOUT:`focusout${Ce}`,MOUSEENTER:`mouseenter${Ce}`,MOUSELEAVE:`mouseleave${Ce}`};class Ne extends _e{static get VERSION(){return"4.3.1"}static get Default(){return Ae}static get NAME(){return Ee}static get DATA_KEY(){return Se}static get Event(){return Ie}static get EVENT_KEY(){return Ce}static get DefaultType(){return Oe}isWithContent(){return this.getTitle()||this._getContent()}addAttachmentClass(t){e(this.getTipElement()).addClass(`${ke}-${t}`)}getTipElement(){return this.tip=this.tip||e(this.config.template)[0],this.tip}setContent(){const t=e(this.getTipElement());this.setElementContent(t.find(Me.TITLE),this.getTitle());let n=this._getContent();"function"==typeof n&&(n=n.call(this.element)),this.setElementContent(t.find(Me.CONTENT),n),t.removeClass(`${Pe.FADE} ${Pe.SHOW}`)}_getContent(){return this.element.getAttribute("data-content")||this.config.content}_cleanTipClass(){const t=e(this.getTipElement()),n=t.attr("class").match(De);null!==n&&0<n.length&&t.removeClass(n.join(""))}static _jQueryInterface(t){return this.each((function(){let n=e(this).data(Se);const i="object"==typeof t?t:null;if((n||!/dispose|hide/.test(t))&&(n||(n=new Ne(this,i),e(this).data(Se,n)),"string"==typeof t)){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t]()}}))}}e.fn.popover=Ne._jQueryInterface,e.fn.popover.Constructor=Ne,e.fn.popover.noConflict=()=>(e.fn[Ee]=Te,Ne._jQueryInterface);const Le="scrollspy",Re="bs.scrollspy",Be=`.${Re}`,je=e.fn.scrollspy,Fe={offset:10,method:"auto",target:""},He={offset:"number",method:"string",target:"(string|element)"},Ye={ACTIVATE:`activate${Be}`,SCROLL:`scroll${Be}`,LOAD_DATA_API:`load${Be}.data-api`},ze={DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active"},We={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},$e={OFFSET:"offset",POSITION:"position"};class Ve{constructor(t,n){this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(n),this._selector=`${this._config.target} ${We.NAV_LINKS},`+`${this._config.target} ${We.LIST_ITEMS},`+`${this._config.target} ${We.DROPDOWN_ITEMS}`,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,e(this._scrollElement).on(Ye.SCROLL,e=>this._process(e)),this.refresh(),this._process()}static get VERSION(){return"4.3.1"}static get Default(){return Fe}refresh(){const t="auto"===this._config.method?this._scrollElement===this._scrollElement.window?$e.OFFSET:$e.POSITION:this._config.method,n=t===$e.POSITION?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map(i=>{let r;const o=u.getSelectorFromElement(i);if(o&&(r=document.querySelector(o)),r){const i=r.getBoundingClientRect();if(i.width||i.height)return[e(r)[t]().top+n,o]}return null}).filter(e=>e).sort((e,t)=>e[0]-t[0]).forEach(e=>{this._offsets.push(e[0]),this._targets.push(e[1])})}dispose(){e.removeData(this._element,Re),e(this._scrollElement).off(Be),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null}_getConfig(t){if("string"!=typeof(t={...Fe,..."object"==typeof t&&t?t:{}}).target){let n=e(t.target).attr("id");n||(n=u.getUID(Le),e(t.target).attr("id",n)),t.target=`#${n}`}return u.typeCheckConfig(Le,t,He),t}_getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}_getScrollHeight(){return this._scrollElement.scrollHeight||n(document.body.scrollHeight,document.documentElement.scrollHeight)}_getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}_process(){const e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),n=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),e>=n){const e=this._targets[this._targets.length-1];this._activeTarget!==e&&this._activate(e)}else{if(this._activeTarget&&e<this._offsets[0]&&0<this._offsets[0])return this._activeTarget=null,void this._clear();for(let t=this._offsets.length;t--;)this._activeTarget!==this._targets[t]&&e>=this._offsets[t]&&(void 0===this._offsets[t+1]||e<this._offsets[t+1])&&this._activate(this._targets[t])}}_activate(t){this._activeTarget=t,this._clear();const n=this._selector.split(",").map(e=>`${e}[data-target="${t}"],${e}[href="${t}"]`),i=e([].slice.call(document.querySelectorAll(n.join(","))));i.hasClass(ze.DROPDOWN_ITEM)?(i.closest(We.DROPDOWN).find(We.DROPDOWN_TOGGLE).addClass(ze.ACTIVE),i.addClass(ze.ACTIVE)):(i.addClass(ze.ACTIVE),i.parents(We.NAV_LIST_GROUP).prev(`${We.NAV_LINKS}, ${We.LIST_ITEMS}`).addClass(ze.ACTIVE),i.parents(We.NAV_LIST_GROUP).prev(We.NAV_ITEMS).children(We.NAV_LINKS).addClass(ze.ACTIVE)),e(this._scrollElement).trigger(Ye.ACTIVATE,{relatedTarget:t})}_clear(){[].slice.call(document.querySelectorAll(this._selector)).filter(e=>e.classList.contains(ze.ACTIVE)).forEach(e=>e.classList.remove(ze.ACTIVE))}static _jQueryInterface(t){return this.each((function(){let n=e(this).data(Re);if(n||(n=new Ve(this,"object"==typeof t&&t),e(this).data(Re,n)),"string"==typeof t){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t]()}}))}}e(window).on(Ye.LOAD_DATA_API,()=>{const t=[].slice.call(document.querySelectorAll(We.DATA_SPY));for(let n=t.length;n--;){const i=e(t[n]);Ve._jQueryInterface.call(i,i.data())}}),e.fn.scrollspy=Ve._jQueryInterface,e.fn.scrollspy.Constructor=Ve,e.fn.scrollspy.noConflict=()=>(e.fn[Le]=je,Ve._jQueryInterface);const qe="bs.tab",Xe=`.${qe}`,Ue=e.fn.tab,Ge={HIDE:`hide${Xe}`,HIDDEN:`hidden${Xe}`,SHOW:`show${Xe}`,SHOWN:`shown${Xe}`,CLICK_DATA_API:`click${Xe}.data-api`},Ke={DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active",DISABLED:"disabled",FADE:"fade",SHOW:"show"},Qe={DROPDOWN:".dropdown",NAV_LIST_GROUP:".nav, .list-group",ACTIVE:".active",ACTIVE_UL:"> li > .active",DATA_TOGGLE:'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',DROPDOWN_TOGGLE:".dropdown-toggle",DROPDOWN_ACTIVE_CHILD:"> .dropdown-menu .active"};class Ze{constructor(e){this._element=e}static get VERSION(){return"4.3.1"}show(){if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&e(this._element).hasClass(Ke.ACTIVE)||e(this._element).hasClass(Ke.DISABLED))return;let t,n;const i=e(this._element).closest(Qe.NAV_LIST_GROUP)[0],r=u.getSelectorFromElement(this._element);if(i){const t="UL"===i.nodeName||"OL"===i.nodeName?Qe.ACTIVE_UL:Qe.ACTIVE;n=(n=e.makeArray(e(i).find(t)))[n.length-1]}const o=e.Event(Ge.HIDE,{relatedTarget:this._element}),a=e.Event(Ge.SHOW,{relatedTarget:n});if(n&&e(n).trigger(o),e(this._element).trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){r&&(t=document.querySelector(r)),this._activate(this._element,i);const o=()=>{const t=e.Event(Ge.HIDDEN,{relatedTarget:this._element}),i=e.Event(Ge.SHOWN,{relatedTarget:n});e(n).trigger(t),e(this._element).trigger(i)};t?this._activate(t,t.parentNode,o):o()}}dispose(){e.removeData(this._element,qe),this._element=null}_activate(t,n,i){const r=(!n||"UL"!==n.nodeName&&"OL"!==n.nodeName?e(n).children(Qe.ACTIVE):e(n).find(Qe.ACTIVE_UL))[0],o=i&&r&&e(r).hasClass(Ke.FADE),a=()=>this._transitionComplete(t,r,i);if(r&&o){const t=u.getTransitionDurationFromElement(r);e(r).removeClass(Ke.SHOW).one(u.TRANSITION_END,a).emulateTransitionEnd(t)}else a()}_transitionComplete(t,n,i){if(n){e(n).removeClass(Ke.ACTIVE);const t=e(n.parentNode).find(Qe.DROPDOWN_ACTIVE_CHILD)[0];t&&e(t).removeClass(Ke.ACTIVE),"tab"===n.getAttribute("role")&&n.setAttribute("aria-selected",!1)}if(e(t).addClass(Ke.ACTIVE),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),u.reflow(t),t.classList.contains(Ke.FADE)&&t.classList.add(Ke.SHOW),t.parentNode&&e(t.parentNode).hasClass(Ke.DROPDOWN_MENU)){const n=e(t).closest(Qe.DROPDOWN)[0];if(n){const t=[].slice.call(n.querySelectorAll(Qe.DROPDOWN_TOGGLE));e(t).addClass(Ke.ACTIVE)}t.setAttribute("aria-expanded",!0)}i&&i()}static _jQueryInterface(t){return this.each((function(){const n=e(this);let i=n.data(qe);if(i||(i=new Ze(this),n.data(qe,i)),"string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t]()}}))}}e(document).on(Ge.CLICK_DATA_API,Qe.DATA_TOGGLE,(function(t){t.preventDefault(),Ze._jQueryInterface.call(e(this),"show")})),e.fn.tab=Ze._jQueryInterface,e.fn.tab.Constructor=Ze,e.fn.tab.noConflict=()=>(e.fn.tab=Ue,Ze._jQueryInterface);var Je=function(){var e=!1,t="",n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};return function(){for(var i in e=function(){if(window.QUnit)return!1;var e=document.createElement("bmd");for(var t in n)if(void 0!==e.style[t])return n[t];return!1}(),n)t+=" "+n[i]}(),{transitionEndSupported:function(){return e},transitionEndSelector:function(){return t},isChar:function(e){return!(void 0!==e.which&&(!("number"==typeof e.which&&0<e.which)||e.ctrlKey||e.metaKey||e.altKey||8===e.which||9===e.which||13===e.which||16===e.which||17===e.which||20===e.which||27===e.which))},assert:function(e,t,n){if(t)throw void 0===!e&&e.css("border","1px solid red"),console.error(n,e),n},describe:function(e){return void 0===e?"undefined":0===e.length?"(no matching elements)":e[0].outerHTML.split(">")[0]+">"}}}(jQuery),et=function(e){var t={};return function(){function n(n,i,r){for(var o in void 0===r&&(r={}),this.$element=n,this.config=e.extend(!0,{},t,i),r)this[o]=r[o]}var i=n.prototype;return i.dispose=function(e){this.$element.data(e,null),this.$element=null,this.config=null},i.addFormGroupFocus=function(){this.$element.prop("disabled")||this.$bmdFormGroup.addClass("is-focused")},i.removeFormGroupFocus=function(){this.$bmdFormGroup.removeClass("is-focused")},i.removeIsFilled=function(){this.$bmdFormGroup.removeClass("is-filled")},i.addIsFilled=function(){this.$bmdFormGroup.addClass("is-filled")},i.findMdbFormGroup=function(t){void 0===t&&(t=!0);var n=this.$element.closest(".bmd-form-group");return 0===n.length&&t&&e.error("Failed to find .bmd-form-group for "+Je.describe(this.$element)),n},n}()}(jQuery),tt=function(e){var t=".form-group",n="label[class^='bmd-label'], label[class*=' bmd-label']",i={validate:!1,formGroup:{required:!1},bmdFormGroup:{template:"<span class='bmd-form-group'></span>",create:!0,required:!0},label:{required:!1,selectors:[".form-control-label","> label"],className:"bmd-label-static"},requiredClasses:[],invalidComponentMatches:[],convertInputSizeVariations:!0},r={"form-control-lg":"bmd-form-group-lg","form-control-sm":"bmd-form-group-sm"};return function(o){function a(t,n,r){var a;return void 0===r&&(r={}),(a=o.call(this,t,e.extend(!0,{},i,n),r)||this)._rejectInvalidComponentMatches(),a.rejectWithoutRequiredStructure(),a._rejectWithoutRequiredClasses(),a.$formGroup=a.findFormGroup(a.config.formGroup.required),a.$bmdFormGroup=a.resolveMdbFormGroup(),a.$bmdLabel=a.resolveMdbLabel(),a.resolveMdbFormGroupSizing(),a.addFocusListener(),a.addChangeListener(),""!=a.$element.val()&&a.addIsFilled(),a}s(a,o);var l=a.prototype;return l.dispose=function(e){o.prototype.dispose.call(this,e),this.$bmdFormGroup=null,this.$formGroup=null},l.rejectWithoutRequiredStructure=function(){},l.addFocusListener=function(){var e=this;this.$element.on("focus",(function(){e.addFormGroupFocus()})).on("blur",(function(){e.removeFormGroupFocus()}))},l.addChangeListener=function(){var e=this;this.$element.on("keydown paste",(function(t){Je.isChar(t)&&e.addIsFilled()})).on("keyup change",(function(){e.isEmpty()?e.removeIsFilled():e.addIsFilled(),e.config.validate&&(void 0===e.$element[0].checkValidity||e.$element[0].checkValidity()?e.removeHasDanger():e.addHasDanger())}))},l.addHasDanger=function(){this.$bmdFormGroup.addClass("has-danger")},l.removeHasDanger=function(){this.$bmdFormGroup.removeClass("has-danger")},l.isEmpty=function(){return null===this.$element.val()||void 0===this.$element.val()||""===this.$element.val()},l.resolveMdbFormGroup=function(){var e=this.findMdbFormGroup(!1);return(void 0===e||0===e.length)&&(!this.config.bmdFormGroup.create||void 0!==this.$formGroup&&0!==this.$formGroup.length?this.$formGroup.addClass("bmd-form-group"):this.outerElement().parent().hasClass("input-group")?this.outerElement().parent().wrap(this.config.bmdFormGroup.template):this.outerElement().wrap(this.config.bmdFormGroup.template),e=this.findMdbFormGroup(this.config.bmdFormGroup.required)),e},l.outerElement=function(){return this.$element},l.resolveMdbLabel=function(){var e=this.$bmdFormGroup.find(n);return void 0!==e&&0!==e.length||void 0===(e=this.findMdbLabel(this.config.label.required))||0===e.length||e.addClass(this.config.label.className),e},l.findMdbLabel=function(t){void 0===t&&(t=!0);var i=null,r=this.config.label.selectors,o=Array.isArray(r),a=0;for(r=o?r:r[Symbol.iterator]();;){var s;if(o){if(a>=r.length)break;s=r[a++]}else{if((a=r.next()).done)break;s=a.value}var l=s;if(void 0!==(i=e.isFunction(l)?l(this):this.$bmdFormGroup.find(l))&&0<i.length)break}return 0===i.length&&t&&e.error("Failed to find "+n+" within form-group for "+Je.describe(this.$element)),i},l.findFormGroup=function(n){void 0===n&&(n=!0);var i=this.$element.closest(t);return 0===i.length&&n&&e.error("Failed to find "+t+" for "+Je.describe(this.$element)),i},l.resolveMdbFormGroupSizing=function(){if(this.config.convertInputSizeVariations)for(var e in r)this.$element.hasClass(e)&&this.$bmdFormGroup.addClass(r[e])},l._rejectInvalidComponentMatches=function(){var e=this.config.invalidComponentMatches,t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var i;if(t){if(n>=e.length)break;i=e[n++]}else{if((n=e.next()).done)break;i=n.value}i.rejectMatch(this.constructor.name,this.$element)}},l._rejectWithoutRequiredClasses=function(){var e=this.config.requiredClasses,t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var i;if(t){if(n>=e.length)break;i=e[n++]}else{if((n=e.next()).done)break;i=n.value}var r=i;if(-1!==r.indexOf("||")){var o=r.split("||"),a=Array.isArray(o),s=0;for(o=a?o:o[Symbol.iterator]();;){var l;if(a){if(s>=o.length)break;l=o[s++]}else{if((s=o.next()).done)break;l=s.value}if(this.$element.hasClass(l))break}}else this.$element.hasClass(r)}},a}(et)}(jQuery),nt=function(e){var t={label:{required:!1}};return function(n){function i(i,r,o){var a;return(a=n.call(this,i,e.extend(!0,{},t,r),o)||this).decorateMarkup(),a}s(i,n);var r=i.prototype;return r.decorateMarkup=function(){var t=e(this.config.template);this.$element.after(t),!1!==this.config.ripples&&t.bmdRipples()},r.outerElement=function(){return this.$element.parent().closest("."+this.outerClass)},r.rejectWithoutRequiredStructure=function(){Je.assert(this.$element,"label"===!this.$element.parent().prop("tagName"),this.constructor.name+"'s "+Je.describe(this.$element)+" parent element should be <label>."),Je.assert(this.$element,!this.outerElement().hasClass(this.outerClass),this.constructor.name+"'s "+Je.describe(this.$element)+" outer element should have class "+this.outerClass+".")},r.addFocusListener=function(){var e=this;this.$element.closest("label").hover((function(){e.addFormGroupFocus()}),(function(){e.removeFormGroupFocus()}))},r.addChangeListener=function(){var e=this;this.$element.change((function(){e.$element.blur()}))},i}(tt)}(jQuery),it=function(e){var t="bmd.checkbox",n="bmd"+("c".toUpperCase()+"checkbox".slice(1)),i=e.fn[n],r={template:"<span class='checkbox-decorator'><span class='check'></span></span>"},o=function(n){function i(t,i,o){return void 0===o&&(o={inputType:"checkbox",outerClass:"checkbox"}),n.call(this,t,e.extend(!0,r,i),o)||this}return s(i,n),i.prototype.dispose=function(e){void 0===e&&(e=t),n.prototype.dispose.call(this,e)},i.matches=function(e){return"checkbox"===e.attr("type")},i.rejectMatch=function(e,t){Je.assert(this.$element,this.matches(t),e+" component element "+Je.describe(t)+" is invalid for type='checkbox'.")},i._jQueryInterface=function(n){return this.each((function(){var r=e(this),o=r.data(t);o||(o=new i(r,n),r.data(t,o))}))},i}(nt);return e.fn[n]=o._jQueryInterface,e.fn[n].Constructor=o,e.fn[n].noConflict=function(){return e.fn[n]=i,o._jQueryInterface},o}(jQuery),rt=(function(e){var t="bmd.checkboxInline",n="bmd"+("c".toUpperCase()+"checkboxInline".slice(1)),i=e.fn[n],r={bmdFormGroup:{create:!1,required:!1}},o=function(n){function i(t,i,o){return void 0===o&&(o={inputType:"checkbox",outerClass:"checkbox-inline"}),n.call(this,t,e.extend(!0,{},r,i),o)||this}return s(i,n),i.prototype.dispose=function(){n.prototype.dispose.call(this,t)},i._jQueryInterface=function(n){return this.each((function(){var r=e(this),o=r.data(t);o||(o=new i(r,n),r.data(t,o))}))},i}(it);e.fn[n]=o._jQueryInterface,e.fn[n].Constructor=o,e.fn[n].noConflict=function(){return e.fn[n]=i,o._jQueryInterface}}(jQuery),function(e){var t="bmd.collapseInline",n="bmd"+("c".toUpperCase()+"collapseInline".slice(1)),i=e.fn[n],r={ANY_INPUT:"input, select, textarea"},o={IN:"in",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed",WIDTH:"width"},a={},l=function(n){function i(t,i){var s;(s=n.call(this,t,e.extend(!0,{},a,i))||this).$bmdFormGroup=s.findMdbFormGroup(!0);var l=t.data("target");s.$collapse=e(l),Je.assert(t,0===s.$collapse.length,"Cannot find collapse target for "+Je.describe(t)),Je.assert(s.$collapse,!s.$collapse.hasClass(o.COLLAPSE),Je.describe(s.$collapse)+" is expected to have the '"+o.COLLAPSE+"' class.  It is being targeted by "+Je.describe(t));var u=s.$bmdFormGroup.find(r.ANY_INPUT);return 0<u.length&&(s.$input=u.first()),s.$collapse.hasClass(o.WIDTH)||s.$collapse.addClass(o.WIDTH),s.$input&&(s.$collapse.on("shown.bs.collapse",(function(){s.$input.focus()})),s.$input.blur((function(){s.$collapse.collapse("hide")}))),s}return s(i,n),i.prototype.dispose=function(){n.prototype.dispose.call(this,t),this.$bmdFormGroup=null,this.$collapse=null,this.$input=null},i._jQueryInterface=function(n){return this.each((function(){var r=e(this),o=r.data(t);o||(o=new i(r,n),r.data(t,o))}))},i}(et);e.fn[n]=l._jQueryInterface,e.fn[n].Constructor=l,e.fn[n].noConflict=function(){return e.fn[n]=i,l._jQueryInterface}}(jQuery),function(e){var t="bmd.file",n="bmd"+("f".toUpperCase()+"file".slice(1)),i=e.fn[n],r={},o={FILE:"file",IS_FILE:"is-file"},a=function(n){function i(t,i){var a;return(a=n.call(this,t,e.extend(!0,r,i))||this).$bmdFormGroup.addClass(o.IS_FILE),a}s(i,n);var a=i.prototype;return a.dispose=function(){n.prototype.dispose.call(this,t)},i.matches=function(e){return"file"===e.attr("type")},i.rejectMatch=function(e,t){Je.assert(this.$element,this.matches(t),e+" component element "+Je.describe(t)+" is invalid for type='file'.")},a.outerElement=function(){return this.$element.parent().closest("."+o.FILE)},a.rejectWithoutRequiredStructure=function(){Je.assert(this.$element,"label"===!this.outerElement().prop("tagName"),this.constructor.name+"'s "+Je.describe(this.$element)+" parent element "+Je.describe(this.outerElement())+" should be <label>."),Je.assert(this.$element,!this.outerElement().hasClass(o.FILE),this.constructor.name+"'s "+Je.describe(this.$element)+" parent element "+Je.describe(this.outerElement())+" should have class ."+o.FILE+".")},a.addFocusListener=function(){var e=this;this.$bmdFormGroup.on("focus",(function(){e.addFormGroupFocus()})).on("blur",(function(){e.removeFormGroupFocus()}))},a.addChangeListener=function(){var t=this;this.$element.on("change",(function(){var n="";e.each(t.$element.files,(function(e,t){n+=t.name+"  , "})),(n=n.substring(0,n.length-2))?t.addIsFilled():t.removeIsFilled(),t.$bmdFormGroup.find("input.form-control[readonly]").val(n)}))},i._jQueryInterface=function(n){return this.each((function(){var r=e(this),o=r.data(t);o||(o=new i(r,n),r.data(t,o))}))},i}(tt);e.fn[n]=a._jQueryInterface,e.fn[n].Constructor=a,e.fn[n].noConflict=function(){return e.fn[n]=i,a._jQueryInterface}}(jQuery),function(e){var t="bmd.radio",n="bmd"+("r".toUpperCase()+"radio".slice(1)),i=e.fn[n],r={template:"<span class='bmd-radio'></span>"},o=function(n){function i(t,i,o){return void 0===o&&(o={inputType:"radio",outerClass:"radio"}),n.call(this,t,e.extend(!0,r,i),o)||this}return s(i,n),i.prototype.dispose=function(e){void 0===e&&(e=t),n.prototype.dispose.call(this,e)},i.matches=function(e){return"radio"===e.attr("type")},i.rejectMatch=function(e,t){Je.assert(this.$element,this.matches(t),e+" component element "+Je.describe(t)+" is invalid for type='radio'.")},i._jQueryInterface=function(n){return this.each((function(){var r=e(this),o=r.data(t);o||(o=new i(r,n),r.data(t,o))}))},i}(nt);return e.fn[n]=o._jQueryInterface,e.fn[n].Constructor=o,e.fn[n].noConflict=function(){return e.fn[n]=i,o._jQueryInterface},o}(jQuery)),ot=(function(e){var t="bmd.radioInline",n="bmd"+("r".toUpperCase()+"radioInline".slice(1)),i=e.fn[n],r={bmdFormGroup:{create:!1,required:!1}},o=function(n){function i(t,i,o){return void 0===o&&(o={inputType:"radio",outerClass:"radio-inline"}),n.call(this,t,e.extend(!0,{},r,i),o)||this}return s(i,n),i.prototype.dispose=function(){n.prototype.dispose.call(this,t)},i._jQueryInterface=function(n){return this.each((function(){var r=e(this),o=r.data(t);o||(o=new i(r,n),r.data(t,o))}))},i}(rt);e.fn[n]=o._jQueryInterface,e.fn[n].Constructor=o,e.fn[n].noConflict=function(){return e.fn[n]=i,o._jQueryInterface}}(jQuery),function(e){var t={requiredClasses:["form-control"]};return function(n){function i(i,r){var o;return(o=n.call(this,i,e.extend(!0,t,r))||this).isEmpty()&&o.removeIsFilled(),o}return s(i,n),i}(tt)}(jQuery)),at=(function(e){var t="bmd.select",n="bmd"+("s".toUpperCase()+"select".slice(1)),i=e.fn[n],r={requiredClasses:["form-control||custom-select"]},o=function(n){function i(t,i){var o;return(o=n.call(this,t,e.extend(!0,r,i))||this).addIsFilled(),o}return s(i,n),i.prototype.dispose=function(){n.prototype.dispose.call(this,t)},i.matches=function(e){return"select"===e.prop("tagName")},i.rejectMatch=function(e,t){Je.assert(this.$element,this.matches(t),e+" component element "+Je.describe(t)+" is invalid for <select>.")},i._jQueryInterface=function(n){return this.each((function(){var r=e(this),o=r.data(t);o||(o=new i(r,n),r.data(t,o))}))},i}(ot);e.fn[n]=o._jQueryInterface,e.fn[n].Constructor=o,e.fn[n].noConflict=function(){return e.fn[n]=i,o._jQueryInterface}}(jQuery),function(e){var t="bmd.switch",n="bmd"+("s".toUpperCase()+"switch".slice(1)),i=e.fn[n],r={template:"<span class='bmd-switch-track'></span>"},o=function(n){function i(t,i,o){return void 0===o&&(o={inputType:"checkbox",outerClass:"switch"}),n.call(this,t,e.extend(!0,{},r,i),o)||this}return s(i,n),i.prototype.dispose=function(){n.prototype.dispose.call(this,t)},i._jQueryInterface=function(n){return this.each((function(){var r=e(this),o=r.data(t);o||(o=new i(r,n),r.data(t,o))}))},i}(it);e.fn[n]=o._jQueryInterface,e.fn[n].Constructor=o,e.fn[n].noConflict=function(){return e.fn[n]=i,o._jQueryInterface}}(jQuery),function(e){var t="bmd.text",n="bmd"+("t".toUpperCase()+"text".slice(1)),i=e.fn[n],r={},o=function(n){function i(t,i){return n.call(this,t,e.extend(!0,r,i))||this}return s(i,n),i.prototype.dispose=function(e){void 0===e&&(e=t),n.prototype.dispose.call(this,e)},i.matches=function(e){return"text"===e.attr("type")},i.rejectMatch=function(e,t){Je.assert(this.$element,this.matches(t),e+" component element "+Je.describe(t)+" is invalid for type='text'.")},i._jQueryInterface=function(n){return this.each((function(){var r=e(this),o=r.data(t);o||(o=new i(r,n),r.data(t,o))}))},i}(ot);e.fn[n]=o._jQueryInterface,e.fn[n].Constructor=o,e.fn[n].noConflict=function(){return e.fn[n]=i,o._jQueryInterface}}(jQuery),function(e){var t="bmd.textarea",n="bmd"+("t".toUpperCase()+"textarea".slice(1)),i=e.fn[n],r={},o=function(n){function i(t,i){return n.call(this,t,e.extend(!0,r,i))||this}return s(i,n),i.prototype.dispose=function(){n.prototype.dispose.call(this,t)},i.matches=function(e){return"textarea"===e.prop("tagName")},i.rejectMatch=function(e,t){Je.assert(this.$element,this.matches(t),e+" component element "+Je.describe(t)+" is invalid for <textarea>.")},i._jQueryInterface=function(n){return this.each((function(){var r=e(this),o=r.data(t);o||(o=new i(r,n),r.data(t,o))}))},i}(ot);e.fn[n]=o._jQueryInterface,e.fn[n].Constructor=o,e.fn[n].noConflict=function(){return e.fn[n]=i,o._jQueryInterface}}(jQuery),function(e){if("undefined"==typeof Popper)throw new Error("Bootstrap dropdown require Popper.js (https://popper.js.org)");var t="bs.dropdown",n="."+t,i=".data-api",r=e.fn.dropdown,o=new RegExp("38|40|27"),s={HIDE:"hide"+n,HIDDEN:"hidden"+n,SHOW:"show"+n,SHOWN:"shown"+n,CLICK:"click"+n,CLICK_DATA_API:"click"+n+i,KEYDOWN_DATA_API:"keydown"+n+i,KEYUP_DATA_API:"keyup"+n+i,TRANSITION_END:"transitionend webkitTransitionEnd oTransitionEnd animationend webkitAnimationEnd oAnimationEnd"},l='[data-toggle="dropdown"]',c={TOP:"top-start",TOPEND:"top-end",BOTTOM:"bottom-start",BOTTOMEND:"bottom-end"},h={placement:c.BOTTOM,offset:0,flip:!0},d={placement:"string",offset:"(number|string)",flip:"boolean"},f=function(){function i(e,t){this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var r=i.prototype;return r.toggle=function(){var t=this;if(!this._element.disabled&&!e(this._element).hasClass("disabled")){var n=i._getParentFromElement(this._element),r=e(this._menu).hasClass("show");if(i._clearMenus(),!r){var o={relatedTarget:this._element},a=e.Event(s.SHOW,o);if(e(n).trigger(a),!a.isDefaultPrevented()){var l=this._element;e(n).hasClass("dropup")&&(e(this._menu).hasClass("dropdown-menu-left")||e(this._menu).hasClass("dropdown-menu-right"))&&(l=n),this._popper=new Popper(l,this._menu,this._getPopperConfig()),"ontouchstart"in document.documentElement&&!e(n).closest(".navbar-nav").length&&e("body").children().on("mouseover",null,e.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),e(this._menu).one(s.TRANSITION_END,(function(){e(n).trigger(e.Event(s.SHOWN,o)),e(t._menu).removeClass("showing")})),e(this._menu).addClass("show showing"),e(n).addClass("show")}}}},r.dispose=function(){e.removeData(this._element,t),e(this._element).off(n),this._element=null,this._menu=null,null!==this._popper&&this._popper.destroy(),this._popper=null},r.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},r._addEventListeners=function(){var t=this;e(this._element).on(s.CLICK,(function(e){e.preventDefault(),e.stopPropagation(),t.toggle()}))},r._getConfig=function(t){var n=e(this._element).data();return void 0!==n.placement&&(n.placement=c[n.placement.toUpperCase()]),t=e.extend({},this.constructor.Default,e(this._element).data(),t),u.typeCheckConfig("dropdown",t,this.constructor.DefaultType),t},r._getMenuElement=function(){if(!this._menu){var t=i._getParentFromElement(this._element);this._menu=e(t).find(".dropdown-menu")[0]}return this._menu},r._getPlacement=function(){var t=e(this._element).parent(),n=this._config.placement;return t.hasClass("dropup")||this._config.placement===c.TOP?(n=c.TOP,e(this._menu).hasClass("dropdown-menu-right")&&(n=c.TOPEND)):e(this._menu).hasClass("dropdown-menu-right")&&(n=c.BOTTOMEND),n},r._detectNavbar=function(){return 0<e(this._element).closest(".navbar").length},r._getPopperConfig=function(){var e={placement:this._getPlacement(),modifiers:{offset:{offset:this._config.offset},flip:{enabled:this._config.flip}}};return this._inNavbar&&(e.modifiers.applyStyle={enabled:!this._inNavbar}),e},i._jQueryInterface=function(n){return this.each((function(){var r=e(this).data(t);if(r||(r=new i(this,"object"==typeof n?n:null),e(this).data(t,r)),"string"==typeof n){if(void 0===r[n])throw new Error('No method named "'+n+'"');r[n]()}}))},i._clearMenus=function(n){if(!n||3!==n.which&&("keyup"!==n.type||9===n.which))for(var r=e.makeArray(e(l)),o=function(o){var a=i._getParentFromElement(r[o]),l=e(r[o]).data(t),u={relatedTarget:r[o]};if(!l)return"continue";var c=l._menu;if(!e(a).hasClass("show"))return"continue";if(n&&("click"===n.type&&/input|textarea/i.test(n.target.tagName)||"keyup"===n.type&&9===n.which)&&e.contains(a,n.target))return"continue";var h=e.Event(s.HIDE,u);return e(a).trigger(h),h.isDefaultPrevented()?"continue":("ontouchstart"in document.documentElement&&e("body").children().off("mouseover",null,e.noop),r[o].setAttribute("aria-expanded","false"),e(c).addClass("hiding").removeClass("show"),e(a).removeClass("show"),void e(c).one(s.TRANSITION_END,(function(){e(a).trigger(e.Event(s.HIDDEN,u)),e(c).removeClass("hiding")})))},a=0;a<r.length;a++)o(a)},i._getParentFromElement=function(t){var n,i=u.getSelectorFromElement(t);return i&&(n=e(i)[0]),n||t.parentNode},i._dataApiKeydownHandler=function(t){if(!(!o.test(t.which)||/button/i.test(t.target.tagName)&&32===t.which||/input|textarea/i.test(t.target.tagName)||(t.preventDefault(),t.stopPropagation(),this.disabled||e(this).hasClass("disabled")))){var n=i._getParentFromElement(this),r=e(n).hasClass("show");if(!r&&(27!==t.which||32!==t.which)||r&&(27===t.which||32===t.which)){if(27===t.which){var a=e(n).find(l)[0];e(a).trigger("focus")}return void e(this).trigger("click")}var s=e(n).find(".dropdown-menu .dropdown-item:not(.disabled)").get();if(s.length){var u=s.indexOf(t.target);38===t.which&&0<u&&u--,40===t.which&&u<s.length-1&&u++,0>u&&(u=0),s[u].focus()}}},function(e,t,n){n&&a(e,n)}(i,0,[{key:"VERSION",get:function(){return"4.1.0"}},{key:"Default",get:function(){return h}},{key:"DefaultType",get:function(){return d}}]),i}();e(document).on(s.KEYDOWN_DATA_API,l,f._dataApiKeydownHandler).on(s.KEYDOWN_DATA_API,".dropdown-menu",f._dataApiKeydownHandler).on(s.CLICK_DATA_API+" "+s.KEYUP_DATA_API,f._clearMenus).on(s.CLICK_DATA_API,l,(function(t){t.preventDefault(),t.stopPropagation(),f._jQueryInterface.call(e(this),"toggle")})).on(s.CLICK_DATA_API,".dropdown form",(function(e){e.stopPropagation()})),e.fn.dropdown=f._jQueryInterface,e.fn.dropdown.Constructor=f,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=r,f._jQueryInterface}}(jQuery),function(e){var t=".bmd-layout-canvas",n=".bmd-layout-container",i=".bmd-layout-backdrop",r={canvas:{create:!0,required:!0,template:'<div class="bmd-layout-canvas"></div>'},backdrop:{create:!0,required:!0,template:'<div class="bmd-layout-backdrop"></div>'}};return function(o){function a(t,n,i){var a;return void 0===i&&(i={}),(a=o.call(this,t,e.extend(!0,{},r,n),i)||this).$container=a.findContainer(!0),a.$backdrop=a.resolveBackdrop(),a.resolveCanvas(),a}s(a,o);var l=a.prototype;return l.dispose=function(e){o.prototype.dispose.call(this,e),this.$container=null,this.$backdrop=null},l.resolveCanvas=function(){var e=this.findCanvas(!1);return(void 0===e||0===e.length)&&(this.config.canvas.create&&this.$container.wrap(this.config.canvas.template),e=this.findCanvas(this.config.canvas.required)),e},l.findCanvas=function(n,i){void 0===n&&(n=!0),void 0===i&&(i=this.$container);var r=i.closest(t);return 0===r.length&&n&&e.error("Failed to find "+t+" for "+Je.describe(i)),r},l.resolveBackdrop=function(){var e=this.findBackdrop(!1);return(void 0===e||0===e.length)&&(this.config.backdrop.create&&this.$container.append(this.config.backdrop.template),e=this.findBackdrop(this.config.backdrop.required)),e},l.findBackdrop=function(t,n){void 0===t&&(t=!0),void 0===n&&(n=this.$container);var r=n.find("> "+i);return 0===r.length&&t&&e.error("Failed to find "+i+" for "+Je.describe(n)),r},l.findContainer=function(t,i){void 0===t&&(t=!0),void 0===i&&(i=this.$element);var r=i.closest(n);return 0===r.length&&t&&e.error("Failed to find "+n+" for "+Je.describe(i)),r},a}(et)}(jQuery));(function(e){var t="bmd.drawer",n="bmd"+("d".toUpperCase()+"drawer".slice(1)),i=e.fn[n],r={ESCAPE:27},o={focusSelector:"a, button, input"},a=function(n){function i(t,i){var a;return(a=n.call(this,t,e.extend(!0,{},o,i))||this).$toggles=e('[data-toggle="drawer"][href="#'+a.$element[0].id+'"], [data-toggle="drawer"][data-target="#'+a.$element[0].id+'"]'),a._addAria(),a.$backdrop.keydown((function(e){e.which===r.ESCAPE&&a.hide()})).click((function(){a.hide()})),a.$element.keydown((function(e){e.which===r.ESCAPE&&a.hide()})),a.$toggles.click((function(){a.toggle()})),a}s(i,n);var a=i.prototype;return a.dispose=function(){n.prototype.dispose.call(this,t),this.$toggles=null},a.toggle=function(){this._isOpen()?this.hide():this.show()},a.show=function(){if(!this._isForcedClosed()&&!this._isOpen()){this.$toggles.attr("aria-expanded",!0),this.$element.attr("aria-expanded",!0),this.$element.attr("aria-hidden",!1);var e=this.$element.find(this.config.focusSelector);0<e.length&&e.first().focus(),this.$container.addClass("bmd-drawer-in"),this.$backdrop.addClass("in")}},a.hide=function(){this._isOpen()&&(this.$toggles.attr("aria-expanded",!1),this.$element.attr("aria-expanded",!1),this.$element.attr("aria-hidden",!0),this.$container.removeClass("bmd-drawer-in"),this.$backdrop.removeClass("in"))},a._isOpen=function(){return this.$container.hasClass("bmd-drawer-in")},a._isForcedClosed=function(){return this.$container.hasClass("bmd-drawer-out")},a._addAria=function(){var e=this._isOpen();this.$element.attr("aria-expanded",e),this.$element.attr("aria-hidden",e),this.$toggles.length&&this.$toggles.attr("aria-expanded",e)},i._jQueryInterface=function(n){return this.each((function(){var r=e(this),o=r.data(t);o||(o=new i(r,n),r.data(t,o))}))},i}(at);e.fn[n]=a._jQueryInterface,e.fn[n].Constructor=a,e.fn[n].noConflict=function(){return e.fn[n]=i,a._jQueryInterface}})(jQuery),function(e){var t="bmd.ripples",i="bmd"+("r".toUpperCase()+"ripples".slice(1)),r=e.fn[i],o=".ripple-container",a=".ripple-decorator",s={container:{template:"<div class='ripple-container'></div>"},decorator:{template:"<div class='ripple-decorator'></div>"},trigger:{start:"mousedown touchstart",end:"mouseup mouseleave touchend"},touchUserAgentRegex:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i,duration:500},l=function(){function i(t,n){var i=this;this.$element=t,this.config=e.extend(!0,{},s,n),this.$element.on(this.config.trigger.start,(function(e){i._onStartRipple(e)}))}var r=i.prototype;return r.dispose=function(){this.$element.data(t,null),this.$element=null,this.$container=null,this.$decorator=null,this.config=null},r._onStartRipple=function(e){var t=this;if(!this._isTouch()||"mousedown"!==e.type){this._findOrCreateContainer();var n=this._getRelY(e),i=this._getRelX(e);(n||i)&&(this.$decorator.css({left:i,top:n,"background-color":this._getRipplesColor()}),this._forceStyleApplication(),this.rippleOn(),setTimeout((function(){t.rippleEnd()}),this.config.duration),this.$element.on(this.config.trigger.end,(function(){t.$decorator&&(t.$decorator.data("mousedown","off"),"off"===t.$decorator.data("animating")&&t.rippleOut())})))}},r._findOrCreateContainer=function(){(!this.$container||0<!this.$container.length)&&(this.$element.append(this.config.container.template),this.$container=this.$element.find(o)),this.$container.append(this.config.decorator.template),this.$decorator=this.$container.find(a)},r._forceStyleApplication=function(){return window.getComputedStyle(this.$decorator[0]).opacity},r._getRelX=function(e){var t=this.$container.offset();return this._isTouch()?1===(e=e.originalEvent).touches.length&&e.touches[0].pageX-t.left:e.pageX-t.left},r._getRelY=function(e){var t=this.$container.offset();return this._isTouch()?1===(e=e.originalEvent).touches.length&&e.touches[0].pageY-t.top:e.pageY-t.top},r._getRipplesColor=function(){return this.$element.data("ripple-color")?this.$element.data("ripple-color"):window.getComputedStyle(this.$element[0]).color},r._isTouch=function(){return this.config.touchUserAgentRegex.test(navigator.userAgent)},r.rippleEnd=function(){this.$decorator&&(this.$decorator.data("animating","off"),"off"===this.$decorator.data("mousedown")&&this.rippleOut(this.$decorator))},r.rippleOut=function(){var e=this;this.$decorator.off(),Je.transitionEndSupported()?this.$decorator.addClass("ripple-out"):this.$decorator.animate({opacity:0},100,(function(){e.$decorator.trigger("transitionend")})),this.$decorator.on(Je.transitionEndSelector(),(function(){e.$decorator&&(e.$decorator.remove(),e.$decorator=null)}))},r.rippleOn=function(){var e=this,t=this._getNewSize();Je.transitionEndSupported()?this.$decorator.css({"-ms-transform":"scale("+t+")","-moz-transform":"scale("+t+")","-webkit-transform":"scale("+t+")",transform:"scale("+t+")"}).addClass("ripple-on").data("animating","on").data("mousedown","on"):this.$decorator.animate({width:2*n(this.$element.outerWidth(),this.$element.outerHeight()),height:2*n(this.$element.outerWidth(),this.$element.outerHeight()),"margin-left":-1*n(this.$element.outerWidth(),this.$element.outerHeight()),"margin-top":-1*n(this.$element.outerWidth(),this.$element.outerHeight()),opacity:.2},this.config.duration,(function(){e.$decorator.trigger("transitionend")}))},r._getNewSize=function(){return n(this.$element.outerWidth(),this.$element.outerHeight())/this.$decorator.outerWidth()*2.5},i._jQueryInterface=function(n){return this.each((function(){var r=e(this),o=r.data(t);o||(o=new i(r,n),r.data(t,o))}))},i}();e.fn[i]=l._jQueryInterface,e.fn[i].Constructor=l,e.fn[i].noConflict=function(){return e.fn[i]=r,l._jQueryInterface}}(jQuery),function(e){var t="bmd.autofill",n="bmd"+("a".toUpperCase()+"autofill".slice(1)),i=e.fn[n],r="bmd.last_value",o={},a=function(n){function i(t,i){var r;return(r=n.call(this,t,e.extend(!0,{},o,i))||this)._watchLoading(),r._attachEventHandlers(),r}s(i,n);var a=i.prototype;return a.dispose=function(){n.prototype.dispose.call(this,t)},a._watchLoading=function(){var e=this;setTimeout((function(){clearInterval(e._onLoading)}),1e4)},a._onLoading=function(){setInterval((function(){e("input[type!=checkbox]").each((function(t,n){var i=e(n),o=i.data(r);void 0===o&&(o=i.attr("value")),void 0===o&&(o="");var a=i.val();a!==o&&i.trigger("change"),i.data(r,a)}))}),100)},a._attachEventHandlers=function(){var t=null;e(document).on("focus","input",(function(n){var i=e(n.currentTarget).closest("form").find("input").not("[type=file], [type=date]");t=setInterval((function(){i.each((function(t,n){var i=e(n),o=i.data(r);void 0===o&&(o=i.attr("value")),void 0===o&&(o="");var a=i.val();a!==o&&i.trigger("change"),i.data(r,a)}))}),100)})).on("blur",".form-group input",(function(){clearInterval(t)}))},i._jQueryInterface=function(n){return this.each((function(){var r=e(this),o=r.data(t);o||(o=new i(r,n),r.data(t,o))}))},i}(et);e.fn[n]=a._jQueryInterface,e.fn[n].Constructor=a,e.fn[n].noConflict=function(){return e.fn[n]=i,a._jQueryInterface}}(jQuery),Popper.Defaults.modifiers.computeStyle.gpuAcceleration=!1,function(e){var t="bmd.bootstrapMaterialDesign",n="bootstrapMaterialDesign",i=e.fn[n],r={global:{validate:!1,label:{className:"bmd-label-static"}},autofill:{selector:"body"},checkbox:{selector:".checkbox > label > input[type=checkbox]"},checkboxInline:{selector:"label.checkbox-inline > input[type=checkbox]"},collapseInline:{selector:'.bmd-collapse-inline [data-toggle="collapse"]'},drawer:{selector:".bmd-layout-drawer"},file:{selector:"input[type=file]"},radio:{selector:".radio > label > input[type=radio]"},radioInline:{selector:"label.radio-inline > input[type=radio]"},ripples:{selector:[".btn:not(.btn-link):not(.ripple-none)",".card-image:not(.ripple-none)",".navbar a:not(.ripple-none)",".dropdown-menu a:not(.ripple-none)",".nav-tabs a:not(.ripple-none)",".pagination li:not(.active):not(.disabled) a:not(.ripple-none)",".ripple"]},select:{selector:["select"]},switch:{selector:".switch > label > input[type=checkbox]"},text:{selector:["input:not([type=hidden]):not([type=checkbox]):not([type=radio]):not([type=file]):not([type=button]):not([type=submit]):not([type=reset])"]},textarea:{selector:["textarea"]},arrive:!0,instantiation:["ripples","checkbox","checkboxInline","collapseInline","drawer","radio","radioInline","switch","text","textarea","select","autofill"]},o=function(){function n(t,n){var i=this;this.$element=t,this.config=e.extend(!0,{},r,n);var o=e(document),a=function(){if(l){if(u>=s.length)return"break";c=s[u++]}else{if((u=s.next()).done)return"break";c=u.value}var t=c,n=i.config[t];if(n){var r=i._resolveSelector(n);n=e.extend(!0,{},i.config.global,n);var a="bmd"+(t.charAt(0).toUpperCase()+t.slice(1));try{e(r)[a](n),document.arrive&&i.config.arrive&&o.arrive(r,(function(){e(this)[a](n)}))}catch(i){throw console.error("Failed to instantiate component: $('"+r+"')["+a+"]("+n+")",i,"\nSelected elements: ",e(r)),i}}},s=this.config.instantiation,l=Array.isArray(s),u=0;for(s=l?s:s[Symbol.iterator]();;){var c;if("break"===a())break}}var i=n.prototype;return i.dispose=function(){this.$element.data(t,null),this.$element=null,this.config=null},i._resolveSelector=function(e){var t=e.selector;return Array.isArray(t)&&(t=t.join(", ")),t},n._jQueryInterface=function(i){return this.each((function(){var r=e(this),o=r.data(t);o||(o=new n(r,i),r.data(t,o))}))},n}();e.fn[n]=o._jQueryInterface,e.fn[n].Constructor=o,e.fn[n].noConflict=function(){return e.fn[n]=i,o._jQueryInterface}}(jQuery)}));var Arrive=function(e,t,n){"use strict";if(e.MutationObserver&&"undefined"!=typeof HTMLElement){var i,r=0,o=(i=HTMLElement.prototype.matches||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector,{matchesSelector:function(e,t){return e instanceof HTMLElement&&i.call(e,t)},addMethod:function(e,t,n){var i=e[t];e[t]=function(){return n.length==arguments.length?n.apply(this,arguments):"function"==typeof i?i.apply(this,arguments):void 0}},callCallbacks:function(e,t){t&&t.options.onceOnly&&1==t.firedElems.length&&(e=[e[0]]);for(var n,i=0;n=e[i];i++)n&&n.callback&&n.callback.call(n.elem,n.elem);t&&t.options.onceOnly&&1==t.firedElems.length&&t.me.unbindEventWithSelectorAndCallback.call(t.target,t.selector,t.callback)},checkChildNodesRecursively:function(e,t,n,i){for(var r,a=0;r=e[a];a++)n(r,t,i)&&i.push({callback:t.callback,elem:r}),r.childNodes.length>0&&o.checkChildNodesRecursively(r.childNodes,t,n,i)},mergeArrays:function(e,t){var n,i={};for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);return i},toElementsArray:function(t){return void 0===t||"number"==typeof t.length&&t!==e||(t=[t]),t}}),a=function(){var e=function(){this._eventsBucket=[],this._beforeAdding=null,this._beforeRemoving=null};return e.prototype.addEvent=function(e,t,n,i){var r={target:e,selector:t,options:n,callback:i,firedElems:[]};return this._beforeAdding&&this._beforeAdding(r),this._eventsBucket.push(r),r},e.prototype.removeEvent=function(e){for(var t,n=this._eventsBucket.length-1;t=this._eventsBucket[n];n--)if(e(t)){this._beforeRemoving&&this._beforeRemoving(t);var i=this._eventsBucket.splice(n,1);i&&i.length&&(i[0].callback=null)}},e.prototype.beforeAdding=function(e){this._beforeAdding=e},e.prototype.beforeRemoving=function(e){this._beforeRemoving=e},e}(),s=function(t,i){var r=new a,s=this,l={fireOnAttributesModification:!1};return r.beforeAdding((function(n){var r,o=n.target;o!==e.document&&o!==e||(o=document.getElementsByTagName("html")[0]),r=new MutationObserver((function(e){i.call(this,e,n)}));var a=t(n.options);r.observe(o,a),n.observer=r,n.me=s})),r.beforeRemoving((function(e){e.observer.disconnect()})),this.bindEvent=function(e,t,n){t=o.mergeArrays(l,t);for(var i=o.toElementsArray(this),a=0;a<i.length;a++)r.addEvent(i[a],e,t,n)},this.unbindEvent=function(){var e=o.toElementsArray(this);r.removeEvent((function(t){for(var i=0;i<e.length;i++)if(this===n||t.target===e[i])return!0;return!1}))},this.unbindEventWithSelectorOrCallback=function(e){var t=o.toElementsArray(this),i=e;r.removeEvent("function"==typeof e?function(e){for(var r=0;r<t.length;r++)if((this===n||e.target===t[r])&&e.callback===i)return!0;return!1}:function(i){for(var r=0;r<t.length;r++)if((this===n||i.target===t[r])&&i.selector===e)return!0;return!1})},this.unbindEventWithSelectorAndCallback=function(e,t){var i=o.toElementsArray(this);r.removeEvent((function(r){for(var o=0;o<i.length;o++)if((this===n||r.target===i[o])&&r.selector===e&&r.callback===t)return!0;return!1}))},this},l=new function(){var e={fireOnAttributesModification:!1,onceOnly:!1,existing:!1};function t(e,t,i){return!(!o.matchesSelector(e,t.selector)||(e._id===n&&(e._id=r++),-1!=t.firedElems.indexOf(e._id))||(t.firedElems.push(e._id),0))}var i=(l=new s((function(e){var t={attributes:!1,childList:!0,subtree:!0};return e.fireOnAttributesModification&&(t.attributes=!0),t}),(function(e,n){e.forEach((function(e){var i=e.addedNodes,r=e.target,a=[];null!==i&&i.length>0?o.checkChildNodesRecursively(i,n,t,a):"attributes"===e.type&&t(r,n)&&a.push({callback:n.callback,elem:r}),o.callCallbacks(a,n)}))}))).bindEvent;return l.bindEvent=function(t,n,r){void 0===r?(r=n,n=e):n=o.mergeArrays(e,n);var a=o.toElementsArray(this);if(n.existing){for(var s=[],l=0;l<a.length;l++)for(var u=a[l].querySelectorAll(t),c=0;c<u.length;c++)s.push({callback:r,elem:u[c]});if(n.onceOnly&&s.length)return r.call(s[0].elem,s[0].elem);setTimeout(o.callCallbacks,1,s)}i.call(this,t,n,r)},l},u=new function(){var e={};function t(e,t){return o.matchesSelector(e,t.selector)}var n=(u=new s((function(){return{childList:!0,subtree:!0}}),(function(e,n){e.forEach((function(e){var i=e.removedNodes,r=[];null!==i&&i.length>0&&o.checkChildNodesRecursively(i,n,t,r),o.callCallbacks(r,n)}))}))).bindEvent;return u.bindEvent=function(t,i,r){void 0===r?(r=i,i=e):i=o.mergeArrays(e,i),n.call(this,t,i,r)},u};t&&d(t.fn),d(HTMLElement.prototype),d(NodeList.prototype),d(HTMLCollection.prototype),d(HTMLDocument.prototype),d(Window.prototype);var c={};return h(l,c,"unbindAllArrive"),h(u,c,"unbindAllLeave"),c}function h(e,t,n){o.addMethod(t,n,e.unbindEvent),o.addMethod(t,n,e.unbindEventWithSelectorOrCallback),o.addMethod(t,n,e.unbindEventWithSelectorAndCallback)}function d(e){e.arrive=l.bindEvent,h(l,e,"unbindArrive"),e.leave=u.bindEvent,h(u,e,"unbindLeave")}}(window,"undefined"==typeof jQuery?null:jQuery,void 0);!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,(function(){"use strict";var e,t;function n(){return e.apply(null,arguments)}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function r(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e){return void 0===e}function a(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function s(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function l(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){for(var n in t)u(t,n)&&(e[n]=t[n]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function h(e,t,n,i){return Ot(e,t,n,i,!0).utc()}function d(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function f(e){if(null==e._isValid){var n=d(e),i=t.call(n.parsedDateParts,(function(e){return null!=e})),r=!isNaN(e._d.getTime())&&n.overflow<0&&!n.empty&&!n.invalidMonth&&!n.invalidWeekday&&!n.weekdayMismatch&&!n.nullInput&&!n.invalidFormat&&!n.userInvalidated&&(!n.meridiem||n.meridiem&&i);if(e._strict&&(r=r&&0===n.charsLeftOver&&0===n.unusedTokens.length&&void 0===n.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function p(e){var t=h(NaN);return null!=e?c(d(t),e):d(t).userInvalidated=!0,t}t=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var g=n.momentProperties=[];function m(e,t){var n,i,r;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=d(t)),o(t._locale)||(e._locale=t._locale),g.length>0)for(n=0;n<g.length;n++)o(r=t[i=g[n]])||(e[i]=r);return e}var v=!1;function y(e){m(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,n.updateOffset(this),v=!1)}function b(e){return e instanceof y||null!=e&&null!=e._isAMomentObject}function x(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function w(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=x(t)),n}function _(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(i=0;i<r;i++)(n&&e[i]!==t[i]||!n&&w(e[i])!==w(t[i]))&&a++;return a+o}function E(e){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function S(e,t){var i=!0;return c((function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,e),i){for(var r,o=[],a=0;a<arguments.length;a++){if(r="","object"==typeof arguments[a]){for(var s in r+="\n["+a+"] ",arguments[0])r+=s+": "+arguments[0][s]+", ";r=r.slice(0,-2)}else r=arguments[a];o.push(r)}E(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),i=!1}return t.apply(this,arguments)}),t)}var C,T={};function k(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),T[e]||(E(t),T[e]=!0)}function D(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function A(e,t){var n,i=c({},e);for(n in t)u(t,n)&&(r(e[n])&&r(t[n])?(i[n]={},c(i[n],e[n]),c(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)u(e,n)&&!u(t,n)&&r(e[n])&&(i[n]=c({},i[n]));return i}function O(e){null!=e&&this.set(e)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,C=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)u(e,t)&&n.push(t);return n};var P={};function M(e,t){var n=e.toLowerCase();P[n]=P[n+"s"]=P[t]=e}function I(e){return"string"==typeof e?P[e]||P[e.toLowerCase()]:void 0}function N(e){var t,n,i={};for(n in e)u(e,n)&&(t=I(n))&&(i[t]=e[n]);return i}var L={};function R(e,t){L[e]=t}function B(e,t,n){var i=""+Math.abs(e);return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,t-i.length)).toString().substr(1)+i}var j=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,F=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,H={},Y={};function z(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(Y[e]=r),t&&(Y[t[0]]=function(){return B(r.apply(this,arguments),t[1],t[2])}),n&&(Y[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function W(e,t){return e.isValid()?(t=$(t,e.localeData()),H[t]=H[t]||function(e){var t,n,i,r=e.match(j);for(t=0,n=r.length;t<n;t++)r[t]=Y[r[t]]?Y[r[t]]:(i=r[t]).match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(t){var i,o="";for(i=0;i<n;i++)o+=D(r[i])?r[i].call(t,e):r[i];return o}}(t),H[t](e)):e.localeData().invalidDate()}function $(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}for(F.lastIndex=0;n>=0&&F.test(e);)e=e.replace(F,i),F.lastIndex=0,n-=1;return e}var V=/\d/,q=/\d\d/,X=/\d{3}/,U=/\d{4}/,G=/[+-]?\d{6}/,K=/\d\d?/,Q=/\d\d\d\d?/,Z=/\d\d\d\d\d\d?/,J=/\d{1,3}/,ee=/\d{1,4}/,te=/[+-]?\d{1,6}/,ne=/\d+/,ie=/[+-]?\d+/,re=/Z|[+-]\d\d:?\d\d/gi,oe=/Z|[+-]\d\d(?::?\d\d)?/gi,ae=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,se={};function le(e,t,n){se[e]=D(t)?t:function(e,i){return e&&n?n:t}}function ue(e,t){return u(se,e)?se[e](t._strict,t._locale):new RegExp(ce(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,i,r){return t||n||i||r}))))}function ce(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var he={};function de(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),a(t)&&(i=function(e,n){n[t]=w(e)}),n=0;n<e.length;n++)he[e[n]]=i}function fe(e,t){de(e,(function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)}))}function pe(e,t,n){null!=t&&u(he,e)&&he[e](t,n._a,n,e)}var ge=0,me=1,ve=2,ye=3,be=4,xe=5,we=6,_e=7,Ee=8;function Se(e){return Ce(e)?366:365}function Ce(e){return e%4==0&&e%100!=0||e%400==0}z("Y",0,0,(function(){var e=this.year();return e<=9999?""+e:"+"+e})),z(0,["YY",2],0,(function(){return this.year()%100})),z(0,["YYYY",4],0,"year"),z(0,["YYYYY",5],0,"year"),z(0,["YYYYYY",6,!0],0,"year"),M("year","y"),R("year",1),le("Y",ie),le("YY",K,q),le("YYYY",ee,U),le("YYYYY",te,G),le("YYYYYY",te,G),de(["YYYYY","YYYYYY"],ge),de("YYYY",(function(e,t){t[ge]=2===e.length?n.parseTwoDigitYear(e):w(e)})),de("YY",(function(e,t){t[ge]=n.parseTwoDigitYear(e)})),de("Y",(function(e,t){t[ge]=parseInt(e,10)})),n.parseTwoDigitYear=function(e){return w(e)+(w(e)>68?1900:2e3)};var Te,ke=De("FullYear",!0);function De(e,t){return function(i){return null!=i?(Oe(this,e,i),n.updateOffset(this,t),this):Ae(this,e)}}function Ae(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Oe(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&Ce(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Pe(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Pe(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=(t%12+12)%12;return e+=(t-n)/12,1===n?Ce(e)?29:28:31-n%7%2}Te=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},z("M",["MM",2],"Mo",(function(){return this.month()+1})),z("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),z("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),M("month","M"),R("month",8),le("M",K),le("MM",K,q),le("MMM",(function(e,t){return t.monthsShortRegex(e)})),le("MMMM",(function(e,t){return t.monthsRegex(e)})),de(["M","MM"],(function(e,t){t[me]=w(e)-1})),de(["MMM","MMMM"],(function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[me]=r:d(n).invalidMonth=e}));var Me=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ie="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ne="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Le(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=h([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=Te.call(this._shortMonthsParse,a))?r:null:-1!==(r=Te.call(this._longMonthsParse,a))?r:null:"MMM"===t?-1!==(r=Te.call(this._shortMonthsParse,a))?r:-1!==(r=Te.call(this._longMonthsParse,a))?r:null:-1!==(r=Te.call(this._longMonthsParse,a))?r:-1!==(r=Te.call(this._shortMonthsParse,a))?r:null}function Re(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=w(t);else if(!a(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Pe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Be(e){return null!=e?(Re(this,e),n.updateOffset(this,!0),this):Ae(this,"Month")}var je=ae,Fe=ae;function He(){function e(e,t){return t.length-e.length}var t,n,i=[],r=[],o=[];for(t=0;t<12;t++)n=h([2e3,t]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(e),r.sort(e),o.sort(e),t=0;t<12;t++)i[t]=ce(i[t]),r[t]=ce(r[t]);for(t=0;t<24;t++)o[t]=ce(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function Ye(e,t,n,i,r,o,a){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,i,r,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,i,r,o,a),s}function ze(e){var t;if(e<100&&e>=0){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function We(e,t,n){var i=7+t-n;return-(7+ze(e,0,i).getUTCDay()-t)%7+i-1}function $e(e,t,n,i,r){var o,a,s=1+7*(t-1)+(7+n-i)%7+We(e,i,r);return s<=0?a=Se(o=e-1)+s:s>Se(e)?(o=e+1,a=s-Se(e)):(o=e,a=s),{year:o,dayOfYear:a}}function Ve(e,t,n){var i,r,o=We(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?i=a+qe(r=e.year()-1,t,n):a>qe(e.year(),t,n)?(i=a-qe(e.year(),t,n),r=e.year()+1):(r=e.year(),i=a),{week:i,year:r}}function qe(e,t,n){var i=We(e,t,n),r=We(e+1,t,n);return(Se(e)-i+r)/7}function Xe(e,t){return e.slice(t,7).concat(e.slice(0,t))}z("w",["ww",2],"wo","week"),z("W",["WW",2],"Wo","isoWeek"),M("week","w"),M("isoWeek","W"),R("week",5),R("isoWeek",5),le("w",K),le("ww",K,q),le("W",K),le("WW",K,q),fe(["w","ww","W","WW"],(function(e,t,n,i){t[i.substr(0,1)]=w(e)})),z("d",0,"do","day"),z("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),z("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),z("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),z("e",0,0,"weekday"),z("E",0,0,"isoWeekday"),M("day","d"),M("weekday","e"),M("isoWeekday","E"),R("day",11),R("weekday",11),R("isoWeekday",11),le("d",K),le("e",K),le("E",K),le("dd",(function(e,t){return t.weekdaysMinRegex(e)})),le("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),le("dddd",(function(e,t){return t.weekdaysRegex(e)})),fe(["dd","ddd","dddd"],(function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null!=r?t.d=r:d(n).invalidWeekday=e})),fe(["d","e","E"],(function(e,t,n,i){t[i]=w(e)}));var Ue="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ge="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ke="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Qe(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=h([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(r=Te.call(this._weekdaysParse,a))?r:null:"ddd"===t?-1!==(r=Te.call(this._shortWeekdaysParse,a))?r:null:-1!==(r=Te.call(this._minWeekdaysParse,a))?r:null:"dddd"===t?-1!==(r=Te.call(this._weekdaysParse,a))?r:-1!==(r=Te.call(this._shortWeekdaysParse,a))?r:-1!==(r=Te.call(this._minWeekdaysParse,a))?r:null:"ddd"===t?-1!==(r=Te.call(this._shortWeekdaysParse,a))?r:-1!==(r=Te.call(this._weekdaysParse,a))?r:-1!==(r=Te.call(this._minWeekdaysParse,a))?r:null:-1!==(r=Te.call(this._minWeekdaysParse,a))?r:-1!==(r=Te.call(this._weekdaysParse,a))?r:-1!==(r=Te.call(this._shortWeekdaysParse,a))?r:null}var Ze=ae,Je=ae,et=ae;function tt(){function e(e,t){return t.length-e.length}var t,n,i,r,o,a=[],s=[],l=[],u=[];for(t=0;t<7;t++)n=h([2e3,1]).day(t),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(i),s.push(r),l.push(o),u.push(i),u.push(r),u.push(o);for(a.sort(e),s.sort(e),l.sort(e),u.sort(e),t=0;t<7;t++)s[t]=ce(s[t]),l[t]=ce(l[t]),u[t]=ce(u[t]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function nt(){return this.hours()%12||12}function it(e,t){z(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function rt(e,t){return t._meridiemParse}z("H",["HH",2],0,"hour"),z("h",["hh",2],0,nt),z("k",["kk",2],0,(function(){return this.hours()||24})),z("hmm",0,0,(function(){return""+nt.apply(this)+B(this.minutes(),2)})),z("hmmss",0,0,(function(){return""+nt.apply(this)+B(this.minutes(),2)+B(this.seconds(),2)})),z("Hmm",0,0,(function(){return""+this.hours()+B(this.minutes(),2)})),z("Hmmss",0,0,(function(){return""+this.hours()+B(this.minutes(),2)+B(this.seconds(),2)})),it("a",!0),it("A",!1),M("hour","h"),R("hour",13),le("a",rt),le("A",rt),le("H",K),le("h",K),le("k",K),le("HH",K,q),le("hh",K,q),le("kk",K,q),le("hmm",Q),le("hmmss",Z),le("Hmm",Q),le("Hmmss",Z),de(["H","HH"],ye),de(["k","kk"],(function(e,t,n){var i=w(e);t[ye]=24===i?0:i})),de(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),de(["h","hh"],(function(e,t,n){t[ye]=w(e),d(n).bigHour=!0})),de("hmm",(function(e,t,n){var i=e.length-2;t[ye]=w(e.substr(0,i)),t[be]=w(e.substr(i)),d(n).bigHour=!0})),de("hmmss",(function(e,t,n){var i=e.length-4,r=e.length-2;t[ye]=w(e.substr(0,i)),t[be]=w(e.substr(i,2)),t[xe]=w(e.substr(r)),d(n).bigHour=!0})),de("Hmm",(function(e,t,n){var i=e.length-2;t[ye]=w(e.substr(0,i)),t[be]=w(e.substr(i))})),de("Hmmss",(function(e,t,n){var i=e.length-4,r=e.length-2;t[ye]=w(e.substr(0,i)),t[be]=w(e.substr(i,2)),t[xe]=w(e.substr(r))}));var ot,at=De("Hours",!0),st={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ie,monthsShort:Ne,week:{dow:0,doy:6},weekdays:Ue,weekdaysMin:Ke,weekdaysShort:Ge,meridiemParse:/[ap]\.?m?\.?/i},lt={},ut={};function ct(e){return e?e.toLowerCase().replace("_","-"):e}function ht(e){var t=null;if(!lt[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=ot._abbr,require("./locale/"+e),dt(t)}catch(n){}return lt[e]}function dt(e,t){var n;return e&&((n=o(t)?pt(e):ft(e,t))?ot=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),ot._abbr}function ft(e,t){if(null!==t){var n,i=st;if(t.abbr=e,null!=lt[e])k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=lt[e]._config;else if(null!=t.parentLocale)if(null!=lt[t.parentLocale])i=lt[t.parentLocale]._config;else{if(null==(n=ht(t.parentLocale)))return ut[t.parentLocale]||(ut[t.parentLocale]=[]),ut[t.parentLocale].push({name:e,config:t}),null;i=n._config}return lt[e]=new O(A(i,t)),ut[e]&&ut[e].forEach((function(e){ft(e.name,e.config)})),dt(e),lt[e]}return delete lt[e],null}function pt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ot;if(!i(e)){if(t=ht(e))return t;e=[e]}return function(e){for(var t,n,i,r,o=0;o<e.length;){for(t=(r=ct(e[o]).split("-")).length,n=(n=ct(e[o+1]))?n.split("-"):null;t>0;){if(i=ht(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&_(r,n,!0)>=t-1)break;t--}o++}return ot}(e)}function gt(e){var t,n=e._a;return n&&-2===d(e).overflow&&(t=n[me]<0||n[me]>11?me:n[ve]<1||n[ve]>Pe(n[ge],n[me])?ve:n[ye]<0||n[ye]>24||24===n[ye]&&(0!==n[be]||0!==n[xe]||0!==n[we])?ye:n[be]<0||n[be]>59?be:n[xe]<0||n[xe]>59?xe:n[we]<0||n[we]>999?we:-1,d(e)._overflowDayOfYear&&(t<ge||t>ve)&&(t=ve),d(e)._overflowWeeks&&-1===t&&(t=_e),d(e)._overflowWeekday&&-1===t&&(t=Ee),d(e).overflow=t),e}function mt(e,t,n){return null!=e?e:null!=t?t:n}function vt(e){var t,i,r,o,a,s=[];if(!e._d){for(r=function(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[ve]&&null==e._a[me]&&function(e){var t,n,i,r,o,a,s,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)o=1,a=4,n=mt(t.GG,e._a[ge],Ve(Pt(),1,4).year),i=mt(t.W,1),((r=mt(t.E,1))<1||r>7)&&(l=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var u=Ve(Pt(),o,a);n=mt(t.gg,e._a[ge],u.year),i=mt(t.w,u.week),null!=t.d?((r=t.d)<0||r>6)&&(l=!0):null!=t.e?(r=t.e+o,(t.e<0||t.e>6)&&(l=!0)):r=o}i<1||i>qe(n,o,a)?d(e)._overflowWeeks=!0:null!=l?d(e)._overflowWeekday=!0:(s=$e(n,i,r,o,a),e._a[ge]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(a=mt(e._a[ge],r[ge]),(e._dayOfYear>Se(a)||0===e._dayOfYear)&&(d(e)._overflowDayOfYear=!0),i=ze(a,0,e._dayOfYear),e._a[me]=i.getUTCMonth(),e._a[ve]=i.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=r[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ye]&&0===e._a[be]&&0===e._a[xe]&&0===e._a[we]&&(e._nextDay=!0,e._a[ye]=0),e._d=(e._useUTC?ze:Ye).apply(null,s),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ye]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(d(e).weekdayMismatch=!0)}}var yt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,bt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xt=/Z|[+-]\d\d(?::?\d\d)?/,wt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],_t=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Et=/^\/?Date\((\-?\d+)/i;function St(e){var t,n,i,r,o,a,s=e._i,l=yt.exec(s)||bt.exec(s);if(l){for(d(e).iso=!0,t=0,n=wt.length;t<n;t++)if(wt[t][1].exec(l[1])){r=wt[t][0],i=!1!==wt[t][2];break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=_t.length;t<n;t++)if(_t[t][1].exec(l[3])){o=(l[2]||" ")+_t[t][0];break}if(null==o)return void(e._isValid=!1)}if(!i&&null!=o)return void(e._isValid=!1);if(l[4]){if(!xt.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=r+(o||"")+(a||""),Dt(e)}else e._isValid=!1}var Ct=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Tt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function kt(e){var t,n,i,r,o,a,s,l,u=Ct.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(u){var c=(t=u[3],n=u[2],i=u[5],r=u[6],o=u[7],a=[(s=u[4],l=parseInt(s,10),l<=49?2e3+l:l<=999?1900+l:l),Ne.indexOf(t),parseInt(n,10),parseInt(i,10),parseInt(r,10)],o&&a.push(parseInt(o,10)),a);if(!function(e,t,n){return!e||Ge.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(d(n).weekdayMismatch=!0,n._isValid=!1,!1)}(u[1],c,e))return;e._a=c,e._tzm=function(e,t,n){if(e)return Tt[e];if(t)return 0;var i=parseInt(n,10),r=i%100;return(i-r)/100*60+r}(u[8],u[9],u[10]),e._d=ze.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),d(e).rfc2822=!0}else e._isValid=!1}function Dt(e){if(e._f!==n.ISO_8601)if(e._f!==n.RFC_2822){e._a=[],d(e).empty=!0;var t,i,r,o,a,s=""+e._i,l=s.length,u=0;for(r=$(e._f,e._locale).match(j)||[],t=0;t<r.length;t++)(i=(s.match(ue(o=r[t],e))||[])[0])&&((a=s.substr(0,s.indexOf(i))).length>0&&d(e).unusedInput.push(a),s=s.slice(s.indexOf(i)+i.length),u+=i.length),Y[o]?(i?d(e).empty=!1:d(e).unusedTokens.push(o),pe(o,i,e)):e._strict&&!i&&d(e).unusedTokens.push(o);d(e).charsLeftOver=l-u,s.length>0&&d(e).unusedInput.push(s),e._a[ye]<=12&&!0===d(e).bigHour&&e._a[ye]>0&&(d(e).bigHour=void 0),d(e).parsedDateParts=e._a.slice(0),d(e).meridiem=e._meridiem,e._a[ye]=function(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((i=e.isPM(n))&&t<12&&(t+=12),i||12!==t||(t=0),t):t}(e._locale,e._a[ye],e._meridiem),vt(e),gt(e)}else kt(e);else St(e)}function At(e){var t=e._i,u=e._f;return e._locale=e._locale||pt(e._l),null===t||void 0===u&&""===t?p({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),b(t)?new y(gt(t)):(s(t)?e._d=t:i(u)?function(e){var t,n,i,r,o;if(0===e._f.length)return d(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)o=0,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],Dt(t),f(t)&&(o+=d(t).charsLeftOver,o+=10*d(t).unusedTokens.length,d(t).score=o,(null==i||o<i)&&(i=o,n=t));c(e,n||t)}(e):u?Dt(e):function(e){var t=e._i;o(t)?e._d=new Date(n.now()):s(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=Et.exec(e._i);null===t?(St(e),!1===e._isValid&&(delete e._isValid,kt(e),!1===e._isValid&&(delete e._isValid,n.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):i(t)?(e._a=l(t.slice(0),(function(e){return parseInt(e,10)})),vt(e)):r(t)?function(e){if(!e._d){var t=N(e._i);e._a=l([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),vt(e)}}(e):a(t)?e._d=new Date(t):n.createFromInputFallback(e)}(e),f(e)||(e._d=null),e))}function Ot(e,t,n,o,a){var s,l={};return!0!==n&&!1!==n||(o=n,n=void 0),(r(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||i(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=a,l._l=n,l._i=e,l._f=t,l._strict=o,(s=new y(gt(At(l))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function Pt(e,t,n,i){return Ot(e,t,n,i,!1)}n.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),n.ISO_8601=function(){},n.RFC_2822=function(){};var Mt=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Pt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:p()})),It=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Pt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:p()}));function Nt(e,t){var n,r;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return Pt();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var Lt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Rt(e){var t=N(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Te.call(Lt,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,i=0;i<Lt.length;++i)if(e[Lt[i]]){if(n)return!1;parseFloat(e[Lt[i]])!==w(e[Lt[i]])&&(n=!0)}return!0}(t),this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=pt(),this._bubble()}function Bt(e){return e instanceof Rt}function jt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Ft(e,t){z(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+B(~~(e/60),2)+t+B(~~e%60,2)}))}Ft("Z",":"),Ft("ZZ",""),le("Z",oe),le("ZZ",oe),de(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=Yt(oe,e)}));var Ht=/([\+\-]|\d\d)/gi;function Yt(e,t){var n=(t||"").match(e);if(null===n)return null;var i=((n[n.length-1]||[])+"").match(Ht)||["-",0,0],r=60*i[1]+w(i[2]);return 0===r?0:"+"===i[0]?r:-r}function zt(e,t){var i,r;return t._isUTC?(i=t.clone(),r=(b(e)||s(e)?e.valueOf():Pt(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),n.updateOffset(i,!1),i):Pt(e).local()}function Wt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function $t(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){};var Vt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,qt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Xt(e,t){var n,i,r,o,s,l,c=e,h=null;return Bt(e)?c={ms:e._milliseconds,d:e._days,M:e._months}:a(e)?(c={},t?c[t]=e:c.milliseconds=e):(h=Vt.exec(e))?(n="-"===h[1]?-1:1,c={y:0,d:w(h[ve])*n,h:w(h[ye])*n,m:w(h[be])*n,s:w(h[xe])*n,ms:w(jt(1e3*h[we]))*n}):(h=qt.exec(e))?c={y:Ut(h[2],n="-"===h[1]?-1:1),M:Ut(h[3],n),w:Ut(h[4],n),d:Ut(h[5],n),h:Ut(h[6],n),m:Ut(h[7],n),s:Ut(h[8],n)}:null==c?c={}:"object"==typeof c&&("from"in c||"to"in c)&&(o=Pt(c.from),s=Pt(c.to),r=o.isValid()&&s.isValid()?(s=zt(s,o),o.isBefore(s)?l=Gt(o,s):((l=Gt(s,o)).milliseconds=-l.milliseconds,l.months=-l.months),l):{milliseconds:0,months:0},(c={}).ms=r.milliseconds,c.M=r.months),i=new Rt(c),Bt(e)&&u(e,"_locale")&&(i._locale=e._locale),i}function Ut(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Gt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Kt(e,t){return function(n,i){var r;return null===i||isNaN(+i)||(k(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),Qt(this,Xt(n="string"==typeof n?+n:n,i),e),this}}function Qt(e,t,i,r){var o=t._milliseconds,a=jt(t._days),s=jt(t._months);e.isValid()&&(r=null==r||r,s&&Re(e,Ae(e,"Month")+s*i),a&&Oe(e,"Date",Ae(e,"Date")+a*i),o&&e._d.setTime(e._d.valueOf()+o*i),r&&n.updateOffset(e,a||s))}Xt.fn=Rt.prototype,Xt.invalid=function(){return Xt(NaN)};var Zt=Kt(1,"add"),Jt=Kt(-1,"subtract");function en(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(n,"months");return-(n+(t-i<0?(t-i)/(i-e.clone().add(n-1,"months")):(t-i)/(e.clone().add(n+1,"months")-i)))||0}function tn(e){var t;return void 0===e?this._locale._abbr:(null!=(t=pt(e))&&(this._locale=t),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var nn=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function rn(){return this._locale}var on=126227808e5;function an(e,t){return(e%t+t)%t}function sn(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-on:new Date(e,t,n).valueOf()}function ln(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-on:Date.UTC(e,t,n)}function un(e,t){z(0,[e,e.length],0,t)}function cn(e,t,n,i,r){var o;return null==e?Ve(this,i,r).year:(t>(o=qe(e,i,r))&&(t=o),hn.call(this,e,t,n,i,r))}function hn(e,t,n,i,r){var o=$e(e,t,n,i,r),a=ze(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}z(0,["gg",2],0,(function(){return this.weekYear()%100})),z(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),un("gggg","weekYear"),un("ggggg","weekYear"),un("GGGG","isoWeekYear"),un("GGGGG","isoWeekYear"),M("weekYear","gg"),M("isoWeekYear","GG"),R("weekYear",1),R("isoWeekYear",1),le("G",ie),le("g",ie),le("GG",K,q),le("gg",K,q),le("GGGG",ee,U),le("gggg",ee,U),le("GGGGG",te,G),le("ggggg",te,G),fe(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,i){t[i.substr(0,2)]=w(e)})),fe(["gg","GG"],(function(e,t,i,r){t[r]=n.parseTwoDigitYear(e)})),z("Q",0,"Qo","quarter"),M("quarter","Q"),R("quarter",7),le("Q",V),de("Q",(function(e,t){t[me]=3*(w(e)-1)})),z("D",["DD",2],"Do","date"),M("date","D"),R("date",9),le("D",K),le("DD",K,q),le("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),de(["D","DD"],ve),de("Do",(function(e,t){t[ve]=w(e.match(K)[0])}));var dn=De("Date",!0);z("DDD",["DDDD",3],"DDDo","dayOfYear"),M("dayOfYear","DDD"),R("dayOfYear",4),le("DDD",J),le("DDDD",X),de(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=w(e)})),z("m",["mm",2],0,"minute"),M("minute","m"),R("minute",14),le("m",K),le("mm",K,q),de(["m","mm"],be);var fn=De("Minutes",!1);z("s",["ss",2],0,"second"),M("second","s"),R("second",15),le("s",K),le("ss",K,q),de(["s","ss"],xe);var pn,gn=De("Seconds",!1);for(z("S",0,0,(function(){return~~(this.millisecond()/100)})),z(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),z(0,["SSS",3],0,"millisecond"),z(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),z(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),z(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),z(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),z(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),z(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),M("millisecond","ms"),R("millisecond",16),le("S",J,V),le("SS",J,q),le("SSS",J,X),pn="SSSS";pn.length<=9;pn+="S")le(pn,ne);function mn(e,t){t[we]=w(1e3*("0."+e))}for(pn="S";pn.length<=9;pn+="S")de(pn,mn);var vn=De("Milliseconds",!1);z("z",0,0,"zoneAbbr"),z("zz",0,0,"zoneName");var yn=y.prototype;function bn(e){return e}yn.add=Zt,yn.calendar=function(e,t){var i=e||Pt(),r=zt(i,this).startOf("day"),o=n.calendarFormat(this,r)||"sameElse",a=t&&(D(t[o])?t[o].call(this,i):t[o]);return this.format(a||this.localeData().calendar(o,this,Pt(i)))},yn.clone=function(){return new y(this)},yn.diff=function(e,t,n){var i,r,o;if(!this.isValid())return NaN;if(!(i=zt(e,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),t=I(t)){case"year":o=en(this,i)/12;break;case"month":o=en(this,i);break;case"quarter":o=en(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-r)/864e5;break;case"week":o=(this-i-r)/6048e5;break;default:o=this-i}return n?o:x(o)},yn.endOf=function(e){var t;if(void 0===(e=I(e))||"millisecond"===e||!this.isValid())return this;var i=this._isUTC?ln:sn;switch(e){case"year":t=i(this.year()+1,0,1)-1;break;case"quarter":t=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=i(this.year(),this.month()+1,1)-1;break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-an(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-an(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-an(t,1e3)-1}return this._d.setTime(t),n.updateOffset(this,!0),this},yn.format=function(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=W(this,e);return this.localeData().postformat(t)},yn.from=function(e,t){return this.isValid()&&(b(e)&&e.isValid()||Pt(e).isValid())?Xt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},yn.fromNow=function(e){return this.from(Pt(),e)},yn.to=function(e,t){return this.isValid()&&(b(e)&&e.isValid()||Pt(e).isValid())?Xt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},yn.toNow=function(e){return this.to(Pt(),e)},yn.get=function(e){return D(this[e=I(e)])?this[e]():this},yn.invalidAt=function(){return d(this).overflow},yn.isAfter=function(e,t){var n=b(e)?e:Pt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=I(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},yn.isBefore=function(e,t){var n=b(e)?e:Pt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=I(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},yn.isBetween=function(e,t,n,i){var r=b(e)?e:Pt(e),o=b(t)?t:Pt(t);return!!(this.isValid()&&r.isValid()&&o.isValid())&&("("===(i=i||"()")[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===i[1]?this.isBefore(o,n):!this.isAfter(o,n))},yn.isSame=function(e,t){var n,i=b(e)?e:Pt(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=I(t)||"millisecond")?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},yn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},yn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},yn.isValid=function(){return f(this)},yn.lang=nn,yn.locale=tn,yn.localeData=rn,yn.max=It,yn.min=Mt,yn.parsingFlags=function(){return c({},d(this))},yn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:L[n]});return t.sort((function(e,t){return e.priority-t.priority})),t}(e=N(e)),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit]);else if(D(this[e=I(e)]))return this[e](t);return this},yn.startOf=function(e){var t;if(void 0===(e=I(e))||"millisecond"===e||!this.isValid())return this;var i=this._isUTC?ln:sn;switch(e){case"year":t=i(this.year(),0,1);break;case"quarter":t=i(this.year(),this.month()-this.month()%3,1);break;case"month":t=i(this.year(),this.month(),1);break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=i(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=an(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=an(t,6e4);break;case"second":t=this._d.valueOf(),t-=an(t,1e3)}return this._d.setTime(t),n.updateOffset(this,!0),this},yn.subtract=Jt,yn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},yn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},yn.toDate=function(){return new Date(this.valueOf())},yn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?W(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):D(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",W(n,"Z")):W(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},yn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+t+'[")]')},yn.toJSON=function(){return this.isValid()?this.toISOString():null},yn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},yn.unix=function(){return Math.floor(this.valueOf()/1e3)},yn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},yn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},yn.year=ke,yn.isLeapYear=function(){return Ce(this.year())},yn.weekYear=function(e){return cn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},yn.isoWeekYear=function(e){return cn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},yn.quarter=yn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},yn.month=Be,yn.daysInMonth=function(){return Pe(this.year(),this.month())},yn.week=yn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},yn.isoWeek=yn.isoWeeks=function(e){var t=Ve(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},yn.weeksInYear=function(){var e=this.localeData()._week;return qe(this.year(),e.dow,e.doy)},yn.isoWeeksInYear=function(){return qe(this.year(),1,4)},yn.date=dn,yn.day=yn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},yn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},yn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},yn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},yn.hour=yn.hours=at,yn.minute=yn.minutes=fn,yn.second=yn.seconds=gn,yn.millisecond=yn.milliseconds=vn,yn.utcOffset=function(e,t,i){var r,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Yt(oe,e)))return this}else Math.abs(e)<16&&!i&&(e*=60);return!this._isUTC&&t&&(r=Wt(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==e&&(!t||this._changeInProgress?Qt(this,Xt(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Wt(this)},yn.utc=function(e){return this.utcOffset(0,e)},yn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Wt(this),"m")),this},yn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Yt(re,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},yn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Pt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},yn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},yn.isLocal=function(){return!!this.isValid()&&!this._isUTC},yn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},yn.isUtc=$t,yn.isUTC=$t,yn.zoneAbbr=function(){return this._isUTC?"UTC":""},yn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},yn.dates=S("dates accessor is deprecated. Use date instead.",dn),yn.months=S("months accessor is deprecated. Use month instead",Be),yn.years=S("years accessor is deprecated. Use year instead",ke),yn.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),yn.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e={};if(m(e,this),(e=At(e))._a){var t=e._isUTC?h(e._a):Pt(e._a);this._isDSTShifted=this.isValid()&&_(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}));var xn=O.prototype;function wn(e,t,n,i){var r=pt(),o=h().set(i,t);return r[n](o,e)}function _n(e,t,n){if(a(e)&&(t=e,e=void 0),e=e||"",null!=t)return wn(e,t,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=wn(e,i,n,"month");return r}function En(e,t,n,i){"boolean"==typeof e?(a(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,a(t)&&(n=t,t=void 0),t=t||"");var r,o=pt(),s=e?o._week.dow:0;if(null!=n)return wn(t,(n+s)%7,i,"day");var l=[];for(r=0;r<7;r++)l[r]=wn(t,(r+s)%7,i,"day");return l}xn.calendar=function(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return D(i)?i.call(t,n):i},xn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])},xn.invalidDate=function(){return this._invalidDate},xn.ordinal=function(e){return this._ordinal.replace("%d",e)},xn.preparse=bn,xn.postformat=bn,xn.relativeTime=function(e,t,n,i){var r=this._relativeTime[n];return D(r)?r(e,t,n,i):r.replace(/%d/i,e)},xn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return D(n)?n(t):n.replace(/%s/i,t)},xn.set=function(e){var t,n;for(n in e)D(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},xn.months=function(e,t){return e?i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Me).test(t)?"format":"standalone"][e.month()]:i(this._months)?this._months:this._months.standalone},xn.monthsShort=function(e,t){return e?i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Me.test(t)?"format":"standalone"][e.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},xn.monthsParse=function(e,t,n){var i,r,o;if(this._monthsParseExact)return Le.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=h([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},xn.monthsRegex=function(e){return this._monthsParseExact?(u(this,"_monthsRegex")||He.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=Fe),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},xn.monthsShortRegex=function(e){return this._monthsParseExact?(u(this,"_monthsRegex")||He.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=je),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},xn.week=function(e){return Ve(e,this._week.dow,this._week.doy).week},xn.firstDayOfYear=function(){return this._week.doy},xn.firstDayOfWeek=function(){return this._week.dow},xn.weekdays=function(e,t){var n=i(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Xe(n,this._week.dow):e?n[e.day()]:n},xn.weekdaysMin=function(e){return!0===e?Xe(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},xn.weekdaysShort=function(e){return!0===e?Xe(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},xn.weekdaysParse=function(e,t,n){var i,r,o;if(this._weekdaysParseExact)return Qe.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=h([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}},xn.weekdaysRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||tt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=Ze),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},xn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||tt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Je),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},xn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||tt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=et),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},xn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},xn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},dt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===w(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),n.lang=S("moment.lang is deprecated. Use moment.locale instead.",dt),n.langData=S("moment.langData is deprecated. Use moment.localeData instead.",pt);var Sn=Math.abs;function Cn(e,t,n,i){var r=Xt(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function Tn(e){return e<0?Math.floor(e):Math.ceil(e)}function kn(e){return 4800*e/146097}function Dn(e){return 146097*e/4800}function An(e){return function(){return this.as(e)}}var On=An("ms"),Pn=An("s"),Mn=An("m"),In=An("h"),Nn=An("d"),Ln=An("w"),Rn=An("M"),Bn=An("Q"),jn=An("y");function Fn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Hn=Fn("milliseconds"),Yn=Fn("seconds"),zn=Fn("minutes"),Wn=Fn("hours"),$n=Fn("days"),Vn=Fn("months"),qn=Fn("years"),Xn=Math.round,Un={ss:44,s:45,m:45,h:22,d:26,M:11};function Gn(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}var Kn=Math.abs;function Qn(e){return(e>0)-(e<0)||+e}function Zn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Kn(this._milliseconds)/1e3,i=Kn(this._days),r=Kn(this._months);e=x(n/60),t=x(e/60),n%=60,e%=60;var o=x(r/12),a=r%=12,s=i,l=t,u=e,c=n?n.toFixed(3).replace(/\.?0+$/,""):"",h=this.asSeconds();if(!h)return"P0D";var d=h<0?"-":"",f=Qn(this._months)!==Qn(h)?"-":"",p=Qn(this._days)!==Qn(h)?"-":"",g=Qn(this._milliseconds)!==Qn(h)?"-":"";return d+"P"+(o?f+o+"Y":"")+(a?f+a+"M":"")+(s?p+s+"D":"")+(l||u||c?"T":"")+(l?g+l+"H":"")+(u?g+u+"M":"")+(c?g+c+"S":"")}var Jn=Rt.prototype;return Jn.isValid=function(){return this._isValid},Jn.abs=function(){var e=this._data;return this._milliseconds=Sn(this._milliseconds),this._days=Sn(this._days),this._months=Sn(this._months),e.milliseconds=Sn(e.milliseconds),e.seconds=Sn(e.seconds),e.minutes=Sn(e.minutes),e.hours=Sn(e.hours),e.months=Sn(e.months),e.years=Sn(e.years),this},Jn.add=function(e,t){return Cn(this,e,t,1)},Jn.subtract=function(e,t){return Cn(this,e,t,-1)},Jn.as=function(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=I(e))||"quarter"===e||"year"===e)switch(n=this._months+kn(t=this._days+i/864e5),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Dn(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}},Jn.asMilliseconds=On,Jn.asSeconds=Pn,Jn.asMinutes=Mn,Jn.asHours=In,Jn.asDays=Nn,Jn.asWeeks=Ln,Jn.asMonths=Rn,Jn.asQuarters=Bn,Jn.asYears=jn,Jn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12):NaN},Jn._bubble=function(){var e,t,n,i,r,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*Tn(Dn(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=x(o/1e3),l.seconds=e%60,t=x(e/60),l.minutes=t%60,n=x(t/60),l.hours=n%24,a+=x(n/24),s+=r=x(kn(a)),a-=Tn(Dn(r)),i=x(s/12),s%=12,l.days=a,l.months=s,l.years=i,this},Jn.clone=function(){return Xt(this)},Jn.get=function(e){return e=I(e),this.isValid()?this[e+"s"]():NaN},Jn.milliseconds=Hn,Jn.seconds=Yn,Jn.minutes=zn,Jn.hours=Wn,Jn.days=$n,Jn.weeks=function(){return x(this.days()/7)},Jn.months=Vn,Jn.years=qn,Jn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var i=Xt(e).abs(),r=Xn(i.as("s")),o=Xn(i.as("m")),a=Xn(i.as("h")),s=Xn(i.as("d")),l=Xn(i.as("M")),u=Xn(i.as("y")),c=r<=Un.ss&&["s",r]||r<Un.s&&["ss",r]||o<=1&&["m"]||o<Un.m&&["mm",o]||a<=1&&["h"]||a<Un.h&&["hh",a]||s<=1&&["d"]||s<Un.d&&["dd",s]||l<=1&&["M"]||l<Un.M&&["MM",l]||u<=1&&["y"]||["yy",u];return c[2]=t,c[3]=+e>0,c[4]=n,Gn.apply(null,c)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},Jn.toISOString=Zn,Jn.toString=Zn,Jn.toJSON=Zn,Jn.locale=tn,Jn.localeData=rn,Jn.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Zn),Jn.lang=nn,z("X",0,0,"unix"),z("x",0,0,"valueOf"),le("x",ie),le("X",/[+-]?\d+(\.\d{1,3})?/),de("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))})),de("x",(function(e,t,n){n._d=new Date(w(e))})),n.version="2.24.0",e=Pt,n.fn=yn,n.min=function(){return Nt("isBefore",[].slice.call(arguments,0))},n.max=function(){return Nt("isAfter",[].slice.call(arguments,0))},n.now=function(){return Date.now?Date.now():+new Date},n.utc=h,n.unix=function(e){return Pt(1e3*e)},n.months=function(e,t){return _n(e,t,"months")},n.isDate=s,n.locale=dt,n.invalid=p,n.duration=Xt,n.isMoment=b,n.weekdays=function(e,t,n){return En(e,t,n,"weekdays")},n.parseZone=function(){return Pt.apply(null,arguments).parseZone()},n.localeData=pt,n.isDuration=Bt,n.monthsShort=function(e,t){return _n(e,t,"monthsShort")},n.weekdaysMin=function(e,t,n){return En(e,t,n,"weekdaysMin")},n.defineLocale=ft,n.updateLocale=function(e,t){if(null!=t){var n,i,r=st;null!=(i=ht(e))&&(r=i._config),(n=new O(t=A(r,t))).parentLocale=lt[e],lt[e]=n,dt(e)}else null!=lt[e]&&(null!=lt[e].parentLocale?lt[e]=lt[e].parentLocale:null!=lt[e]&&delete lt[e]);return lt[e]},n.locales=function(){return C(lt)},n.weekdaysShort=function(e,t,n){return En(e,t,n,"weekdaysShort")},n.normalizeUnits=I,n.relativeTimeRounding=function(e){return void 0===e?Xn:"function"==typeof e&&(Xn=e,!0)},n.relativeTimeThreshold=function(e,t){return void 0!==Un[e]&&(void 0===t?Un[e]:(Un[e]=t,"s"===e&&(Un.ss=t-1),!0))},n.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},n.prototype=yn,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.PerfectScrollbar=t()}(this,(function(){"use strict";function e(e){return getComputedStyle(e)}function t(e,t){for(var n in t){var i=t[n];"number"==typeof i&&(i+="px"),e.style[n]=i}return e}function n(e){var t=document.createElement("div");return t.className=e,t}function i(e,t){if(!g)throw new Error("No element matching method supported");return g.call(e,t)}function r(e){e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)}function o(e,t){return Array.prototype.filter.call(e.children,(function(e){return i(e,t)}))}function a(e,t){var n=e.element.classList,i=m.state.scrolling(t);n.contains(i)?clearTimeout(v[t]):n.add(i)}function s(e,t){v[t]=setTimeout((function(){return e.element.classList.remove(m.state.scrolling(t))}),e.settings.scrollingThreshold)}function l(e,t){a(e,t),s(e,t)}function u(e){if("function"==typeof window.CustomEvent)return new CustomEvent(e);var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,void 0),t}function c(e){return parseInt(e,10)||0}function h(e){return i(e,"input,[contenteditable]")||i(e,"select,[contenteditable]")||i(e,"textarea,[contenteditable]")||i(e,"button,[contenteditable]")}function d(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function f(e,n){var i={width:n.railXWidth};i.left=n.isRtl?n.negativeScrollAdjustment+e.scrollLeft+n.containerWidth-n.contentWidth:e.scrollLeft,n.isScrollbarXUsingBottom?i.bottom=n.scrollbarXBottom-e.scrollTop:i.top=n.scrollbarXTop+e.scrollTop,t(n.scrollbarXRail,i);var r={top:e.scrollTop,height:n.railYHeight};n.isScrollbarYUsingRight?r.right=n.isRtl?n.contentWidth-(n.negativeScrollAdjustment+e.scrollLeft)-n.scrollbarYRight-n.scrollbarYOuterWidth:n.scrollbarYRight-e.scrollLeft:r.left=n.isRtl?n.negativeScrollAdjustment+e.scrollLeft+2*n.containerWidth-n.contentWidth-n.scrollbarYLeft-n.scrollbarYOuterWidth:n.scrollbarYLeft+e.scrollLeft,t(n.scrollbarYRail,r),t(n.scrollbarX,{left:n.scrollbarXLeft,width:n.scrollbarXWidth-n.railBorderXWidth}),t(n.scrollbarY,{top:n.scrollbarYTop,height:n.scrollbarYHeight-n.railBorderYWidth})}function p(e,t){function n(t){w(e,d,g+v*(t[l]-m),!1),a(e,f),E(e),t.stopPropagation(),t.preventDefault()}function i(){s(e,f),e.event.unbind(e.ownerDocument,"mousemove",n)}var r=t[0],o=t[1],l=t[2],u=t[3],c=t[5],h=t[6],d=t[7],f=t[8],p=e.element,g=null,m=null,v=null;e.event.bind(e[t[4]],"mousedown",(function(t){g=p[h],m=t[l],v=(e[o]-e[r])/(e[u]-e[c]),e.event.bind(e.ownerDocument,"mousemove",n),e.event.once(e.ownerDocument,"mouseup",i),t.stopPropagation(),t.preventDefault()}))}var g=Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.msMatchesSelector,m={main:"ps",element:{thumb:function(e){return"ps__thumb-"+e},rail:function(e){return"ps__rail-"+e},consuming:"ps__child--consume"},state:{focus:"ps--focus",active:function(e){return"ps--active-"+e},scrolling:function(e){return"ps--scrolling-"+e}}},v={x:null,y:null},y=function(e){this.element=e,this.handlers={}},b={isEmpty:{configurable:!0}};y.prototype.bind=function(e,t){void 0===this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e].push(t),this.element.addEventListener(e,t,!1)},y.prototype.unbind=function(e,t){var n=this;this.handlers[e]=this.handlers[e].filter((function(i){return!(!t||i===t)||(n.element.removeEventListener(e,i,!1),!1)}))},y.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)},b.isEmpty.get=function(){var e=this;return Object.keys(this.handlers).every((function(t){return 0===e.handlers[t].length}))},Object.defineProperties(y.prototype,b);var x=function(){this.eventElements=[]};x.prototype.eventElement=function(e){var t=this.eventElements.filter((function(t){return t.element===e}))[0];return t||(t=new y(e),this.eventElements.push(t)),t},x.prototype.bind=function(e,t,n){this.eventElement(e).bind(t,n)},x.prototype.unbind=function(e,t,n){var i=this.eventElement(e);i.unbind(t,n),i.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(i),1)},x.prototype.unbindAll=function(){this.eventElements.forEach((function(e){return e.unbindAll()})),this.eventElements=[]},x.prototype.once=function(e,t,n){var i=this.eventElement(e),r=function(e){i.unbind(t,r),n(e)};i.bind(t,r)};var w=function(e,t,n,i){var r;if(void 0===i&&(i=!0),"top"===t)r=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==t)throw new Error("A proper axis should be provided");r=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(e,t,n,i){var r=n[0],o=n[1],a=n[2],s=n[3],c=n[4],h=n[5],d=e.element,f=!1;e.reach[s]=null,t<=0&&(t=0,e.reach[s]="start"),t>=e[r]-e[o]&&((t=e[r]-e[o])-d[a]<=2&&(f=!0),e.reach[s]="end");var p=d[a]-t;p&&(d.dispatchEvent(u("ps-scroll-"+s)),d.dispatchEvent(u(p>0?"ps-scroll-"+c:"ps-scroll-"+h)),f||(d[a]=t),e.reach[s]&&d.dispatchEvent(u("ps-"+s+"-reach-"+e.reach[s])),i&&l(e,s))}(e,n,r,i)},_={isWebKit:document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:window&&("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:navigator&&navigator.msMaxTouchPoints},E=function(e){var t=e.element;e.containerWidth=t.clientWidth,e.containerHeight=t.clientHeight,e.contentWidth=t.scrollWidth,e.contentHeight=t.scrollHeight,t.contains(e.scrollbarXRail)||(o(t,m.element.rail("x")).forEach((function(e){return r(e)})),t.appendChild(e.scrollbarXRail)),t.contains(e.scrollbarYRail)||(o(t,m.element.rail("y")).forEach((function(e){return r(e)})),t.appendChild(e.scrollbarYRail)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=d(e,c(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=c((e.negativeScrollAdjustment+t.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=d(e,c(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=c(t.scrollTop*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),f(t,e),e.scrollbarXActive?t.classList.add(m.state.active("x")):(t.classList.remove(m.state.active("x")),e.scrollbarXWidth=0,e.scrollbarXLeft=0,w(e,"left",0)),e.scrollbarYActive?t.classList.add(m.state.active("y")):(t.classList.remove(m.state.active("y")),e.scrollbarYHeight=0,e.scrollbarYTop=0,w(e,"top",0))},S={"click-rail":function(e){var t=e.element;e.event.bind(e.scrollbarY,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarYRail,"mousedown",(function(n){var i=n.pageY-window.pageYOffset-e.scrollbarYRail.getBoundingClientRect().top>e.scrollbarYTop?1:-1;w(e,"top",t.scrollTop+i*e.containerHeight),E(e),n.stopPropagation()})),e.event.bind(e.scrollbarX,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarXRail,"mousedown",(function(n){var i=n.pageX-window.pageXOffset-e.scrollbarXRail.getBoundingClientRect().left>e.scrollbarXLeft?1:-1;w(e,"left",t.scrollLeft+i*e.containerWidth),E(e),n.stopPropagation()}))},"drag-thumb":function(e){p(e,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","left","x"]),p(e,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","top","y"])},keyboard:function(e){var t=e.element,n=function(){return i(t,":hover")},r=function(){return i(e.scrollbarX,":focus")||i(e.scrollbarY,":focus")};e.event.bind(e.ownerDocument,"keydown",(function(i){if(!(i.isDefaultPrevented&&i.isDefaultPrevented()||i.defaultPrevented)&&(n()||r())){var o=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(o){if("IFRAME"===o.tagName)o=o.contentDocument.activeElement;else for(;o.shadowRoot;)o=o.shadowRoot.activeElement;if(h(o))return}var a=0,s=0;switch(i.which){case 37:a=i.metaKey?-e.contentWidth:i.altKey?-e.containerWidth:-30;break;case 38:s=i.metaKey?e.contentHeight:i.altKey?e.containerHeight:30;break;case 39:a=i.metaKey?e.contentWidth:i.altKey?e.containerWidth:30;break;case 40:s=i.metaKey?-e.contentHeight:i.altKey?-e.containerHeight:-30;break;case 32:s=i.shiftKey?e.containerHeight:-e.containerHeight;break;case 33:s=e.containerHeight;break;case 34:s=-e.containerHeight;break;case 36:s=e.contentHeight;break;case 35:s=-e.contentHeight;break;default:return}e.settings.suppressScrollX&&0!==a||e.settings.suppressScrollY&&0!==s||(w(e,"top",t.scrollTop-s),w(e,"left",t.scrollLeft+a),E(e),function(n,i){var r=t.scrollTop;if(0===n){if(!e.scrollbarYActive)return!1;if(0===r&&i>0||r>=e.contentHeight-e.containerHeight&&i<0)return!e.settings.wheelPropagation}var o=t.scrollLeft;if(0===i){if(!e.scrollbarXActive)return!1;if(0===o&&n<0||o>=e.contentWidth-e.containerWidth&&n>0)return!e.settings.wheelPropagation}return!0}(a,s)&&i.preventDefault())}}))},wheel:function(t){function n(t,n,i){if(!_.isWebKit&&r.querySelector("select:focus"))return!0;if(!r.contains(t))return!1;for(var o=t;o&&o!==r;){if(o.classList.contains(m.element.consuming))return!0;var a=e(o);if([a.overflow,a.overflowX,a.overflowY].join("").match(/(scroll|auto)/)){var s=o.scrollHeight-o.clientHeight;if(s>0&&!(0===o.scrollTop&&i>0||o.scrollTop===s&&i<0))return!0;var l=o.scrollLeft-o.clientWidth;if(l>0&&!(0===o.scrollLeft&&n<0||o.scrollLeft===l&&n>0))return!0}o=o.parentNode}return!1}function i(e){var i=function(e){var t=e.deltaX,n=-1*e.deltaY;return void 0!==t&&void 0!==n||(t=-1*e.wheelDeltaX/6,n=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,n*=10),t!=t&&n!=n&&(t=0,n=e.wheelDelta),e.shiftKey?[-n,-t]:[t,n]}(e),o=i[0],a=i[1];if(!n(e.target,o,a)){var s=!1;t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(w(t,"top",a?r.scrollTop-a*t.settings.wheelSpeed:r.scrollTop+o*t.settings.wheelSpeed),s=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(w(t,"left",o?r.scrollLeft+o*t.settings.wheelSpeed:r.scrollLeft-a*t.settings.wheelSpeed),s=!0):(w(t,"top",r.scrollTop-a*t.settings.wheelSpeed),w(t,"left",r.scrollLeft+o*t.settings.wheelSpeed)),E(t),(s=s||function(e,n){var i=r.scrollTop;if(0===e){if(!t.scrollbarYActive)return!1;if(0===i&&n>0||i>=t.contentHeight-t.containerHeight&&n<0)return!t.settings.wheelPropagation}var o=r.scrollLeft;if(0===n){if(!t.scrollbarXActive)return!1;if(0===o&&e<0||o>=t.contentWidth-t.containerWidth&&e>0)return!t.settings.wheelPropagation}return!0}(o,a))&&(e.stopPropagation(),e.preventDefault())}}var r=t.element;void 0!==window.onwheel?t.event.bind(r,"wheel",i):void 0!==window.onmousewheel&&t.event.bind(r,"mousewheel",i)},touch:function(e){function t(t,n){var i=c.scrollTop,r=c.scrollLeft,o=Math.abs(t),a=Math.abs(n);if(a>o){if(n<0&&i===e.contentHeight-e.containerHeight||n>0&&0===i)return{stop:!e.settings.swipePropagation,prevent:0===window.scrollY}}else if(o>a&&(t<0&&r===e.contentWidth-e.containerWidth||t>0&&0===r))return{stop:!e.settings.swipePropagation,prevent:!0};return{stop:!0,prevent:!0}}function n(t,n){w(e,"top",c.scrollTop-n),w(e,"left",c.scrollLeft-t),E(e)}function i(){g=!0}function r(){g=!1}function o(e){return e.targetTouches?e.targetTouches[0]:e}function a(e){return!(e.pointerType&&"pen"===e.pointerType&&0===e.buttons||(!e.targetTouches||1!==e.targetTouches.length)&&(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))}function s(e){if(a(e)){m=!0;var t=o(e);h.pageX=t.pageX,h.pageY=t.pageY,d=(new Date).getTime(),null!==p&&clearInterval(p),e.stopPropagation()}}function l(i){if(!m&&e.settings.swipePropagation&&s(i),!g&&m&&a(i)){var r=o(i),l={pageX:r.pageX,pageY:r.pageY},u=l.pageX-h.pageX,c=l.pageY-h.pageY;n(u,c),h=l;var p=(new Date).getTime(),v=p-d;v>0&&(f.x=u/v,f.y=c/v,d=p);var y=t(u,c),b=y.prevent;y.stop&&i.stopPropagation(),b&&i.preventDefault()}}function u(){!g&&m&&(m=!1,e.settings.swipeEasing&&(clearInterval(p),p=setInterval((function(){e.isInitialized?clearInterval(p):f.x||f.y?Math.abs(f.x)<.01&&Math.abs(f.y)<.01?clearInterval(p):(n(30*f.x,30*f.y),f.x*=.8,f.y*=.8):clearInterval(p)}),10)))}if(_.supportsTouch||_.supportsIePointer){var c=e.element,h={},d=0,f={},p=null,g=!1,m=!1;_.supportsTouch?(e.event.bind(window,"touchstart",i),e.event.bind(window,"touchend",r),e.event.bind(c,"touchstart",s),e.event.bind(c,"touchmove",l),e.event.bind(c,"touchend",u)):_.supportsIePointer&&(window.PointerEvent?(e.event.bind(window,"pointerdown",i),e.event.bind(window,"pointerup",r),e.event.bind(c,"pointerdown",s),e.event.bind(c,"pointermove",l),e.event.bind(c,"pointerup",u)):window.MSPointerEvent&&(e.event.bind(window,"MSPointerDown",i),e.event.bind(window,"MSPointerUp",r),e.event.bind(c,"MSPointerDown",s),e.event.bind(c,"MSPointerMove",l),e.event.bind(c,"MSPointerUp",u)))}}},C=function(i,r){var o=this;if(void 0===r&&(r={}),"string"==typeof i&&(i=document.querySelector(i)),!i||!i.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var a in this.element=i,i.classList.add(m.main),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1},r)o.settings[a]=r[a];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var s=function(){return i.classList.add(m.state.focus)},l=function(){return i.classList.remove(m.state.focus)};this.isRtl="rtl"===e(i).direction,this.isNegativeScroll=function(){var e,t=i.scrollLeft;return i.scrollLeft=-1,e=i.scrollLeft<0,i.scrollLeft=t,e}(),this.negativeScrollAdjustment=this.isNegativeScroll?i.scrollWidth-i.clientWidth:0,this.event=new x,this.ownerDocument=i.ownerDocument||document,this.scrollbarXRail=n(m.element.rail("x")),i.appendChild(this.scrollbarXRail),this.scrollbarX=n(m.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",s),this.event.bind(this.scrollbarX,"blur",l),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var u=e(this.scrollbarXRail);this.scrollbarXBottom=parseInt(u.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=c(u.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=c(u.borderLeftWidth)+c(u.borderRightWidth),t(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=c(u.marginLeft)+c(u.marginRight),t(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=n(m.element.rail("y")),i.appendChild(this.scrollbarYRail),this.scrollbarY=n(m.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",s),this.event.bind(this.scrollbarY,"blur",l),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var h=e(this.scrollbarYRail);this.scrollbarYRight=parseInt(h.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=c(h.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(t){var n=e(t);return c(n.width)+c(n.paddingLeft)+c(n.paddingRight)+c(n.borderLeftWidth)+c(n.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=c(h.borderTopWidth)+c(h.borderBottomWidth),t(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=c(h.marginTop)+c(h.marginBottom),t(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:i.scrollLeft<=0?"start":i.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:i.scrollTop<=0?"start":i.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.settings.handlers.forEach((function(e){return S[e](o)})),this.event.bind(this.element,"scroll",(function(){return E(o)})),E(this)},T={isInitialized:{configurable:!0}};return T.isInitialized.get=function(){return this.element.classList.contains(m.main)},C.prototype.update=function(){this.isInitialized&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,t(this.scrollbarXRail,{display:"block"}),t(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=c(e(this.scrollbarXRail).marginLeft)+c(e(this.scrollbarXRail).marginRight),this.railYMarginHeight=c(e(this.scrollbarYRail).marginTop)+c(e(this.scrollbarYRail).marginBottom),t(this.scrollbarXRail,{display:"none"}),t(this.scrollbarYRail,{display:"none"}),E(this),t(this.scrollbarXRail,{display:""}),t(this.scrollbarYRail,{display:""}))},C.prototype.destroy=function(){this.isInitialized&&(this.event.unbindAll(),r(this.scrollbarX),r(this.scrollbarY),r(this.scrollbarXRail),r(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null)},C.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter((function(e){return!e.match(/^ps([-_].+|)$/)})).join(" ")},Object.defineProperties(C.prototype,T),C})),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}((function(e){var t={element:"body",position:null,type:"info",allow_dismiss:!0,newest_on_top:!1,showProgressbar:!1,placement:{from:"top",align:"right"},offset:20,spacing:10,z_index:1031,delay:5e3,timer:1e3,url_target:"_blank",mouse_over:null,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"},onShow:null,onShown:null,onClose:null,onClosed:null,icon_type:"class",template:'<div data-notify="container" class="col-xs-11 col-sm-4 alert alert-{0}" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">&times;</button><span data-notify="icon"></span> <span data-notify="title">{1}</span> <span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>'};function n(n,i,r){r=e.extend(!0,{},i={content:{message:"object"==typeof i?i.message:i,title:i.title?i.title:"",icon:i.icon?i.icon:"",url:i.url?i.url:"#",target:i.target?i.target:"-"}},r),this.settings=e.extend(!0,{},t,r),this._defaults=t,"-"==this.settings.content.target&&(this.settings.content.target=this.settings.url_target),this.animations={start:"webkitAnimationStart oanimationstart MSAnimationStart animationstart",end:"webkitAnimationEnd oanimationend MSAnimationEnd animationend"},"number"==typeof this.settings.offset&&(this.settings.offset={x:this.settings.offset,y:this.settings.offset}),this.init()}String.format=function(){for(var e=arguments[0],t=1;t<arguments.length;t++)e=e.replace(RegExp("\\{"+(t-1)+"\\}","gm"),arguments[t]);return e},e.extend(n.prototype,{init:function(){var e=this;this.buildNotify(),this.settings.content.icon&&this.setIcon(),"#"!=this.settings.content.url&&this.styleURL(),this.styleDismiss(),this.placement(),this.bind(),this.notify={$ele:this.$ele,update:function(t,n){var i={};for(var t in"string"==typeof t?i[t]=n:i=t,i)switch(t){case"type":this.$ele.removeClass("alert-"+e.settings.type),this.$ele.find('[data-notify="progressbar"] > .progress-bar').removeClass("progress-bar-"+e.settings.type),e.settings.type=i[t],this.$ele.addClass("alert-"+i[t]).find('[data-notify="progressbar"] > .progress-bar').addClass("progress-bar-"+i[t]);break;case"icon":var r=this.$ele.find('[data-notify="icon"]');"class"==e.settings.icon_type.toLowerCase()?r.removeClass(e.settings.content.icon).addClass(i[t]):(r.is("img")||r.find("img"),r.attr("src",i[t]));break;case"progress":this.$ele.data("notify-delay",e.settings.delay-e.settings.delay*(i[t]/100)),this.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow",i[t]).css("width",i[t]+"%");break;case"url":this.$ele.find('[data-notify="url"]').attr("href",i[t]);break;case"target":this.$ele.find('[data-notify="url"]').attr("target",i[t]);break;default:this.$ele.find('[data-notify="'+t+'"]').html(i[t])}var o=this.$ele.outerHeight()+parseInt(e.settings.spacing)+parseInt(e.settings.offset.y);e.reposition(o)},close:function(){e.close()}}},buildNotify:function(){var t=this.settings.content;this.$ele=e(String.format(this.settings.template,this.settings.type,t.title,t.message,t.url,t.target)),this.$ele.attr("data-notify-position",this.settings.placement.from+"-"+this.settings.placement.align),this.settings.allow_dismiss||this.$ele.find('[data-notify="dismiss"]').css("display","none"),(this.settings.delay<=0&&!this.settings.showProgressbar||!this.settings.showProgressbar)&&this.$ele.find('[data-notify="progressbar"]').remove()},setIcon:function(){"class"==this.settings.icon_type.toLowerCase()?this.$ele.find('[data-notify="icon"]').addClass(this.settings.content.icon):this.$ele.find('[data-notify="icon"]').is("img")?this.$ele.find('[data-notify="icon"]').attr("src",this.settings.content.icon):this.$ele.find('[data-notify="icon"]').append('<img src="'+this.settings.content.icon+'" alt="Notify Icon" />')},styleDismiss:function(){this.$ele.find('[data-notify="dismiss"]').css({position:"absolute",right:"10px",top:"5px",zIndex:this.settings.z_index+2})},styleURL:function(){this.$ele.find('[data-notify="url"]').css({backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)",height:"100%",left:"0px",position:"absolute",top:"0px",width:"100%",zIndex:this.settings.z_index+1})},placement:function(){var t=this,n=this.settings.offset.y,i={display:"inline-block",margin:"0px auto",position:this.settings.position?this.settings.position:"body"===this.settings.element?"fixed":"absolute",transition:"all .5s ease-in-out",zIndex:this.settings.z_index},r=!1,o=this.settings;switch(e('[data-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])').each((function(){return n=Math.max(n,parseInt(e(this).css(o.placement.from))+parseInt(e(this).outerHeight())+parseInt(o.spacing))})),1==this.settings.newest_on_top&&(n=this.settings.offset.y),i[this.settings.placement.from]=n+"px",this.settings.placement.align){case"left":case"right":i[this.settings.placement.align]=this.settings.offset.x+"px";break;case"center":i.left=0,i.right=0}this.$ele.css(i).addClass(this.settings.animate.enter),e.each(Array("webkit-","moz-","o-","ms-",""),(function(e,n){t.$ele[0].style[n+"AnimationIterationCount"]=1})),e(this.settings.element).append(this.$ele),1==this.settings.newest_on_top&&(n=parseInt(n)+parseInt(this.settings.spacing)+this.$ele.outerHeight(),this.reposition(n)),e.isFunction(t.settings.onShow)&&t.settings.onShow.call(this.$ele),this.$ele.one(this.animations.start,(function(e){r=!0})).one(this.animations.end,(function(n){e.isFunction(t.settings.onShown)&&t.settings.onShown.call(this)})),setTimeout((function(){r||e.isFunction(t.settings.onShown)&&t.settings.onShown.call(this)}),600)},bind:function(){var t=this;if(this.$ele.find('[data-notify="dismiss"]').on("click",(function(){t.close()})),this.$ele.mouseover((function(t){e(this).data("data-hover","true")})).mouseout((function(t){e(this).data("data-hover","false")})),this.$ele.data("data-hover","false"),this.settings.delay>0){t.$ele.data("notify-delay",t.settings.delay);var n=setInterval((function(){var e=parseInt(t.$ele.data("notify-delay"))-t.settings.timer;if("false"===t.$ele.data("data-hover")&&"pause"==t.settings.mouse_over||"pause"!=t.settings.mouse_over){var i=(t.settings.delay-e)/t.settings.delay*100;t.$ele.data("notify-delay",e),t.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow",i).css("width",i+"%")}e<=-t.settings.timer&&(clearInterval(n),t.close())}),t.settings.timer)}},close:function(){var t=this,n=parseInt(this.$ele.css(this.settings.placement.from)),i=!1;this.$ele.data("closing","true").addClass(this.settings.animate.exit),t.reposition(n),e.isFunction(t.settings.onClose)&&t.settings.onClose.call(this.$ele),this.$ele.one(this.animations.start,(function(e){i=!0})).one(this.animations.end,(function(n){e(this).remove(),e.isFunction(t.settings.onClosed)&&t.settings.onClosed.call(this)})),setTimeout((function(){i||(t.$ele.remove(),t.settings.onClosed&&t.settings.onClosed(t.$ele))}),600)},reposition:function(t){var n=this,i='[data-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])',r=this.$ele.nextAll(i);1==this.settings.newest_on_top&&(r=this.$ele.prevAll(i)),r.each((function(){e(this).css(n.settings.placement.from,t),t=parseInt(t)+parseInt(n.settings.spacing)+e(this).outerHeight()}))}}),e.notify=function(e,t){return new n(this,e,t).notify},e.notifyDefaults=function(n){return t=e.extend(!0,{},t,n)},e.notifyClose=function(t){void 0===t||"all"==t?e("[data-notify]").find('[data-notify="dismiss"]').trigger("click"):e('[data-notify-position="'+t+'"]').find('[data-notify="dismiss"]').trigger("click")}})),function(e,t){"function"==typeof define&&define.amd?define("Chartist",[],(function(){return e.Chartist=t()})):"object"==typeof module&&module.exports?module.exports=t():e.Chartist=t()}(this,(function(){var e={version:"0.11.1"};return function(e,t){"use strict";var n=e.window,i=e.document;t.namespaces={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",ct:"http://gionkunz.github.com/chartist-js/ct"},t.noop=function(e){return e},t.alphaNumerate=function(e){return String.fromCharCode(97+e%26)},t.extend=function(e){var n,i,r;for(e=e||{},n=1;n<arguments.length;n++)for(var o in i=arguments[n])e[o]="object"!=typeof(r=i[o])||null===r||r instanceof Array?r:t.extend(e[o],r);return e},t.replaceAll=function(e,t,n){return e.replace(new RegExp(t,"g"),n)},t.ensureUnit=function(e,t){return"number"==typeof e&&(e+=t),e},t.quantity=function(e){if("string"==typeof e){var t=/^(\d+)\s*(.*)$/g.exec(e);return{value:+t[1],unit:t[2]||void 0}}return{value:e}},t.querySelector=function(e){return e instanceof Node?e:i.querySelector(e)},t.times=function(e){return Array.apply(null,new Array(e))},t.sum=function(e,t){return e+(t||0)},t.mapMultiply=function(e){return function(t){return t*e}},t.mapAdd=function(e){return function(t){return t+e}},t.serialMap=function(e,n){var i=[],r=Math.max.apply(null,e.map((function(e){return e.length})));return t.times(r).forEach((function(t,r){var o=e.map((function(e){return e[r]}));i[r]=n.apply(null,o)})),i},t.roundWithPrecision=function(e,n){var i=Math.pow(10,n||t.precision);return Math.round(e*i)/i},t.precision=8,t.escapingMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"},t.serialize=function(e){return null==e?e:("number"==typeof e?e=""+e:"object"==typeof e&&(e=JSON.stringify({data:e})),Object.keys(t.escapingMap).reduce((function(e,n){return t.replaceAll(e,n,t.escapingMap[n])}),e))},t.deserialize=function(e){if("string"!=typeof e)return e;e=Object.keys(t.escapingMap).reduce((function(e,n){return t.replaceAll(e,t.escapingMap[n],n)}),e);try{e=void 0!==(e=JSON.parse(e)).data?e.data:e}catch(n){}return e},t.createSvg=function(e,n,i,r){var o;return n=n||"100%",i=i||"100%",Array.prototype.slice.call(e.querySelectorAll("svg")).filter((function(e){return e.getAttributeNS(t.namespaces.xmlns,"ct")})).forEach((function(t){e.removeChild(t)})),(o=new t.Svg("svg").attr({width:n,height:i}).addClass(r))._node.style.width=n,o._node.style.height=i,e.appendChild(o._node),o},t.normalizeData=function(e,n,i){var r,o={raw:e,normalized:{}};return o.normalized.series=t.getDataArray({series:e.series||[]},n,i),r=o.normalized.series.every((function(e){return e instanceof Array}))?Math.max.apply(null,o.normalized.series.map((function(e){return e.length}))):o.normalized.series.length,o.normalized.labels=(e.labels||[]).slice(),Array.prototype.push.apply(o.normalized.labels,t.times(Math.max(0,r-o.normalized.labels.length)).map((function(){return""}))),n&&t.reverseData(o.normalized),o},t.safeHasProperty=function(e,t){return null!==e&&"object"==typeof e&&e.hasOwnProperty(t)},t.isDataHoleValue=function(e){return null==e||"number"==typeof e&&isNaN(e)},t.reverseData=function(e){e.labels.reverse(),e.series.reverse();for(var t=0;t<e.series.length;t++)"object"==typeof e.series[t]&&void 0!==e.series[t].data?e.series[t].data.reverse():e.series[t]instanceof Array&&e.series[t].reverse()},t.getDataArray=function(e,n,i){return e.series.map((function e(n){if(t.safeHasProperty(n,"value"))return e(n.value);if(t.safeHasProperty(n,"data"))return e(n.data);if(n instanceof Array)return n.map(e);if(!t.isDataHoleValue(n)){if(i){var r={};return"string"==typeof i?r[i]=t.getNumberOrUndefined(n):r.y=t.getNumberOrUndefined(n),r.x=n.hasOwnProperty("x")?t.getNumberOrUndefined(n.x):r.x,r.y=n.hasOwnProperty("y")?t.getNumberOrUndefined(n.y):r.y,r}return t.getNumberOrUndefined(n)}}))},t.normalizePadding=function(e,t){return t=t||0,"number"==typeof e?{top:e,right:e,bottom:e,left:e}:{top:"number"==typeof e.top?e.top:t,right:"number"==typeof e.right?e.right:t,bottom:"number"==typeof e.bottom?e.bottom:t,left:"number"==typeof e.left?e.left:t}},t.getMetaData=function(e,t){var n=e.data?e.data[t]:e[t];return n?n.meta:void 0},t.orderOfMagnitude=function(e){return Math.floor(Math.log(Math.abs(e))/Math.LN10)},t.projectLength=function(e,t,n){return t/n.range*e},t.getAvailableHeight=function(e,n){return Math.max((t.quantity(n.height).value||e.height())-(n.chartPadding.top+n.chartPadding.bottom)-n.axisX.offset,0)},t.getHighLow=function(e,n,i){var r={high:void 0===(n=t.extend({},n,i?n["axis"+i.toUpperCase()]:{})).high?-Number.MAX_VALUE:+n.high,low:void 0===n.low?Number.MAX_VALUE:+n.low},o=void 0===n.high,a=void 0===n.low;return(o||a)&&function e(t){if(void 0!==t)if(t instanceof Array)for(var n=0;n<t.length;n++)e(t[n]);else{var s=i?+t[i]:+t;o&&s>r.high&&(r.high=s),a&&s<r.low&&(r.low=s)}}(e),(n.referenceValue||0===n.referenceValue)&&(r.high=Math.max(n.referenceValue,r.high),r.low=Math.min(n.referenceValue,r.low)),r.high<=r.low&&(0===r.low?r.high=1:r.low<0?r.high=0:r.high>0?r.low=0:(r.high=1,r.low=0)),r},t.isNumeric=function(e){return null!==e&&isFinite(e)},t.isFalseyButZero=function(e){return!e&&0!==e},t.getNumberOrUndefined=function(e){return t.isNumeric(e)?+e:void 0},t.isMultiValue=function(e){return"object"==typeof e&&("x"in e||"y"in e)},t.getMultiValue=function(e,n){return t.isMultiValue(e)?t.getNumberOrUndefined(e[n||"y"]):t.getNumberOrUndefined(e)},t.rho=function(e){if(1===e)return e;function t(e,n){return e%n==0?n:t(n,e%n)}function n(e){return e*e+1}var i,r=2,o=2;if(e%2==0)return 2;do{r=n(r)%e,o=n(n(o))%e,i=t(Math.abs(r-o),e)}while(1===i);return i},t.getBounds=function(e,n,i,r){var o,a,s,l=0,u={high:n.high,low:n.low};u.valueRange=u.high-u.low,u.oom=t.orderOfMagnitude(u.valueRange),u.step=Math.pow(10,u.oom),u.min=Math.floor(u.low/u.step)*u.step,u.max=Math.ceil(u.high/u.step)*u.step,u.range=u.max-u.min,u.numberOfSteps=Math.round(u.range/u.step);var c=t.projectLength(e,u.step,u)<i,h=r?t.rho(u.range):0;if(r&&t.projectLength(e,1,u)>=i)u.step=1;else if(r&&h<u.step&&t.projectLength(e,h,u)>=i)u.step=h;else for(;;){if(c&&t.projectLength(e,u.step,u)<=i)u.step*=2;else{if(c||!(t.projectLength(e,u.step/2,u)>=i))break;if(u.step/=2,r&&u.step%1!=0){u.step*=2;break}}if(l++>1e3)throw new Error("Exceeded maximum number of iterations while optimizing scale step!")}var d=2221e-19;function f(e,t){return e===(e+=t)&&(e*=1+(t>0?d:-d)),e}for(u.step=Math.max(u.step,d),a=u.min,s=u.max;a+u.step<=u.low;)a=f(a,u.step);for(;s-u.step>=u.high;)s=f(s,-u.step);u.min=a,u.max=s,u.range=u.max-u.min;var p=[];for(o=u.min;o<=u.max;o=f(o,u.step)){var g=t.roundWithPrecision(o);g!==p[p.length-1]&&p.push(g)}return u.values=p,u},t.polarToCartesian=function(e,t,n,i){var r=(i-90)*Math.PI/180;return{x:e+n*Math.cos(r),y:t+n*Math.sin(r)}},t.createChartRect=function(e,n,i){var r=!(!n.axisX&&!n.axisY),o=r?n.axisY.offset:0,a=r?n.axisX.offset:0,s=e.width()||t.quantity(n.width).value||0,l=e.height()||t.quantity(n.height).value||0,u=t.normalizePadding(n.chartPadding,i);s=Math.max(s,o+u.left+u.right),l=Math.max(l,a+u.top+u.bottom);var c={padding:u,width:function(){return this.x2-this.x1},height:function(){return this.y1-this.y2}};return r?("start"===n.axisX.position?(c.y2=u.top+a,c.y1=Math.max(l-u.bottom,c.y2+1)):(c.y2=u.top,c.y1=Math.max(l-u.bottom-a,c.y2+1)),"start"===n.axisY.position?(c.x1=u.left+o,c.x2=Math.max(s-u.right,c.x1+1)):(c.x1=u.left,c.x2=Math.max(s-u.right-o,c.x1+1))):(c.x1=u.left,c.x2=Math.max(s-u.right,c.x1+1),c.y2=u.top,c.y1=Math.max(l-u.bottom,c.y2+1)),c},t.createGrid=function(e,n,i,r,o,a,s,l){var u={};u[i.units.pos+"1"]=e,u[i.units.pos+"2"]=e,u[i.counterUnits.pos+"1"]=r,u[i.counterUnits.pos+"2"]=r+o;var c=a.elem("line",u,s.join(" "));l.emit("draw",t.extend({type:"grid",axis:i,index:n,group:a,element:c},u))},t.createGridBackground=function(e,t,n,i){var r=e.elem("rect",{x:t.x1,y:t.y2,width:t.width(),height:t.height()},n,!0);i.emit("draw",{type:"gridBackground",group:e,element:r})},t.createLabel=function(e,n,r,o,a,s,l,u,c,h,d){var f,p={};if(p[a.units.pos]=e+l[a.units.pos],p[a.counterUnits.pos]=l[a.counterUnits.pos],p[a.units.len]=n,p[a.counterUnits.len]=Math.max(0,s-10),h){var g=i.createElement("span");g.className=c.join(" "),g.setAttribute("xmlns",t.namespaces.xhtml),g.innerText=o[r],g.style[a.units.len]=Math.round(p[a.units.len])+"px",g.style[a.counterUnits.len]=Math.round(p[a.counterUnits.len])+"px",f=u.foreignObject(g,t.extend({style:"overflow: visible;"},p))}else f=u.elem("text",p,c.join(" ")).text(o[r]);d.emit("draw",t.extend({type:"label",axis:a,index:r,group:u,element:f,text:o[r]},p))},t.getSeriesOption=function(e,t,n){if(e.name&&t.series&&t.series[e.name]){var i=t.series[e.name];return i.hasOwnProperty(n)?i[n]:t[n]}return t[n]},t.optionsProvider=function(e,i,r){var o,a,s=t.extend({},e),l=[];function u(e){var l=o;if(o=t.extend({},s),i)for(a=0;a<i.length;a++)n.matchMedia(i[a][0]).matches&&(o=t.extend(o,i[a][1]));r&&e&&r.emit("optionsChanged",{previousOptions:l,currentOptions:o})}if(!n.matchMedia)throw"window.matchMedia not found! Make sure you're using a polyfill.";if(i)for(a=0;a<i.length;a++){var c=n.matchMedia(i[a][0]);c.addListener(u),l.push(c)}return u(),{removeMediaQueryListeners:function(){l.forEach((function(e){e.removeListener(u)}))},getCurrentOptions:function(){return t.extend({},o)}}},t.splitIntoSegments=function(e,n,i){i=t.extend({},{increasingX:!1,fillHoles:!1},i);for(var r=[],o=!0,a=0;a<e.length;a+=2)void 0===t.getMultiValue(n[a/2].value)?i.fillHoles||(o=!0):(i.increasingX&&a>=2&&e[a]<=e[a-2]&&(o=!0),o&&(r.push({pathCoordinates:[],valueData:[]}),o=!1),r[r.length-1].pathCoordinates.push(e[a],e[a+1]),r[r.length-1].valueData.push(n[a/2]));return r}}(this,e),function(e,t){"use strict";t.Interpolation={},t.Interpolation.none=function(e){return e=t.extend({},{fillHoles:!1},e),function(n,i){for(var r=new t.Svg.Path,o=!0,a=0;a<n.length;a+=2){var s=n[a],l=n[a+1],u=i[a/2];void 0!==t.getMultiValue(u.value)?(o?r.move(s,l,!1,u):r.line(s,l,!1,u),o=!1):e.fillHoles||(o=!0)}return r}},t.Interpolation.simple=function(e){e=t.extend({},{divisor:2,fillHoles:!1},e);var n=1/Math.max(1,e.divisor);return function(i,r){for(var o,a,s,l=new t.Svg.Path,u=0;u<i.length;u+=2){var c=i[u],h=i[u+1],d=(c-o)*n,f=r[u/2];void 0!==f.value?(void 0===s?l.move(c,h,!1,f):l.curve(o+d,a,c-d,h,c,h,!1,f),o=c,a=h,s=f):e.fillHoles||(o=c=s=void 0)}return l}},t.Interpolation.cardinal=function(e){e=t.extend({},{tension:1,fillHoles:!1},e);var n=Math.min(1,Math.max(0,e.tension)),i=1-n;return function r(o,a){var s=t.splitIntoSegments(o,a,{fillHoles:e.fillHoles});if(s.length){if(s.length>1){var l=[];return s.forEach((function(e){l.push(r(e.pathCoordinates,e.valueData))})),t.Svg.Path.join(l)}if(a=s[0].valueData,(o=s[0].pathCoordinates).length<=4)return t.Interpolation.none()(o,a);for(var u=(new t.Svg.Path).move(o[0],o[1],!1,a[0]),c=0,h=o.length;h-2>c;c+=2){var d=[{x:+o[c-2],y:+o[c-1]},{x:+o[c],y:+o[c+1]},{x:+o[c+2],y:+o[c+3]},{x:+o[c+4],y:+o[c+5]}];h-4===c?d[3]=d[2]:c||(d[0]={x:+o[c],y:+o[c+1]}),u.curve(n*(6*d[1].x-d[0].x+d[2].x)/6+i*d[2].x,n*(6*d[1].y-d[0].y+d[2].y)/6+i*d[2].y,n*(d[1].x+6*d[2].x-d[3].x)/6+i*d[2].x,n*(d[1].y+6*d[2].y-d[3].y)/6+i*d[2].y,d[2].x,d[2].y,!1,a[(c+2)/2])}return u}return t.Interpolation.none()([])}},t.Interpolation.monotoneCubic=function(e){return e=t.extend({},{fillHoles:!1},e),function n(i,r){var o=t.splitIntoSegments(i,r,{fillHoles:e.fillHoles,increasingX:!0});if(o.length){if(o.length>1){var a=[];return o.forEach((function(e){a.push(n(e.pathCoordinates,e.valueData))})),t.Svg.Path.join(a)}if(r=o[0].valueData,(i=o[0].pathCoordinates).length<=4)return t.Interpolation.none()(i,r);var s,l,u=[],c=[],h=i.length/2,d=[],f=[],p=[],g=[];for(s=0;s<h;s++)u[s]=i[2*s],c[s]=i[2*s+1];for(s=0;s<h-1;s++)p[s]=c[s+1]-c[s],g[s]=u[s+1]-u[s],f[s]=p[s]/g[s];for(d[0]=f[0],d[h-1]=f[h-2],s=1;s<h-1;s++)0===f[s]||0===f[s-1]||f[s-1]>0!=f[s]>0?d[s]=0:(d[s]=3*(g[s-1]+g[s])/((2*g[s]+g[s-1])/f[s-1]+(g[s]+2*g[s-1])/f[s]),isFinite(d[s])||(d[s]=0));for(l=(new t.Svg.Path).move(u[0],c[0],!1,r[0]),s=0;s<h-1;s++)l.curve(u[s]+g[s]/3,c[s]+d[s]*g[s]/3,u[s+1]-g[s]/3,c[s+1]-d[s+1]*g[s]/3,u[s+1],c[s+1],!1,r[s+1]);return l}return t.Interpolation.none()([])}},t.Interpolation.step=function(e){return e=t.extend({},{postpone:!0,fillHoles:!1},e),function(n,i){for(var r,o,a,s=new t.Svg.Path,l=0;l<n.length;l+=2){var u=n[l],c=n[l+1],h=i[l/2];void 0!==h.value?(void 0===a?s.move(u,c,!1,h):(e.postpone?s.line(u,o,!1,a):s.line(r,c,!1,h),s.line(u,c,!1,h)),r=u,o=c,a=h):e.fillHoles||(r=o=a=void 0)}return s}}}(0,e),function(e,t){"use strict";t.EventEmitter=function(){var e=[];return{addEventHandler:function(t,n){e[t]=e[t]||[],e[t].push(n)},removeEventHandler:function(t,n){e[t]&&(n?(e[t].splice(e[t].indexOf(n),1),0===e[t].length&&delete e[t]):delete e[t])},emit:function(t,n){e[t]&&e[t].forEach((function(e){e(n)})),e["*"]&&e["*"].forEach((function(e){e(t,n)}))}}}}(0,e),function(e,t){"use strict";t.Class={extend:function(e,n){var i=n||this.prototype||t.Class,r=Object.create(i);t.Class.cloneDefinitions(r,e);var o=function(){var e,n=r.constructor||function(){};return e=this===t?Object.create(r):this,n.apply(e,Array.prototype.slice.call(arguments,0)),e};return o.prototype=r,o.super=i,o.extend=this.extend,o},cloneDefinitions:function(){var e=function(e){var t=[];if(e.length)for(var n=0;n<e.length;n++)t.push(e[n]);return t}(arguments),t=e[0];return e.splice(1,e.length-1).forEach((function(e){Object.getOwnPropertyNames(e).forEach((function(n){delete t[n],Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))})),t}}}(0,e),function(e,t){"use strict";var n=e.window;function i(){n.addEventListener("resize",this.resizeListener),this.optionsProvider=t.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter),this.eventEmitter.addEventHandler("optionsChanged",(function(){this.update()}).bind(this)),this.options.plugins&&this.options.plugins.forEach((function(e){e instanceof Array?e[0](this,e[1]):e(this)}).bind(this)),this.eventEmitter.emit("data",{type:"initial",data:this.data}),this.createChart(this.optionsProvider.getCurrentOptions()),this.initializeTimeoutId=void 0}t.Base=t.Class.extend({constructor:function(e,n,r,o,a){this.container=t.querySelector(e),this.data=n||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.defaultOptions=r,this.options=o,this.responsiveOptions=a,this.eventEmitter=t.EventEmitter(),this.supportsForeignObject=t.Svg.isSupported("Extensibility"),this.supportsAnimations=t.Svg.isSupported("AnimationEventsAttribute"),this.resizeListener=(function(){this.update()}).bind(this),this.container&&(this.container.__chartist__&&this.container.__chartist__.detach(),this.container.__chartist__=this),this.initializeTimeoutId=setTimeout(i.bind(this),0)},optionsProvider:void 0,container:void 0,svg:void 0,eventEmitter:void 0,createChart:function(){throw new Error("Base chart type can't be instantiated!")},update:function(e,n,i){return e&&(this.data=e||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.eventEmitter.emit("data",{type:"update",data:this.data})),n&&(this.options=t.extend({},i?this.options:this.defaultOptions,n),this.initializeTimeoutId||(this.optionsProvider.removeMediaQueryListeners(),this.optionsProvider=t.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter))),this.initializeTimeoutId||this.createChart(this.optionsProvider.getCurrentOptions()),this},detach:function(){return this.initializeTimeoutId?n.clearTimeout(this.initializeTimeoutId):(n.removeEventListener("resize",this.resizeListener),this.optionsProvider.removeMediaQueryListeners()),this},on:function(e,t){return this.eventEmitter.addEventHandler(e,t),this},off:function(e,t){return this.eventEmitter.removeEventHandler(e,t),this},version:t.version,supportsForeignObject:!1})}(this,e),function(e,t){"use strict";var n=e.document;t.Svg=t.Class.extend({constructor:function(e,i,r,o,a){e instanceof Element?this._node=e:(this._node=n.createElementNS(t.namespaces.svg,e),"svg"===e&&this.attr({"xmlns:ct":t.namespaces.ct})),i&&this.attr(i),r&&this.addClass(r),o&&(a&&o._node.firstChild?o._node.insertBefore(this._node,o._node.firstChild):o._node.appendChild(this._node))},attr:function(e,n){return"string"==typeof e?n?this._node.getAttributeNS(n,e):this._node.getAttribute(e):(Object.keys(e).forEach((function(n){if(void 0!==e[n])if(-1!==n.indexOf(":")){var i=n.split(":");this._node.setAttributeNS(t.namespaces[i[0]],n,e[n])}else this._node.setAttribute(n,e[n])}).bind(this)),this)},elem:function(e,n,i,r){return new t.Svg(e,n,i,this,r)},parent:function(){return this._node.parentNode instanceof SVGElement?new t.Svg(this._node.parentNode):null},root:function(){for(var e=this._node;"svg"!==e.nodeName;)e=e.parentNode;return new t.Svg(e)},querySelector:function(e){var n=this._node.querySelector(e);return n?new t.Svg(n):null},querySelectorAll:function(e){var n=this._node.querySelectorAll(e);return n.length?new t.Svg.List(n):null},getNode:function(){return this._node},foreignObject:function(e,i,r,o){if("string"==typeof e){var a=n.createElement("div");a.innerHTML=e,e=a.firstChild}e.setAttribute("xmlns",t.namespaces.xmlns);var s=this.elem("foreignObject",i,r,o);return s._node.appendChild(e),s},text:function(e){return this._node.appendChild(n.createTextNode(e)),this},empty:function(){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);return this},remove:function(){return this._node.parentNode.removeChild(this._node),this.parent()},replace:function(e){return this._node.parentNode.replaceChild(e._node,this._node),e},append:function(e,t){return t&&this._node.firstChild?this._node.insertBefore(e._node,this._node.firstChild):this._node.appendChild(e._node),this},classes:function(){return this._node.getAttribute("class")?this._node.getAttribute("class").trim().split(/\s+/):[]},addClass:function(e){return this._node.setAttribute("class",this.classes(this._node).concat(e.trim().split(/\s+/)).filter((function(e,t,n){return n.indexOf(e)===t})).join(" ")),this},removeClass:function(e){var t=e.trim().split(/\s+/);return this._node.setAttribute("class",this.classes(this._node).filter((function(e){return-1===t.indexOf(e)})).join(" ")),this},removeAllClasses:function(){return this._node.setAttribute("class",""),this},height:function(){return this._node.getBoundingClientRect().height},width:function(){return this._node.getBoundingClientRect().width},animate:function(e,n,i){return void 0===n&&(n=!0),Object.keys(e).forEach((function(r){function o(e,n){var o,a,s,l={};e.easing&&(s=e.easing instanceof Array?e.easing:t.Svg.Easing[e.easing],delete e.easing),e.begin=t.ensureUnit(e.begin,"ms"),e.dur=t.ensureUnit(e.dur,"ms"),s&&(e.calcMode="spline",e.keySplines=s.join(" "),e.keyTimes="0;1"),n&&(e.fill="freeze",l[r]=e.from,this.attr(l),a=t.quantity(e.begin||0).value,e.begin="indefinite"),o=this.elem("animate",t.extend({attributeName:r},e)),n&&setTimeout((function(){try{o._node.beginElement()}catch(t){l[r]=e.to,this.attr(l),o.remove()}}).bind(this),a),i&&o._node.addEventListener("beginEvent",(function(){i.emit("animationBegin",{element:this,animate:o._node,params:e})}).bind(this)),o._node.addEventListener("endEvent",(function(){i&&i.emit("animationEnd",{element:this,animate:o._node,params:e}),n&&(l[r]=e.to,this.attr(l),o.remove())}).bind(this))}e[r]instanceof Array?e[r].forEach((function(e){o.bind(this)(e,!1)}).bind(this)):o.bind(this)(e[r],n)}).bind(this)),this}}),t.Svg.isSupported=function(e){return n.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#"+e,"1.1")},t.Svg.Easing={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]},t.Svg.List=t.Class.extend({constructor:function(e){var n=this;this.svgElements=[];for(var i=0;i<e.length;i++)this.svgElements.push(new t.Svg(e[i]));Object.keys(t.Svg.prototype).filter((function(e){return-1===["constructor","parent","querySelector","querySelectorAll","replace","append","classes","height","width"].indexOf(e)})).forEach((function(e){n[e]=function(){var i=Array.prototype.slice.call(arguments,0);return n.svgElements.forEach((function(n){t.Svg.prototype[e].apply(n,i)})),n}}))}})}(this,e),function(e,t){"use strict";var n={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]},i={accuracy:3};function r(e,n,i,r,o,a){var s=t.extend({command:o?e.toLowerCase():e.toUpperCase()},n,a?{data:a}:{});i.splice(r,0,s)}function o(e,t){e.forEach((function(i,r){n[i.command.toLowerCase()].forEach((function(n,o){t(i,n,r,o,e)}))}))}t.Svg.Path=t.Class.extend({constructor:function(e,n){this.pathElements=[],this.pos=0,this.close=e,this.options=t.extend({},i,n)},position:function(e){return void 0!==e?(this.pos=Math.max(0,Math.min(this.pathElements.length,e)),this):this.pos},remove:function(e){return this.pathElements.splice(this.pos,e),this},move:function(e,t,n,i){return r("M",{x:+e,y:+t},this.pathElements,this.pos++,n,i),this},line:function(e,t,n,i){return r("L",{x:+e,y:+t},this.pathElements,this.pos++,n,i),this},curve:function(e,t,n,i,o,a,s,l){return r("C",{x1:+e,y1:+t,x2:+n,y2:+i,x:+o,y:+a},this.pathElements,this.pos++,s,l),this},arc:function(e,t,n,i,o,a,s,l,u){return r("A",{rx:+e,ry:+t,xAr:+n,lAf:+i,sf:+o,x:+a,y:+s},this.pathElements,this.pos++,l,u),this},scale:function(e,t){return o(this.pathElements,(function(n,i){n[i]*="x"===i[0]?e:t})),this},translate:function(e,t){return o(this.pathElements,(function(n,i){n[i]+="x"===i[0]?e:t})),this},transform:function(e){return o(this.pathElements,(function(t,n,i,r,o){var a=e(t,n,i,r,o);(a||0===a)&&(t[n]=a)})),this},parse:function(e){var i=e.replace(/([A-Za-z])([0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce((function(e,t){return t.match(/[A-Za-z]/)&&e.push([]),e[e.length-1].push(t),e}),[]);"Z"===i[i.length-1][0].toUpperCase()&&i.pop();var r=i.map((function(e){var i=e.shift(),r=n[i.toLowerCase()];return t.extend({command:i},r.reduce((function(t,n,i){return t[n]=+e[i],t}),{}))})),o=[this.pos,0];return Array.prototype.push.apply(o,r),Array.prototype.splice.apply(this.pathElements,o),this.pos+=r.length,this},stringify:function(){var e=Math.pow(10,this.options.accuracy);return this.pathElements.reduce((function(t,i){var r=n[i.command.toLowerCase()].map((function(t){return this.options.accuracy?Math.round(i[t]*e)/e:i[t]}).bind(this));return t+i.command+r.join(",")}).bind(this),"")+(this.close?"Z":"")},clone:function(e){var n=new t.Svg.Path(e||this.close);return n.pos=this.pos,n.pathElements=this.pathElements.slice().map((function(e){return t.extend({},e)})),n.options=t.extend({},this.options),n},splitByCommand:function(e){var n=[new t.Svg.Path];return this.pathElements.forEach((function(i){i.command===e.toUpperCase()&&0!==n[n.length-1].pathElements.length&&n.push(new t.Svg.Path),n[n.length-1].pathElements.push(i)})),n}}),t.Svg.Path.elementDescriptions=n,t.Svg.Path.join=function(e,n,i){for(var r=new t.Svg.Path(n,i),o=0;o<e.length;o++)for(var a=e[o],s=0;s<a.pathElements.length;s++)r.pathElements.push(a.pathElements[s]);return r}}(0,e),function(e,t){"use strict";var n={x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}};t.Axis=t.Class.extend({constructor:function(e,t,i,r){this.units=e,this.counterUnits=e===n.x?n.y:n.x,this.chartRect=t,this.axisLength=t[e.rectEnd]-t[e.rectStart],this.gridOffset=t[e.rectOffset],this.ticks=i,this.options=r},createGridAndLabels:function(e,n,i,r,o){var a=r["axis"+this.units.pos.toUpperCase()],s=this.ticks.map(this.projectValue.bind(this)),l=this.ticks.map(a.labelInterpolationFnc);s.forEach((function(u,c){var h,d={x:0,y:0};h=s[c+1]?s[c+1]-u:Math.max(this.axisLength-u,30),t.isFalseyButZero(l[c])&&""!==l[c]||("x"===this.units.pos?(u=this.chartRect.x1+u,d.x=r.axisX.labelOffset.x,d.y="start"===r.axisX.position?this.chartRect.padding.top+r.axisX.labelOffset.y+(i?5:20):this.chartRect.y1+r.axisX.labelOffset.y+(i?5:20)):(u=this.chartRect.y1-u,d.y=r.axisY.labelOffset.y-(i?h:0),d.x="start"===r.axisY.position?i?this.chartRect.padding.left+r.axisY.labelOffset.x:this.chartRect.x1-10:this.chartRect.x2+r.axisY.labelOffset.x+10),a.showGrid&&t.createGrid(u,c,this,this.gridOffset,this.chartRect[this.counterUnits.len](),e,[r.classNames.grid,r.classNames[this.units.dir]],o),a.showLabel&&t.createLabel(u,h,c,l,this,a.offset,d,n,[r.classNames.label,r.classNames[this.units.dir],"start"===a.position?r.classNames[a.position]:r.classNames.end],i,o))}).bind(this))},projectValue:function(e,t,n){throw new Error("Base axis can't be instantiated!")}}),t.Axis.units=n}(0,e),function(e,t){"use strict";t.AutoScaleAxis=t.Axis.extend({constructor:function(e,n,i,r){var o=r.highLow||t.getHighLow(n,r,e.pos);this.bounds=t.getBounds(i[e.rectEnd]-i[e.rectStart],o,r.scaleMinSpace||20,r.onlyInteger),this.range={min:this.bounds.min,max:this.bounds.max},t.AutoScaleAxis.super.constructor.call(this,e,i,this.bounds.values,r)},projectValue:function(e){return this.axisLength*(+t.getMultiValue(e,this.units.pos)-this.bounds.min)/this.bounds.range}})}(0,e),function(e,t){"use strict";t.FixedScaleAxis=t.Axis.extend({constructor:function(e,n,i,r){var o=r.highLow||t.getHighLow(n,r,e.pos);this.divisor=r.divisor||1,this.ticks=r.ticks||t.times(this.divisor).map((function(e,t){return o.low+(o.high-o.low)/this.divisor*t}).bind(this)),this.ticks.sort((function(e,t){return e-t})),this.range={min:o.low,max:o.high},t.FixedScaleAxis.super.constructor.call(this,e,i,this.ticks,r),this.stepLength=this.axisLength/this.divisor},projectValue:function(e){return this.axisLength*(+t.getMultiValue(e,this.units.pos)-this.range.min)/(this.range.max-this.range.min)}})}(0,e),function(e,t){"use strict";t.StepAxis=t.Axis.extend({constructor:function(e,n,i,r){t.StepAxis.super.constructor.call(this,e,i,r.ticks,r);var o=Math.max(1,r.ticks.length-(r.stretch?1:0));this.stepLength=this.axisLength/o},projectValue:function(e,t){return this.stepLength*t}})}(0,e),function(e,t){"use strict";var n={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:t.noop,type:void 0},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:t.noop,type:void 0,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,showLine:!0,showPoint:!0,showArea:!1,areaBase:0,lineSmooth:!0,showGridBackground:!1,low:void 0,high:void 0,chartPadding:{top:15,right:15,bottom:5,left:10},fullWidth:!1,reverseData:!1,classNames:{chart:"ct-chart-line",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",line:"ct-line",point:"ct-point",area:"ct-area",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};t.Line=t.Base.extend({constructor:function(e,i,r,o){t.Line.super.constructor.call(this,e,i,n,t.extend({},n,r),o)},createChart:function(e){var i=t.normalizeData(this.data,e.reverseData,!0);this.svg=t.createSvg(this.container,e.width,e.height,e.classNames.chart);var r,o,a=this.svg.elem("g").addClass(e.classNames.gridGroup),s=this.svg.elem("g"),l=this.svg.elem("g").addClass(e.classNames.labelGroup),u=t.createChartRect(this.svg,e,n.padding);r=void 0===e.axisX.type?new t.StepAxis(t.Axis.units.x,i.normalized.series,u,t.extend({},e.axisX,{ticks:i.normalized.labels,stretch:e.fullWidth})):e.axisX.type.call(t,t.Axis.units.x,i.normalized.series,u,e.axisX),o=void 0===e.axisY.type?new t.AutoScaleAxis(t.Axis.units.y,i.normalized.series,u,t.extend({},e.axisY,{high:t.isNumeric(e.high)?e.high:e.axisY.high,low:t.isNumeric(e.low)?e.low:e.axisY.low})):e.axisY.type.call(t,t.Axis.units.y,i.normalized.series,u,e.axisY),r.createGridAndLabels(a,l,this.supportsForeignObject,e,this.eventEmitter),o.createGridAndLabels(a,l,this.supportsForeignObject,e,this.eventEmitter),e.showGridBackground&&t.createGridBackground(a,u,e.classNames.gridBackground,this.eventEmitter),i.raw.series.forEach((function(n,a){var l=s.elem("g");l.attr({"ct:series-name":n.name,"ct:meta":t.serialize(n.meta)}),l.addClass([e.classNames.series,n.className||e.classNames.series+"-"+t.alphaNumerate(a)].join(" "));var c=[],h=[];i.normalized.series[a].forEach((function(e,s){var l={x:u.x1+r.projectValue(e,s,i.normalized.series[a]),y:u.y1-o.projectValue(e,s,i.normalized.series[a])};c.push(l.x,l.y),h.push({value:e,valueIndex:s,meta:t.getMetaData(n,s)})}).bind(this));var d={lineSmooth:t.getSeriesOption(n,e,"lineSmooth"),showPoint:t.getSeriesOption(n,e,"showPoint"),showLine:t.getSeriesOption(n,e,"showLine"),showArea:t.getSeriesOption(n,e,"showArea"),areaBase:t.getSeriesOption(n,e,"areaBase")},f=("function"==typeof d.lineSmooth?d.lineSmooth:d.lineSmooth?t.Interpolation.monotoneCubic():t.Interpolation.none())(c,h);if(d.showPoint&&f.pathElements.forEach((function(i){var s=l.elem("line",{x1:i.x,y1:i.y,x2:i.x+.01,y2:i.y},e.classNames.point).attr({"ct:value":[i.data.value.x,i.data.value.y].filter(t.isNumeric).join(","),"ct:meta":t.serialize(i.data.meta)});this.eventEmitter.emit("draw",{type:"point",value:i.data.value,index:i.data.valueIndex,meta:i.data.meta,series:n,seriesIndex:a,axisX:r,axisY:o,group:l,element:s,x:i.x,y:i.y})}).bind(this)),d.showLine){var p=l.elem("path",{d:f.stringify()},e.classNames.line,!0);this.eventEmitter.emit("draw",{type:"line",values:i.normalized.series[a],path:f.clone(),chartRect:u,index:a,series:n,seriesIndex:a,seriesMeta:n.meta,axisX:r,axisY:o,group:l,element:p})}if(d.showArea&&o.range){var g=Math.max(Math.min(d.areaBase,o.range.max),o.range.min),m=u.y1-o.projectValue(g);f.splitByCommand("M").filter((function(e){return e.pathElements.length>1})).map((function(e){var t=e.pathElements[0],n=e.pathElements[e.pathElements.length-1];return e.clone(!0).position(0).remove(1).move(t.x,m).line(t.x,t.y).position(e.pathElements.length+1).line(n.x,m)})).forEach((function(t){var s=l.elem("path",{d:t.stringify()},e.classNames.area,!0);this.eventEmitter.emit("draw",{type:"area",values:i.normalized.series[a],path:t.clone(),series:n,seriesIndex:a,axisX:r,axisY:o,chartRect:u,index:a,group:l,element:s})}).bind(this))}}).bind(this)),this.eventEmitter.emit("created",{bounds:o.bounds,chartRect:u,axisX:r,axisY:o,svg:this.svg,options:e})}})}(0,e),function(e,t){"use strict";var n={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:t.noop,scaleMinSpace:30,onlyInteger:!1},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:t.noop,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,high:void 0,low:void 0,referenceValue:0,chartPadding:{top:15,right:15,bottom:5,left:10},seriesBarDistance:15,stackBars:!1,stackMode:"accumulate",horizontalBars:!1,distributeSeries:!1,reverseData:!1,showGridBackground:!1,classNames:{chart:"ct-chart-bar",horizontalBars:"ct-horizontal-bars",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",bar:"ct-bar",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};t.Bar=t.Base.extend({constructor:function(e,i,r,o){t.Bar.super.constructor.call(this,e,i,n,t.extend({},n,r),o)},createChart:function(e){var i,r;e.distributeSeries?(i=t.normalizeData(this.data,e.reverseData,e.horizontalBars?"x":"y")).normalized.series=i.normalized.series.map((function(e){return[e]})):i=t.normalizeData(this.data,e.reverseData,e.horizontalBars?"x":"y"),this.svg=t.createSvg(this.container,e.width,e.height,e.classNames.chart+(e.horizontalBars?" "+e.classNames.horizontalBars:""));var o=this.svg.elem("g").addClass(e.classNames.gridGroup),a=this.svg.elem("g"),s=this.svg.elem("g").addClass(e.classNames.labelGroup);if(e.stackBars&&0!==i.normalized.series.length){var l=t.serialMap(i.normalized.series,(function(){return Array.prototype.slice.call(arguments).map((function(e){return e})).reduce((function(e,t){return{x:e.x+(t&&t.x)||0,y:e.y+(t&&t.y)||0}}),{x:0,y:0})}));r=t.getHighLow([l],e,e.horizontalBars?"x":"y")}else r=t.getHighLow(i.normalized.series,e,e.horizontalBars?"x":"y");r.high=+e.high||(0===e.high?0:r.high),r.low=+e.low||(0===e.low?0:r.low);var u,c,h,d,f,p=t.createChartRect(this.svg,e,n.padding);c=e.distributeSeries&&e.stackBars?i.normalized.labels.slice(0,1):i.normalized.labels,e.horizontalBars?(u=d=void 0===e.axisX.type?new t.AutoScaleAxis(t.Axis.units.x,i.normalized.series,p,t.extend({},e.axisX,{highLow:r,referenceValue:0})):e.axisX.type.call(t,t.Axis.units.x,i.normalized.series,p,t.extend({},e.axisX,{highLow:r,referenceValue:0})),h=f=void 0===e.axisY.type?new t.StepAxis(t.Axis.units.y,i.normalized.series,p,{ticks:c}):e.axisY.type.call(t,t.Axis.units.y,i.normalized.series,p,e.axisY)):(h=d=void 0===e.axisX.type?new t.StepAxis(t.Axis.units.x,i.normalized.series,p,{ticks:c}):e.axisX.type.call(t,t.Axis.units.x,i.normalized.series,p,e.axisX),u=f=void 0===e.axisY.type?new t.AutoScaleAxis(t.Axis.units.y,i.normalized.series,p,t.extend({},e.axisY,{highLow:r,referenceValue:0})):e.axisY.type.call(t,t.Axis.units.y,i.normalized.series,p,t.extend({},e.axisY,{highLow:r,referenceValue:0})));var g=e.horizontalBars?p.x1+u.projectValue(0):p.y1-u.projectValue(0),m=[];h.createGridAndLabels(o,s,this.supportsForeignObject,e,this.eventEmitter),u.createGridAndLabels(o,s,this.supportsForeignObject,e,this.eventEmitter),e.showGridBackground&&t.createGridBackground(o,p,e.classNames.gridBackground,this.eventEmitter),i.raw.series.forEach((function(n,r){var o,s,l=r-(i.raw.series.length-1)/2;o=e.distributeSeries&&!e.stackBars?h.axisLength/i.normalized.series.length/2:e.distributeSeries&&e.stackBars?h.axisLength/2:h.axisLength/i.normalized.series[r].length/2,(s=a.elem("g")).attr({"ct:series-name":n.name,"ct:meta":t.serialize(n.meta)}),s.addClass([e.classNames.series,n.className||e.classNames.series+"-"+t.alphaNumerate(r)].join(" ")),i.normalized.series[r].forEach((function(a,c){var v,y,b,x;if(x=e.distributeSeries&&!e.stackBars?r:e.distributeSeries&&e.stackBars?0:c,v=e.horizontalBars?{x:p.x1+u.projectValue(a&&a.x?a.x:0,c,i.normalized.series[r]),y:p.y1-h.projectValue(a&&a.y?a.y:0,x,i.normalized.series[r])}:{x:p.x1+h.projectValue(a&&a.x?a.x:0,x,i.normalized.series[r]),y:p.y1-u.projectValue(a&&a.y?a.y:0,c,i.normalized.series[r])},h instanceof t.StepAxis&&(h.options.stretch||(v[h.units.pos]+=o*(e.horizontalBars?-1:1)),v[h.units.pos]+=e.stackBars||e.distributeSeries?0:l*e.seriesBarDistance*(e.horizontalBars?-1:1)),m[c]=(b=m[c]||g)-(g-v[h.counterUnits.pos]),void 0!==a){var w={};w[h.units.pos+"1"]=v[h.units.pos],w[h.units.pos+"2"]=v[h.units.pos],!e.stackBars||"accumulate"!==e.stackMode&&e.stackMode?(w[h.counterUnits.pos+"1"]=g,w[h.counterUnits.pos+"2"]=v[h.counterUnits.pos]):(w[h.counterUnits.pos+"1"]=b,w[h.counterUnits.pos+"2"]=m[c]),w.x1=Math.min(Math.max(w.x1,p.x1),p.x2),w.x2=Math.min(Math.max(w.x2,p.x1),p.x2),w.y1=Math.min(Math.max(w.y1,p.y2),p.y1),w.y2=Math.min(Math.max(w.y2,p.y2),p.y1);var _=t.getMetaData(n,c);y=s.elem("line",w,e.classNames.bar).attr({"ct:value":[a.x,a.y].filter(t.isNumeric).join(","),"ct:meta":t.serialize(_)}),this.eventEmitter.emit("draw",t.extend({type:"bar",value:a,index:c,meta:_,series:n,seriesIndex:r,axisX:d,axisY:f,chartRect:p,group:s,element:y},w))}}).bind(this))}).bind(this)),this.eventEmitter.emit("created",{bounds:u.bounds,chartRect:p,axisX:d,axisY:f,svg:this.svg,options:e})}})}(0,e),function(e,t){"use strict";var n={width:void 0,height:void 0,chartPadding:5,classNames:{chartPie:"ct-chart-pie",chartDonut:"ct-chart-donut",series:"ct-series",slicePie:"ct-slice-pie",sliceDonut:"ct-slice-donut",sliceDonutSolid:"ct-slice-donut-solid",label:"ct-label"},startAngle:0,total:void 0,donut:!1,donutSolid:!1,donutWidth:60,showLabel:!0,labelOffset:0,labelPosition:"inside",labelInterpolationFnc:t.noop,labelDirection:"neutral",reverseData:!1,ignoreEmptyValues:!1};function i(e,t,n){var i=t.x>e.x;return i&&"explode"===n||!i&&"implode"===n?"start":i&&"implode"===n||!i&&"explode"===n?"end":"middle"}t.Pie=t.Base.extend({constructor:function(e,i,r,o){t.Pie.super.constructor.call(this,e,i,n,t.extend({},n,r),o)},createChart:function(e){var r,o,a,s,l,u=t.normalizeData(this.data),c=[],h=e.startAngle;this.svg=t.createSvg(this.container,e.width,e.height,e.donut?e.classNames.chartDonut:e.classNames.chartPie),o=t.createChartRect(this.svg,e,n.padding),a=Math.min(o.width()/2,o.height()/2),l=e.total||u.normalized.series.reduce((function(e,t){return e+t}),0);var d=t.quantity(e.donutWidth);"%"===d.unit&&(d.value*=a/100),a-=e.donut&&!e.donutSolid?d.value/2:0,s="outside"===e.labelPosition||e.donut&&!e.donutSolid?a:"center"===e.labelPosition?0:e.donutSolid?a-d.value/2:a/2,s+=e.labelOffset;var f={x:o.x1+o.width()/2,y:o.y2+o.height()/2},p=1===u.raw.series.filter((function(e){return e.hasOwnProperty("value")?0!==e.value:0!==e})).length;u.raw.series.forEach((function(e,t){c[t]=this.svg.elem("g",null,null)}).bind(this)),e.showLabel&&(r=this.svg.elem("g",null,null)),u.raw.series.forEach((function(n,o){if(0!==u.normalized.series[o]||!e.ignoreEmptyValues){c[o].attr({"ct:series-name":n.name}),c[o].addClass([e.classNames.series,n.className||e.classNames.series+"-"+t.alphaNumerate(o)].join(" "));var g=l>0?h+u.normalized.series[o]/l*360:0,m=Math.max(0,h-(0===o||p?0:.2));g-m>=359.99&&(g=m+359.99);var v,y,b,x=t.polarToCartesian(f.x,f.y,a,m),w=t.polarToCartesian(f.x,f.y,a,g),_=new t.Svg.Path(!e.donut||e.donutSolid).move(w.x,w.y).arc(a,a,0,g-h>180,0,x.x,x.y);e.donut?e.donutSolid&&(v=t.polarToCartesian(f.x,f.y,b=a-d.value,h-(0===o||p?0:.2)),y=t.polarToCartesian(f.x,f.y,b,g),_.line(v.x,v.y),_.arc(b,b,0,g-h>180,1,y.x,y.y)):_.line(f.x,f.y);var E=e.classNames.slicePie;e.donut&&(E=e.classNames.sliceDonut,e.donutSolid&&(E=e.classNames.sliceDonutSolid));var S=c[o].elem("path",{d:_.stringify()},E);if(S.attr({"ct:value":u.normalized.series[o],"ct:meta":t.serialize(n.meta)}),e.donut&&!e.donutSolid&&(S._node.style.strokeWidth=d.value+"px"),this.eventEmitter.emit("draw",{type:"slice",value:u.normalized.series[o],totalDataSum:l,index:o,meta:n.meta,series:n,group:c[o],element:S,path:_.clone(),center:f,radius:a,startAngle:h,endAngle:g}),e.showLabel){var C,T;C=1===u.raw.series.length?{x:f.x,y:f.y}:t.polarToCartesian(f.x,f.y,s,h+(g-h)/2),T=u.normalized.labels&&!t.isFalseyButZero(u.normalized.labels[o])?u.normalized.labels[o]:u.normalized.series[o];var k=e.labelInterpolationFnc(T,o);if(k||0===k){var D=r.elem("text",{dx:C.x,dy:C.y,"text-anchor":i(f,C,e.labelDirection)},e.classNames.label).text(""+k);this.eventEmitter.emit("draw",{type:"label",index:o,group:r,element:D,text:""+k,x:C.x,y:C.y})}}h=g}}).bind(this)),this.eventEmitter.emit("created",{chartRect:o,svg:this.svg,options:e})},determineAnchorPosition:i})}(0,e),e})),function(e,t){"use strict";"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],(function(e){return t(e)})):t(e.jQuery)}(this,(function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.select=this.options.select||this.select,this.autoSelect="boolean"!=typeof this.options.autoSelect||this.options.autoSelect,this.highlighter=this.options.highlighter||this.highlighter,this.render=this.options.render||this.render,this.updater=this.options.updater||this.updater,this.displayText=this.options.displayText||this.displayText,this.source=this.options.source,this.delay=this.options.delay,this.$menu=e(this.options.menu),this.$appendTo=this.options.appendTo?e(this.options.appendTo):null,this.fitToElement="boolean"==typeof this.options.fitToElement&&this.options.fitToElement,this.shown=!1,this.listen(),this.showHintOnFocus=("boolean"==typeof this.options.showHintOnFocus||"all"===this.options.showHintOnFocus)&&this.options.showHintOnFocus,this.afterSelect=this.options.afterSelect,this.addItem=!1,this.value=this.$element.val()||this.$element.text()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").data("value");if(this.$element.data("active",e),this.autoSelect||e){var t=this.updater(e);t||(t=""),this.$element.val(this.displayText(t)||t).text(this.displayText(t)||t).change(),this.afterSelect(t)}return this.hide()},updater:function(e){return e},setSource:function(e){this.source=e},show:function(){var t,n=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight}),i="function"==typeof this.options.scrollHeight?this.options.scrollHeight.call():this.options.scrollHeight;if(this.shown?t=this.$menu:this.$appendTo?(t=this.$menu.appendTo(this.$appendTo),this.hasSameParent=this.$appendTo.is(this.$element.parent())):(t=this.$menu.insertAfter(this.$element),this.hasSameParent=!0),!this.hasSameParent){t.css("position","fixed");var r=this.$element.offset();n.top=r.top,n.left=r.left}var o=e(t).parent().hasClass("dropup")?"auto":n.top+n.height+i,a=e(t).hasClass("dropdown-menu-right");return t.css({top:o,left:a?"auto":n.left}).show(),!0===this.options.fitToElement&&t.css("width",this.$element.outerWidth()+"px"),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){if(this.query=null!=t?t:this.$element.val()||this.$element.text()||"",this.query.length<this.options.minLength&&!this.options.showHintOnFocus)return this.shown?this.hide():this;var n=e.proxy((function(){e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source&&this.process(this.source)}),this);clearTimeout(this.lookupWorker),this.lookupWorker=setTimeout(n,this.delay)},process:function(t){var n=this;return t=e.grep(t,(function(e){return n.matcher(e)})),(t=this.sorter(t)).length||this.options.addItem?(this.$element.data("active",t.length>0?t[0]:null),this.options.addItem&&t.push(this.options.addItem),"all"==this.options.items?this.render(t).show():this.render(t.slice(0,this.options.items)).show()):this.shown?this.hide():this},matcher:function(e){return~this.displayText(e).toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){for(var t,n=[],i=[],r=[];t=e.shift();){var o=this.displayText(t);o.toLowerCase().indexOf(this.query.toLowerCase())?~o.indexOf(this.query)?i.push(t):r.push(t):n.push(t)}return n.concat(i,r)},highlighter:function(t){var n,i,r,o,a=e("<div></div>"),s=this.query,l=t.toLowerCase().indexOf(s.toLowerCase()),u=s.length;if(0===u)return a.text(t).html();for(;l>-1;)n=t.substr(0,l),i=t.substr(l,u),r=t.substr(l+u),o=e("<strong></strong>").text(i),a.append(document.createTextNode(n)).append(o),l=(t=r).toLowerCase().indexOf(s.toLowerCase());return a.append(document.createTextNode(t)).html()},render:function(t){var n=this,i=this,r=!1,o=[],a=n.options.separator;return e.each(t,(function(e,n){e>0&&n[a]!==t[e-1][a]&&o.push({__type:"divider"}),!n[a]||0!==e&&n[a]===t[e-1][a]||o.push({__type:"category",name:n[a]}),o.push(n)})),t=e(o).map((function(t,o){if("category"==(o.__type||!1))return e(n.options.headerHtml).text(o.name)[0];if("divider"==(o.__type||!1))return e(n.options.headerDivider)[0];var a=i.displayText(o);return(t=e(n.options.item).data("value",o)).find("a").html(n.highlighter(a,o)),a==i.$element.val()&&(t.addClass("active"),i.$element.data("active",o),r=!0),t[0]})),this.autoSelect&&!r&&(t.filter(":not(.dropdown-header)").first().addClass("active"),this.$element.data("active",t.first().data("value"))),this.$menu.html(t),this},displayText:function(e){return void 0!==e&&void 0!==e.name&&e.name||e},next:function(t){var n=this.$menu.find(".active").removeClass("active").next();n.length||(n=e(this.$menu.find("li")[0])),n.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active").prev();t.length||(t=this.$menu.find("li").last()),t.addClass("active")},listen:function(){this.$element.on("focus",e.proxy(this.focus,this)).on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("input",e.proxy(this.input,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this)).on("mouseleave","li",e.proxy(this.mouseleave,this)).on("mousedown",e.proxy(this.mousedown,this))},destroy:function(){this.$element.data("typeahead",null),this.$element.data("active",null),this.$element.off("focus").off("blur").off("keypress").off("input").off("keyup"),this.eventSupported("keydown")&&this.$element.off("keydown"),this.$menu.remove(),this.destroyed=!0},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t="function"==typeof this.$element[e]),t},move:function(e){if(this.shown)switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:if(e.shiftKey)return;e.preventDefault(),this.prev();break;case 40:if(e.shiftKey)return;e.preventDefault(),this.next()}},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.shown||40!=t.keyCode?this.move(t):this.lookup()},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},input:function(e){var t=this.$element.val()||this.$element.text();this.value!==t&&(this.value=t,this.lookup())},keyup:function(e){if(!this.destroyed)switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide()}},focus:function(e){this.focused||(this.focused=!0,this.options.showHintOnFocus&&!0!==this.skipShowHintOnFocus&&("all"===this.options.showHintOnFocus?this.lookup(""):this.lookup())),this.skipShowHintOnFocus&&(this.skipShowHintOnFocus=!1)},blur:function(e){this.mousedover||this.mouseddown||!this.shown?this.mouseddown&&(this.skipShowHintOnFocus=!0,this.$element.focus(),this.mouseddown=!1):(this.hide(),this.focused=!1)},click:function(e){e.preventDefault(),this.skipShowHintOnFocus=!0,this.select(),this.$element.focus(),this.hide()},mouseenter:function(t){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")},mouseleave:function(e){this.mousedover=!1,!this.focused&&this.shown&&this.hide()},mousedown:function(e){this.mouseddown=!0,this.$menu.one("mouseup",(function(e){this.mouseddown=!1}).bind(this))}};var n=e.fn.typeahead;e.fn.typeahead=function(n){var i=arguments;return"string"==typeof n&&"getActive"==n?this.data("active"):this.each((function(){var r=e(this),o=r.data("typeahead");o||r.data("typeahead",o=new t(this,"object"==typeof n&&n)),"string"==typeof n&&o[n]&&(i.length>1?o[n].apply(o,Array.prototype.slice.call(i,1)):o[n]())}))},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu" role="listbox"></ul>',item:'<li><a class="dropdown-item" href="#" role="option"></a></li>',minLength:1,scrollHeight:0,autoSelect:!0,afterSelect:e.noop,addItem:!1,delay:0,separator:"category",headerHtml:'<li class="dropdown-header"></li>',headerDivider:'<li class="divider" role="separator"></li>'},e.fn.typeahead.Constructor=t,e.fn.typeahead.noConflict=function(){return e.fn.typeahead=n,this},e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',(function(t){var n=e(this);n.data("typeahead")||n.typeahead(n.data())}))})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).cytoscape=t()}(this,(function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var o="undefined"==typeof window?null:window,a=o?o.navigator:null,s=e(""),l=e({}),u=e((function(){})),c="undefined"==typeof HTMLElement?"undefined":e(HTMLElement),h=function(e){return e&&e.instanceString&&f(e.instanceString)?e.instanceString():null},d=function(t){return null!=t&&e(t)==s},f=function(t){return null!=t&&e(t)===u},p=function(e){return Array.isArray?Array.isArray(e):null!=e&&e instanceof Array},g=function(t){return null!=t&&e(t)===l&&!p(t)&&t.constructor===Object},m=function(t){return null!=t&&e(t)===e(1)&&!isNaN(t)},v=function(e){return"undefined"===c?void 0:null!=e&&e instanceof HTMLElement},y=function(e){return b(e)||x(e)},b=function(e){return"collection"===h(e)&&e._private.single},x=function(e){return"collection"===h(e)&&!e._private.single},w=function(e){return"core"===h(e)},_=function(e){return"stylesheet"===h(e)},E=function(e){return null==e||!(""!==e&&!e.match(/^\s+$/))},S=function(t){return function(t){return null!=t&&e(t)===l}(t)&&f(t.then)},C=function(){return a&&a.userAgent.match(/msie|trident|edge/i)},T=function(e,t){t||(t=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);return e.join("$")});var n=function n(){var i,r=arguments,o=t.apply(this,r),a=n.cache;return(i=a[o])||(i=a[o]=e.apply(this,r)),i};return n.cache={},n},k=T((function(e){return e.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))})),D=T((function(e){return e.replace(/(-\w)/g,(function(e){return e[1].toUpperCase()}))})),A=T((function(e,t){return e+t[0].toUpperCase()+t.substring(1)}),(function(e,t){return e+"$"+t})),O=function(e){return E(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},P="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",M=function(e,t){return e<t?-1:e>t?1:0},I=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments,n=1;n<t.length;n++){var i=t[n];if(null!=i)for(var r=Object.keys(i),o=0;o<r.length;o++){var a=r[o];e[a]=i[a]}}return e},N=function(e){return(p(e)?e:null)||function(e){return L[e.toLowerCase()]}(e)||function(e){var t,n,i;if((4===e.length||7===e.length)&&"#"===e[0])return 4===e.length?(t=parseInt(e[1]+e[1],16),n=parseInt(e[2]+e[2],16),i=parseInt(e[3]+e[3],16)):(t=parseInt(e[1]+e[2],16),n=parseInt(e[3]+e[4],16),i=parseInt(e[5]+e[6],16)),[t,n,i]}(e)||function(e){var t,n=new RegExp("^rgb[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(e);if(n){t=[];for(var i=[],r=1;r<=3;r++){var o=n[r];if("%"===o[o.length-1]&&(i[r]=!0),o=parseFloat(o),i[r]&&(o=o/100*255),o<0||o>255)return;t.push(Math.floor(o))}if((i[1]||i[2]||i[3])&&!(i[1]&&i[2]&&i[3]))return;var a=n[4];if(void 0!==a){if((a=parseFloat(a))<0||a>1)return;t.push(a)}}return t}(e)||function(e){var t,n,i,r,o,a,s,l;function u(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var c=new RegExp("^hsl[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(e);if(c){if((n=parseInt(c[1]))<0?n=(360- -1*n%360)%360:n>360&&(n%=360),n/=360,(i=parseFloat(c[2]))<0||i>100)return;if(i/=100,(r=parseFloat(c[3]))<0||r>100)return;if(r/=100,void 0!==(o=c[4])&&((o=parseFloat(o))<0||o>1))return;if(0===i)a=s=l=Math.round(255*r);else{var h=r<.5?r*(1+i):r+i-r*i,d=2*r-h;a=Math.round(255*u(d,h,n+1/3)),s=Math.round(255*u(d,h,n)),l=Math.round(255*u(d,h,n-1/3))}t=[a,s,l,o]}return t}(e)},L={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},R=function(e){for(var t=e.map,n=e.keys,i=n.length,r=0;r<i;r++){var o=n[r];if(g(o))throw Error("Tried to set map with object key");r<n.length-1?(null==t[o]&&(t[o]={}),t=t[o]):t[o]=e.value}},B=function(e){for(var t=e.map,n=e.keys,i=n.length,r=0;r<i;r++){var o=n[r];if(g(o))throw Error("Tried to get map with object key");if(null==(t=t[o]))return t}return t},j="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},F=NaN,H="[object Symbol]",Y=/^\s+|\s+$/g,z=/^[-+]0x[0-9a-f]+$/i,W=/^0b[01]+$/i,$=/^0o[0-7]+$/i,V=parseInt,q="object"==typeof j&&j&&j.Object===Object&&j,X="object"==typeof self&&self&&self.Object===Object&&self,U=q||X||Function("return this")(),G=Object.prototype.toString,K=Math.max,Q=Math.min,Z=function(){return U.Date.now()};function J(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ee(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&G.call(e)==H}(e))return F;if(J(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=J(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Y,"");var n=W.test(e);return n||$.test(e)?V(e.slice(2),n?2:8):z.test(e)?F:+e}var te=function(e,t,n){var i,r,o,a,s,l,u=0,c=!1,h=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=i,o=r;return i=r=void 0,u=t,a=e.apply(o,n)}function p(e){var n=e-l;return void 0===l||n>=t||n<0||h&&e-u>=o}function g(){var e=Z();if(p(e))return m(e);s=setTimeout(g,function(e){var n=t-(e-l);return h?Q(n,o-(e-u)):n}(e))}function m(e){return s=void 0,d&&i?f(e):(i=r=void 0,a)}function v(){var e=Z(),n=p(e);if(i=arguments,r=this,l=e,n){if(void 0===s)return function(e){return u=e,s=setTimeout(g,t),c?f(e):a}(l);if(h)return s=setTimeout(g,t),f(l)}return void 0===s&&(s=setTimeout(g,t)),a}return t=ee(t)||0,J(n)&&(c=!!n.leading,o=(h="maxWait"in n)?K(ee(n.maxWait)||0,t):o,d="trailing"in n?!!n.trailing:d),v.cancel=function(){void 0!==s&&clearTimeout(s),u=0,i=l=r=s=void 0},v.flush=function(){return void 0===s?a:m(Z())},v},ne=o?o.performance:null,ie=ne&&ne.now?function(){return ne.now()}:function(){return Date.now()},re=function(){if(o){if(o.requestAnimationFrame)return function(e){o.requestAnimationFrame(e)};if(o.mozRequestAnimationFrame)return function(e){o.mozRequestAnimationFrame(e)};if(o.webkitRequestAnimationFrame)return function(e){o.webkitRequestAnimationFrame(e)};if(o.msRequestAnimationFrame)return function(e){o.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout((function(){e(ie())}),1e3/60)}}(),oe=function(e){return re(e)},ae=ie,se=function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5381;!(t=e.next()).done;)n=33*n^t.value;return n>>>0},le=function(e){return(33*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:5381)^e)>>>0},ue=function(e,t){var n={value:0,done:!1},i=0,r=e.length;return se({next:function(){return i<r?n.value=e[i++]:n.done=!0,n}},t)},ce=function(e,t){var n={value:0,done:!1},i=0,r=e.length;return se({next:function(){return i<r?n.value=e.charCodeAt(i++):n.done=!0,n}},t)},he=function(){return de(arguments)},de=function(e){for(var t,n=0;n<e.length;n++){var i=e[n];t=0===n?ce(i):ce(i,t)}return t},fe=!0,pe=null!=console.warn,ge=null!=console.trace,me=Number.MAX_SAFE_INTEGER||9007199254740991,ve=function(){return!0},ye=function(){return!1},be=function(){return 0},xe=function(){},we=function(e){throw new Error(e)},_e=function(e){if(void 0===e)return fe;fe=!!e},Ee=function(e){_e()&&(pe?console.warn(e):(console.log(e),ge&&console.trace()))},Se=function(e){return null==e?e:p(e)?e.slice():g(e)?function(e){return I({},e)}(e):e},Ce=function(e,t){for(t=e="";e++<36;t+=51*e&52?(15^e?8^Math.random()*(20^e?16:4):4).toString(16):"-");return t},Te={},ke=function(){return Te},De=function(e){var t=Object.keys(e);return function(n){for(var i={},r=0;r<t.length;r++){var o=t[r],a=null==n?void 0:n[o];i[o]=void 0===a?e[o]:a}return i}},Ae=function(e,t,n){for(var i=e.length;i>=0&&(e[i]!==t||(e.splice(i,1),n));i--);},Oe=function(e){e.splice(0,e.length)},Pe=function(e,t,n){return n&&(t=A(n,t)),e[t]},Me=function(e,t,n,i){n&&(t=A(n,t)),e[t]=i},Ie="undefined"!=typeof Map?Map:function(){function e(){t(this,e),this._obj={}}return i(e,[{key:"set",value:function(e,t){return this._obj[e]=t,this}},{key:"delete",value:function(e){return this._obj[e]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(e){return void 0!==this._obj[e]}},{key:"get",value:function(e){return this._obj[e]}}]),e}(),Ne=function(){function e(n){if(t(this,e),this._obj=Object.create(null),this.size=0,null!=n){var i;i=null!=n.instanceString&&n.instanceString()===this.instanceString()?n.toArray():n;for(var r=0;r<i.length;r++)this.add(i[r])}}return i(e,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(e){var t=this._obj;1!==t[e]&&(t[e]=1,this.size++)}},{key:"delete",value:function(e){var t=this._obj;1===t[e]&&(t[e]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(e){return 1===this._obj[e]}},{key:"toArray",value:function(){var e=this;return Object.keys(this._obj).filter((function(t){return e.has(t)}))}},{key:"forEach",value:function(e,t){return this.toArray().forEach(e,t)}}]),e}(),Le="undefined"!==("undefined"==typeof Set?"undefined":e(Set))?Set:Ne,Re=function(e,t,n){if(n=!(void 0!==n&&!n),void 0!==e&&void 0!==t&&w(e)){var i=t.group;if(null==i&&(i=t.data&&null!=t.data.source&&null!=t.data.target?"edges":"nodes"),"nodes"===i||"edges"===i){this.length=1,this[0]=this;var r=this._private={cy:e,single:!0,data:t.data||{},position:t.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:i,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!t.selected,selectable:void 0===t.selectable||!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:void 0===t.grabbable||!!t.grabbable,active:!1,classes:new Le,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null}};if(null==r.position.x&&(r.position.x=0),null==r.position.y&&(r.position.y=0),t.renderedPosition){var o=t.renderedPosition,a=e.pan(),s=e.zoom();r.position={x:(o.x-a.x)/s,y:(o.y-a.y)/s}}var l=[];p(t.classes)?l=t.classes:d(t.classes)&&(l=t.classes.split(/\s+/));for(var u=0,c=l.length;u<c;u++){var h=l[u];h&&""!==h&&r.classes.add(h)}this.createEmitter();var f=t.style||t.css;f&&(Ee("Setting a `style` bypass at element creation is deprecated"),this.style(f)),(void 0===n||n)&&this.restore()}else we("An element must be of type `nodes` or `edges`; you specified `"+i+"`")}else we("An element must have a core reference and parameters set")},Be=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(t,n,i){var r;g(t)&&!y(t)&&(t=(r=t).roots||r.root,n=r.visit,i=r.directed),i=2!==arguments.length||f(n)?i:n,n=f(n)?n:function(){};for(var o,a=this._private.cy,s=t=d(t)?this.filter(t):t,l=[],u=[],c={},h={},p={},m=0,v=this.byGroup(),b=v.nodes,x=v.edges,w=0;w<s.length;w++){var _=s[w],E=_.id();_.isNode()&&(l.unshift(_),e.bfs&&(p[E]=!0,u.push(_)),h[E]=0)}var S=function(){var t=e.bfs?l.shift():l.pop(),r=t.id();if(e.dfs){if(p[r])return"continue";p[r]=!0,u.push(t)}var a,s=h[r],d=c[r],f=null!=d?d.source():null,g=null!=d?d.target():null,v=null==d?void 0:t.same(f)?g[0]:f[0];if(!0===(a=n(t,d,v,m++,s)))return o=t,"break";if(!1===a)return"break";for(var y=t.connectedEdges().filter((function(e){return(!i||e.source().same(t))&&x.has(e)})),w=0;w<y.length;w++){var _=y[w],E=_.connectedNodes().filter((function(e){return!e.same(t)&&b.has(e)})),S=E.id();0===E.length||p[S]||(l.push(E=E[0]),e.bfs&&(p[S]=!0,u.push(E)),c[S]=_,h[S]=h[r]+1)}};e:for(;0!==l.length;)switch(S()){case"continue":continue;case"break":break e}for(var C=a.collection(),T=0;T<u.length;T++){var k=u[T],D=c[k.id()];null!=D&&C.merge(D),C.merge(k)}return{path:a.collection(C),found:a.collection(o)}}},je={breadthFirstSearch:Be({bfs:!0}),depthFirstSearch:Be({dfs:!0})};je.bfs=je.breadthFirstSearch,je.dfs=je.depthFirstSearch;var Fe=function(e,t){return function(e,t){(function(){var t,n,i,r,o,a,s,l,u,c,h,d,f,p,g;i=Math.floor,c=Math.min,n=function(e,t){return e<t?-1:e>t?1:0},u=function(e,t,r,o,a){var s;if(null==r&&(r=0),null==a&&(a=n),r<0)throw new Error("lo must be non-negative");for(null==o&&(o=e.length);r<o;)a(t,e[s=i((r+o)/2)])<0?o=s:r=s+1;return[].splice.apply(e,[r,r-r].concat(t)),t},a=function(e,t,i){return null==i&&(i=n),e.push(t),p(e,0,e.length-1,i)},o=function(e,t){var i,r;return null==t&&(t=n),i=e.pop(),e.length?(r=e[0],e[0]=i,g(e,0,t)):r=i,r},l=function(e,t,i){var r;return null==i&&(i=n),r=e[0],e[0]=t,g(e,0,i),r},s=function(e,t,i){var r;return null==i&&(i=n),e.length&&i(e[0],t)<0&&(t=(r=[e[0],t])[0],e[0]=r[1],g(e,0,i)),t},r=function(e,t){var r,o,a,s,l;for(null==t&&(t=n),s=[],r=0,o=(a=(function(){l=[];for(var t=0,n=i(e.length/2);0<=n?t<n:t>n;0<=n?t++:t--)l.push(t);return l}).apply(this).reverse()).length;r<o;r++)s.push(g(e,a[r],t));return s},f=function(e,t,i){var r;if(null==i&&(i=n),-1!==(r=e.indexOf(t)))return p(e,0,r,i),g(e,r,i)},h=function(e,t,i){var o,a,l,u;if(null==i&&(i=n),!(o=e.slice(0,t)).length)return o;for(r(o,i),a=0,l=(u=e.slice(t)).length;a<l;a++)s(o,u[a],i);return o.sort(i).reverse()},d=function(e,t,i){var a,s,l,h,d,f,p,g,m;if(null==i&&(i=n),10*t<=e.length){if(!(l=e.slice(0,t).sort(i)).length)return l;for(s=l[l.length-1],h=0,f=(p=e.slice(t)).length;h<f;h++)i(a=p[h],s)<0&&(u(l,a,0,null,i),l.pop(),s=l[l.length-1]);return l}for(r(e,i),m=[],d=0,g=c(t,e.length);0<=g?d<g:d>g;0<=g?++d:--d)m.push(o(e,i));return m},p=function(e,t,i,r){var o,a,s;for(null==r&&(r=n),o=e[i];i>t&&r(o,a=e[s=i-1>>1])<0;)e[i]=a,i=s;return e[i]=o},g=function(e,t,i){var r,o,a,s,l;for(null==i&&(i=n),o=e.length,l=t,a=e[t],r=2*t+1;r<o;)(s=r+1)<o&&!(i(e[r],e[s])<0)&&(r=s),e[t]=e[r],r=2*(t=r)+1;return e[t]=a,p(e,l,t,i)},t=function(){function e(e){this.cmp=null!=e?e:n,this.nodes=[]}return e.push=a,e.pop=o,e.replace=l,e.pushpop=s,e.heapify=r,e.updateItem=f,e.nlargest=h,e.nsmallest=d,e.prototype.push=function(e){return a(this.nodes,e,this.cmp)},e.prototype.pop=function(){return o(this.nodes,this.cmp)},e.prototype.peek=function(){return this.nodes[0]},e.prototype.contains=function(e){return-1!==this.nodes.indexOf(e)},e.prototype.replace=function(e){return l(this.nodes,e,this.cmp)},e.prototype.pushpop=function(e){return s(this.nodes,e,this.cmp)},e.prototype.heapify=function(){return r(this.nodes,this.cmp)},e.prototype.updateItem=function(e){return f(this.nodes,e,this.cmp)},e.prototype.clear=function(){return this.nodes=[]},e.prototype.empty=function(){return 0===this.nodes.length},e.prototype.size=function(){return this.nodes.length},e.prototype.clone=function(){var t;return(t=new e).nodes=this.nodes.slice(0),t},e.prototype.toArray=function(){return this.nodes.slice(0)},e.prototype.insert=e.prototype.push,e.prototype.top=e.prototype.peek,e.prototype.front=e.prototype.peek,e.prototype.has=e.prototype.contains,e.prototype.copy=e.prototype.clone,e}(),e.exports=t}).call(j)}(t={exports:{}}),t.exports}(),He=De({root:null,weight:function(e){return 1},directed:!1}),Ye={dijkstra:function(e){if(!g(e)){var t=arguments;e={root:t[0],weight:t[1],directed:t[2]}}var n=He(e),i=n.root,r=n.weight,o=n.directed,a=this,s=r,l=d(i)?this.filter(i)[0]:i[0],u={},c={},h={},f=this.byGroup(),p=f.nodes,m=f.edges;m.unmergeBy((function(e){return e.isLoop()}));for(var v=function(e){return u[e.id()]},y=function(e,t){u[e.id()]=t,b.updateItem(e)},b=new Fe((function(e,t){return v(e)-v(t)})),x=0;x<p.length;x++){var w=p[x];u[w.id()]=w.same(l)?0:1/0,b.push(w)}for(var _=function(e,t){for(var n,i=(o?e.edgesTo(t):e.edgesWith(t)).intersect(m),r=1/0,a=0;a<i.length;a++){var l=i[a],u=s(l);(u<r||!n)&&(r=u,n=l)}return{edge:n,dist:r}};b.size()>0;){var E=b.pop(),S=v(E),C=E.id();if(h[C]=S,S!==1/0)for(var T=E.neighborhood().intersect(p),k=0;k<T.length;k++){var D=T[k],A=D.id(),O=_(E,D),P=S+O.dist;P<v(D)&&(y(D,P),c[A]={node:E,edge:O.edge})}}return{distanceTo:function(e){var t=d(e)?p.filter(e)[0]:e[0];return h[t.id()]},pathTo:function(e){var t=d(e)?p.filter(e)[0]:e[0],n=[],i=t,r=i.id();if(t.length>0)for(n.unshift(t);c[r];){var o=c[r];n.unshift(o.edge),n.unshift(o.node),r=(i=o.node).id()}return a.spawn(n)}}}},ze={kruskal:function(e){e=e||function(e){return 1};for(var t=this.byGroup(),n=t.nodes,i=t.edges,r=n.length,o=new Array(r),a=n,s=function(e){for(var t=0;t<o.length;t++)if(o[t].has(e))return t},l=0;l<r;l++)o[l]=this.spawn(n[l]);for(var u=i.sort((function(t,n){return e(t)-e(n)})),c=0;c<u.length;c++){var h=u[c],d=h.source()[0],f=h.target()[0],p=s(d),g=s(f),m=o[p],v=o[g];p!==g&&(a.merge(h),m.merge(v),o.splice(g,1))}return a}},We=De({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),$e={aStar:function(e){var t=this.cy(),n=We(e),i=n.root,r=n.goal,o=n.heuristic,a=n.directed,s=n.weight;i=t.collection(i)[0],r=t.collection(r)[0];var l,u,c=i.id(),h=r.id(),d={},f={},p={},g=new Fe((function(e,t){return f[e.id()]-f[t.id()]})),m=new Le,v={},y={},b=function(e,t){g.push(e),m.add(t)};b(i,c),d[c]=0,f[c]=o(i);for(var x=0;g.size()>0;){if(u=(l=g.pop()).id(),m.delete(u),x++,u===h){for(var w=[],_=r,E=h,S=y[E];w.unshift(_),null!=S&&w.unshift(S),null!=(_=v[E]);)S=y[E=_.id()];return{found:!0,distance:d[u],path:this.spawn(w),steps:x}}p[u]=!0;for(var C=l._private.edges,T=0;T<C.length;T++){var k=C[T];if(this.hasElementWithId(k.id())&&(!a||k.data("source")===u)){var D=k.source(),A=k.target(),O=D.id()!==u?D:A,P=O.id();if(this.hasElementWithId(P)&&!p[P]){var M=d[u]+s(k);m.has(P)?M<d[P]&&(d[P]=M,f[P]=M+o(O),v[P]=l):(d[P]=M,f[P]=M+o(O),b(O,P),v[P]=l,y[P]=k)}}}}return{found:!1,distance:void 0,path:void 0,steps:x}}},Ve=De({weight:function(e){return 1},directed:!1}),qe={floydWarshall:function(e){for(var t=this.cy(),n=Ve(e),i=n.directed,r=n.weight,o=this.byGroup(),a=o.nodes,s=o.edges,l=a.length,u=l*l,c=function(e){return a.indexOf(e)},h=function(e){return a[e]},f=new Array(u),p=0;p<u;p++){var g=p%l;f[p]=(p-g)/l===g?0:1/0}for(var m=new Array(u),v=new Array(u),y=0;y<s.length;y++){var b=s[y],x=b.source()[0],w=b.target()[0];if(x!==w){var _=c(x),E=c(w),S=_*l+E,C=r(b);if(f[S]>C&&(f[S]=C,m[S]=E,v[S]=b),!i){var T=E*l+_;!i&&f[T]>C&&(f[T]=C,m[T]=_,v[T]=b)}}}for(var k=0;k<l;k++)for(var D=0;D<l;D++)for(var A=D*l+k,O=0;O<l;O++){var P=D*l+O,M=k*l+O;f[A]+f[M]<f[P]&&(f[P]=f[A]+f[M],m[P]=m[A])}var I=function(e){return c(function(e){return(d(e)?t.filter(e):e)[0]}(e))};return{distance:function(e,t){var n=I(e),i=I(t);return f[n*l+i]},path:function(e,n){var i=I(e),r=I(n),o=h(i);if(i===r)return o.collection();if(null==m[i*l+r])return t.collection();var a=t.collection();for(a.merge(o);i!==r;)a.merge(v[i*l+(i=m[i*l+r])]),a.merge(h(i));return a}}}},Xe=De({weight:function(e){return 1},directed:!1,root:null}),Ue={bellmanFord:function(e){var t=this,n=Xe(e),i=n.directed,r=n.root,o=n.weight,a=this,s=this.cy(),l=this.byGroup(),u=l.edges,c=l.nodes,h=c.length,f=new Ie,p=!1;r=s.collection(r)[0],u.unmergeBy((function(e){return e.isLoop()}));for(var g=u.length,m=function(e){var t=f.get(e.id());return t||(t={},f.set(e.id(),t)),t},v=function(e){return(d(e)?s.$(e):e)[0]},y=0;y<h;y++){var b=c[y],x=m(b);x.dist=b.same(r)?0:1/0,x.pred=null,x.edge=null}for(var w=!1,_=function(e,t,n,i,r,o){var a=i.dist+o;a<r.dist&&!n.same(i.edge)&&(r.dist=a,r.pred=e,r.edge=n,w=!0)},E=1;E<h;E++){w=!1;for(var S=0;S<g;S++){var C=u[S],T=C.source(),k=C.target(),D=o(C),A=m(T),O=m(k);_(T,0,C,A,O,D),i||_(k,0,C,O,A,D)}if(!w)break}if(w)for(var P=0;P<g;P++){var M=u[P],I=M.source(),N=M.target(),L=o(M),R=m(I).dist,B=m(N).dist;if(R+L<B||!i&&B+L<R){Ee("Graph contains a negative weight cycle for Bellman-Ford"),p=!0;break}}return{distanceTo:function(e){return m(v(e)).dist},pathTo:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,i=[],o=v(e);;){if(null==o)return t.spawn();var s=m(o),l=s.edge,u=s.pred;if(i.unshift(o[0]),o.same(n)&&i.length>0)break;null!=l&&i.unshift(l),o=u}return a.spawn(i)},hasNegativeWeightCycle:p,negativeWeightCycles:[]}}},Ge=Math.sqrt(2),Ke=function(e,t,n){0===n.length&&we("Karger-Stein must be run on a connected (sub)graph");for(var i=n[e],r=t[i[1]],o=t[i[2]],a=n,s=a.length-1;s>=0;s--){var l=a[s],u=l[1],c=l[2];(t[u]===r&&t[c]===o||t[u]===o&&t[c]===r)&&a.splice(s,1)}for(var h=0;h<a.length;h++){var d=a[h];d[1]===o?(a[h]=d.slice(),a[h][1]=r):d[2]===o&&(a[h]=d.slice(),a[h][2]=r)}for(var f=0;f<t.length;f++)t[f]===o&&(t[f]=r);return a},Qe=function(e,t,n,i){for(;n>i;){var r=Math.floor(Math.random()*t.length);t=Ke(r,e,t),n--}return t},Ze={kargerStein:function(){var e=this.byGroup(),t=e.nodes,n=e.edges;n.unmergeBy((function(e){return e.isLoop()}));var i=t.length,r=n.length,o=Math.ceil(Math.pow(Math.log(i)/Math.LN2,2)),a=Math.floor(i/Ge);if(!(i<2)){for(var s=[],l=0;l<r;l++){var u=n[l];s.push([l,t.indexOf(u.source()),t.indexOf(u.target())])}for(var c=1/0,h=[],d=new Array(i),f=new Array(i),p=new Array(i),g=function(e,t){for(var n=0;n<i;n++)t[n]=e[n]},m=0;m<=o;m++){for(var v=0;v<i;v++)f[v]=v;var y=Qe(f,s.slice(),i,a),b=y.slice();g(f,p);var x=Qe(f,y,a,2),w=Qe(p,b,a,2);x.length<=w.length&&x.length<c?(c=x.length,h=x,g(f,d)):w.length<=x.length&&w.length<c&&(c=w.length,h=w,g(p,d))}for(var _=this.spawn(h.map((function(e){return n[e[0]]}))),E=this.spawn(),S=this.spawn(),C=d[0],T=0;T<d.length;T++){var k=t[T];d[T]===C?E.merge(k):S.merge(k)}return{cut:_,partition1:E,partition2:S}}we("At least 2 nodes are required for Karger-Stein algorithm")}},Je=function(e,t,n){return{x:e.x*t+n.x,y:e.y*t+n.y}},et=function(e,t,n){return{x:(e.x-n.x)/t,y:(e.y-n.y)/t}},tt=function(e){return{x:e[0],y:e[1]}},nt=function(e,t){return Math.atan2(t,e)-Math.PI/2},it=Math.log2||function(e){return Math.log(e)/Math.log(2)},rt=function(e){return e>0?1:e<0?-1:0},ot=function(e,t){return Math.sqrt(at(e,t))},at=function(e,t){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i},st=function(e){for(var t=e.length,n=0,i=0;i<t;i++)n+=e[i];for(var r=0;r<t;r++)e[r]=e[r]/n;return e},lt=function(e,t,n,i){return(1-i)*(1-i)*e+2*(1-i)*i*t+i*i*n},ut=function(e,t,n,i){return{x:lt(e.x,t.x,n.x,i),y:lt(e.y,t.y,n.y,i)}},ct=function(e,t,n){return Math.max(e,Math.min(n,t))},ht=function(e){if(null==e)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=e.x1&&null!=e.y1){if(null!=e.x2&&null!=e.y2&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(null!=e.w&&null!=e.h&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},dt=function(e,t){e.x1=Math.min(e.x1,t.x1),e.x2=Math.max(e.x2,t.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,t.y1),e.y2=Math.max(e.y2,t.y2),e.h=e.y2-e.y1},ft=function(e,t,n){e.x1=Math.min(e.x1,t),e.x2=Math.max(e.x2,t),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},pt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},gt=function(e,t){e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},mt=function(e,t){e.x1+=t.x,e.x2+=t.x,e.y1+=t.y,e.y2+=t.y},vt=function(e,t){return!(e.x1>t.x2||t.x1>e.x2||e.x2<t.x1||t.x2<e.x1||e.y2<t.y1||t.y2<e.y1||e.y1>t.y2||t.y1>e.y2)},yt=function(e,t,n){return e.x1<=t&&t<=e.x2&&e.y1<=n&&n<=e.y2},bt=function(e,t){return yt(e,t.x,t.y)},xt=function(e,t){return yt(e,t.x1,t.y1)&&yt(e,t.x2,t.y2)},wt=function(e,t,n,i,r,o,a){var s,l=Ft(r,o),u=r/2,c=o/2,h=i-c-a;if((s=It(e,t,n,i,n-u+l-a,h,n+u-l+a,h,!1)).length>0)return s;var d=n+u+a;if((s=It(e,t,n,i,d,i-c+l-a,d,i+c-l+a,!1)).length>0)return s;var f=i+c+a;if((s=It(e,t,n,i,n-u+l-a,f,n+u-l+a,f,!1)).length>0)return s;var p,g=n-u-a;if((s=It(e,t,n,i,g,i-c+l-a,g,i+c-l+a,!1)).length>0)return s;var m=n-u+l,v=i-c+l;if((p=Pt(e,t,n,i,m,v,l+a)).length>0&&p[0]<=m&&p[1]<=v)return[p[0],p[1]];var y=n+u-l,b=i-c+l;if((p=Pt(e,t,n,i,y,b,l+a)).length>0&&p[0]>=y&&p[1]<=b)return[p[0],p[1]];var x=n+u-l,w=i+c-l;if((p=Pt(e,t,n,i,x,w,l+a)).length>0&&p[0]>=x&&p[1]>=w)return[p[0],p[1]];var _=n-u+l,E=i+c-l;return(p=Pt(e,t,n,i,_,E,l+a)).length>0&&p[0]<=_&&p[1]>=E?[p[0],p[1]]:[]},_t=function(e,t,n,i,r,o,a){var s=a,l=Math.min(n,r),u=Math.max(n,r),c=Math.min(i,o),h=Math.max(i,o);return l-s<=e&&e<=u+s&&c-s<=t&&t<=h+s},Et=function(e,t,n,i,r,o,a,s,l){var u=Math.min(n,a,r)-l,c=Math.max(n,a,r)+l,h=Math.min(i,s,o)-l,d=Math.max(i,s,o)+l;return!(e<u||e>c||t<h||t>d)},St=function(e,t,n,i,r,o,a,s){var l=[];!function(e,t,n,i,r){var o,a,s,l,u,c,h,d;s=-27*(i/=e)+(t/=e)*(9*(n/=e)-t*t*2),o=(a=(3*n-t*t)/9)*a*a+(s/=54)*s,r[1]=0,h=t/3,o>0?(u=(u=s+Math.sqrt(o))<0?-Math.pow(-u,1/3):Math.pow(u,1/3),c=(c=s-Math.sqrt(o))<0?-Math.pow(-c,1/3):Math.pow(c,1/3),r[0]=-h+u+c,r[4]=r[2]=-(h+=(u+c)/2),h=Math.sqrt(3)*(-c+u)/2,r[3]=h,r[5]=-h):(r[5]=r[3]=0,0===o?(d=s<0?-Math.pow(-s,1/3):Math.pow(s,1/3),r[0]=2*d-h,r[4]=r[2]=-(d+h)):(l=(a=-a)*a*a,l=Math.acos(s/Math.sqrt(l)),d=2*Math.sqrt(a),r[0]=-h+d*Math.cos(l/3),r[2]=-h+d*Math.cos((l+2*Math.PI)/3),r[4]=-h+d*Math.cos((l+4*Math.PI)/3)))}(1*n*n-4*n*r+2*n*a+4*r*r-4*r*a+a*a+i*i-4*i*o+2*i*s+4*o*o-4*o*s+s*s,9*n*r-3*n*n-3*n*a-6*r*r+3*r*a+9*i*o-3*i*i-3*i*s-6*o*o+3*o*s,3*n*n-6*n*r+n*a-n*e+2*r*r+2*r*e-a*e+3*i*i-6*i*o+i*s-i*t+2*o*o+2*o*t-s*t,1*n*r-n*n+n*e-r*e+i*o-i*i+i*t-o*t,l);for(var u=[],c=0;c<6;c+=2)Math.abs(l[c+1])<1e-7&&l[c]>=0&&l[c]<=1&&u.push(l[c]);u.push(1),u.push(0);for(var h,d,f,p=-1,g=0;g<u.length;g++)h=Math.pow(1-u[g],2)*n+2*(1-u[g])*u[g]*r+u[g]*u[g]*a,d=Math.pow(1-u[g],2)*i+2*(1-u[g])*u[g]*o+u[g]*u[g]*s,f=Math.pow(h-e,2)+Math.pow(d-t,2),p>=0?f<p&&(p=f):p=f;return p},Ct=function(e,t,n,i,r,o){var a=[e-n,t-i],s=[r-n,o-i],l=s[0]*s[0]+s[1]*s[1],u=a[0]*a[0]+a[1]*a[1],c=a[0]*s[0]+a[1]*s[1],h=c*c/l;return c<0?u:h>l?(e-r)*(e-r)+(t-o)*(t-o):u-h},Tt=function(e,t,n){for(var i,r,o,a,s=0,l=0;l<n.length/2;l++)if(r=n[2*l+1],l+1<n.length/2?(o=n[2*(l+1)],a=n[2*(l+1)+1]):(o=n[2*(l+1-n.length/2)],a=n[2*(l+1-n.length/2)+1]),(i=n[2*l])==e&&o==e);else{if(!(i>=e&&e>=o||i<=e&&e<=o))continue;(e-i)/(o-i)*(a-r)+r>t&&s++}return s%2!=0},kt=function(e,t,n,i,r,o,a,s,l){var u,c=new Array(n.length);null!=s[0]?(u=Math.atan(s[1]/s[0]),s[0]<0?u+=Math.PI/2:u=-u-Math.PI/2):u=s;for(var h,d=Math.cos(-u),f=Math.sin(-u),p=0;p<c.length/2;p++)c[2*p]=o/2*(n[2*p]*d-n[2*p+1]*f),c[2*p+1]=a/2*(n[2*p+1]*d+n[2*p]*f),c[2*p]+=i,c[2*p+1]+=r;if(l>0){var g=At(c,-l);h=Dt(g)}else h=c;return Tt(e,t,h)},Dt=function(e){for(var t,n,i,r,o=new Array(e.length/2),a=0;a<e.length/4;a++){a<e.length/4-1?(t=e[4*(a+1)],n=e[4*(a+1)+1],i=e[4*(a+1)+2],r=e[4*(a+1)+3]):(t=e[0],n=e[1],i=e[2],r=e[3]);var s=It(e[4*a],e[4*a+1],e[4*a+2],e[4*a+3],t,n,i,r,!0);o[2*a]=s[0],o[2*a+1]=s[1]}return o},At=function(e,t){for(var n,i,r,o,a=new Array(2*e.length),s=0;s<e.length/2;s++){s<e.length/2-1?(r=e[2*(s+1)],o=e[2*(s+1)+1]):(r=e[0],o=e[1]);var l=o-(i=e[2*s+1]),u=-(r-(n=e[2*s])),c=Math.sqrt(l*l+u*u),h=l/c,d=u/c;a[4*s]=n+h*t,a[4*s+1]=i+d*t,a[4*s+2]=r+h*t,a[4*s+3]=o+d*t}return a},Ot=function(e,t,n,i,r,o,a){return e-=r,t-=o,(e/=n/2+a)*e+(t/=i/2+a)*t<=1},Pt=function(e,t,n,i,r,o,a){var s=[n-e,i-t],l=[e-r,t-o],u=s[0]*s[0]+s[1]*s[1],c=2*(l[0]*s[0]+l[1]*s[1]),h=c*c-4*u*(l[0]*l[0]+l[1]*l[1]-a*a);if(h<0)return[];var d=(-c+Math.sqrt(h))/(2*u),f=(-c-Math.sqrt(h))/(2*u),p=Math.min(d,f),g=Math.max(d,f),m=[];if(p>=0&&p<=1&&m.push(p),g>=0&&g<=1&&m.push(g),0===m.length)return[];var v=m[0]*s[0]+e,y=m[0]*s[1]+t;return m.length>1?m[0]==m[1]?[v,y]:[v,y,m[1]*s[0]+e,m[1]*s[1]+t]:[v,y]},Mt=function(e,t,n){return t<=e&&e<=n||n<=e&&e<=t?e:e<=t&&t<=n||n<=t&&t<=e?t:n},It=function(e,t,n,i,r,o,a,s,l){var u=e-r,c=n-e,h=a-r,d=t-o,f=i-t,p=s-o,g=h*d-p*u,m=c*d-f*u,v=p*c-h*f;if(0!==v){var y=g/v,b=m/v;return-.001<=y&&y<=1.001&&-.001<=b&&b<=1.001?[e+y*c,t+y*f]:l?[e+y*c,t+y*f]:[]}return 0===g||0===m?Mt(e,n,a)===a?[a,s]:Mt(e,n,r)===r?[r,o]:Mt(r,a,n)===n?[n,i]:[]:[]},Nt=function(e,t,n,i,r,o,a,s){var l,u,c,h,d=[],f=new Array(n.length),p=!0;if(null==o&&(p=!1),p){for(var g=0;g<f.length/2;g++)f[2*g]=n[2*g]*o+i,f[2*g+1]=n[2*g+1]*a+r;if(s>0){var m=At(f,-s);u=Dt(m)}else u=f}else u=n;for(var v=0;v<u.length/2;v++)v<u.length/2-1?(c=u[2*(v+1)],h=u[2*(v+1)+1]):(c=u[0],h=u[1]),0!==(l=It(e,t,i,r,u[2*v],u[2*v+1],c,h)).length&&d.push(l[0],l[1]);return d},Lt=function(e,t,n){var i=[e[0]-t[0],e[1]-t[1]],r=Math.sqrt(i[0]*i[0]+i[1]*i[1]),o=(r-n)/r;return o<0&&(o=1e-5),[t[0]+o*i[0],t[1]+o*i[1]]},Rt=function(e,t){var n=jt(e,t);return Bt(n)},Bt=function(e){for(var t,n,i=e.length/2,r=1/0,o=1/0,a=-1/0,s=-1/0,l=0;l<i;l++)t=e[2*l],n=e[2*l+1],r=Math.min(r,t),a=Math.max(a,t),o=Math.min(o,n),s=Math.max(s,n);for(var u=2/(a-r),c=2/(s-o),h=0;h<i;h++)t=e[2*h]=e[2*h]*u,n=e[2*h+1]=e[2*h+1]*c,r=Math.min(r,t),a=Math.max(a,t),o=Math.min(o,n),s=Math.max(s,n);if(o<-1)for(var d=0;d<i;d++)n=e[2*d+1]=e[2*d+1]+(-1-o);return e},jt=function(e,t){var n=1/e*2*Math.PI,i=e%2==0?Math.PI/2+n/2:Math.PI/2;i+=t;for(var r,o=new Array(2*e),a=0;a<e;a++)r=a*n+i,o[2*a]=Math.cos(r),o[2*a+1]=Math.sin(-r);return o},Ft=function(e,t){return Math.min(e/4,t/4,8)},Ht=function(e,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},Yt=De({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),zt={pageRank:function(e){for(var t=Yt(e),n=t.dampingFactor,i=t.precision,r=t.iterations,o=t.weight,a=this._private.cy,s=this.byGroup(),l=s.nodes,u=s.edges,c=l.length,h=u.length,d=new Array(c*c),f=new Array(c),p=(1-n)/c,g=0;g<c;g++){for(var m=0;m<c;m++)d[g*c+m]=0;f[g]=0}for(var v=0;v<h;v++){var y=u[v],b=y.data("source"),x=y.data("target");if(b!==x){var w=l.indexOfId(b),_=l.indexOfId(x),E=o(y);d[_*c+w]+=E,f[w]+=E}}for(var S=1/c+p,C=0;C<c;C++)if(0===f[C])for(var T=0;T<c;T++)d[T*c+C]=S;else for(var k=0;k<c;k++){var D=k*c+C;d[D]=d[D]/f[C]+p}for(var A,O=new Array(c),P=new Array(c),M=0;M<c;M++)O[M]=1;for(var I=0;I<r;I++){for(var N=0;N<c;N++)P[N]=0;for(var L=0;L<c;L++)for(var R=0;R<c;R++)P[L]+=d[L*c+R]*O[R];st(P),A=O,O=P,P=A;for(var B=0,j=0;j<c;j++){var F=A[j]-O[j];B+=F*F}if(B<i)break}return{rank:function(e){return e=a.collection(e)[0],O[l.indexOf(e)]}}}},Wt=De({root:null,weight:function(e){return 1},directed:!1,alpha:0}),$t={degreeCentralityNormalized:function(e){e=Wt(e);var t=this.cy(),n=this.nodes(),i=n.length;if(e.directed){for(var r={},o={},a=0,s=0,l=0;l<i;l++){var u=n[l],c=u.id();e.root=u;var h=this.degreeCentrality(e);a<h.indegree&&(a=h.indegree),s<h.outdegree&&(s=h.outdegree),r[c]=h.indegree,o[c]=h.outdegree}return{indegree:function(e){return 0==a?0:(d(e)&&(e=t.filter(e)),r[e.id()]/a)},outdegree:function(e){return 0===s?0:(d(e)&&(e=t.filter(e)),o[e.id()]/s)}}}for(var f={},p=0,g=0;g<i;g++){var m=n[g];e.root=m;var v=this.degreeCentrality(e);p<v.degree&&(p=v.degree),f[m.id()]=v.degree}return{degree:function(e){return 0===p?0:(d(e)&&(e=t.filter(e)),f[e.id()]/p)}}},degreeCentrality:function(e){e=Wt(e);var t=this.cy(),n=this,i=e.root,r=e.weight,o=e.directed,a=e.alpha;if(i=t.collection(i)[0],o){for(var s=i.connectedEdges(),l=s.filter((function(e){return e.target().same(i)&&n.has(e)})),u=s.filter((function(e){return e.source().same(i)&&n.has(e)})),c=l.length,h=u.length,d=0,f=0,p=0;p<l.length;p++)d+=r(l[p]);for(var g=0;g<u.length;g++)f+=r(u[g]);return{indegree:Math.pow(c,1-a)*Math.pow(d,a),outdegree:Math.pow(h,1-a)*Math.pow(f,a)}}for(var m=i.connectedEdges().intersection(n),v=m.length,y=0,b=0;b<m.length;b++)y+=r(m[b]);return{degree:Math.pow(v,1-a)*Math.pow(y,a)}}};$t.dc=$t.degreeCentrality,$t.dcn=$t.degreeCentralityNormalised=$t.degreeCentralityNormalized;var Vt=De({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),qt={closenessCentralityNormalized:function(e){for(var t=Vt(e),n=t.harmonic,i=t.weight,r=t.directed,o=this.cy(),a={},s=0,l=this.nodes(),u=this.floydWarshall({weight:i,directed:r}),c=0;c<l.length;c++){for(var h=0,f=l[c],p=0;p<l.length;p++)if(c!==p){var g=u.distance(f,l[p]);h+=n?1/g:g}n||(h=1/h),s<h&&(s=h),a[f.id()]=h}return{closeness:function(e){return 0==s?0:(e=d(e)?o.filter(e)[0].id():e.id(),a[e]/s)}}},closenessCentrality:function(e){var t=Vt(e),n=t.root,i=t.weight,r=t.directed,o=t.harmonic;n=this.filter(n)[0];for(var a=this.dijkstra({root:n,weight:i,directed:r}),s=0,l=this.nodes(),u=0;u<l.length;u++){var c=l[u];if(!c.same(n)){var h=a.distanceTo(c);s+=o?1/h:h}}return o?s:1/s}};qt.cc=qt.closenessCentrality,qt.ccn=qt.closenessCentralityNormalised=qt.closenessCentralityNormalized;var Xt=De({weight:null,directed:!1}),Ut={betweennessCentrality:function(e){for(var t=Xt(e),n=t.directed,i=t.weight,r=null!=i,o=this.cy(),a=this.nodes(),s={},l={},u=0,c=function(e,t){l[e]=t,t>u&&(u=t)},h=function(e){return l[e]},d=0;d<a.length;d++){var f=a[d],p=f.id();s[p]=n?f.outgoers().nodes():f.openNeighborhood().nodes(),c(p,0)}for(var g=function(e){for(var t=a[e].id(),n=[],l={},u={},d={},f=new Fe((function(e,t){return d[e]-d[t]})),p=0;p<a.length;p++){var g=a[p].id();l[g]=[],u[g]=0,d[g]=1/0}for(u[t]=1,d[t]=0,f.push(t);!f.empty();){var m=f.pop();if(n.push(m),r)for(var v=0;v<s[m].length;v++){var y,b=s[m][v],x=o.getElementById(m);y=x.edgesTo(b).length>0?x.edgesTo(b)[0]:b.edgesTo(x)[0];var w=i(y);b=b.id(),d[b]>d[m]+w&&(d[b]=d[m]+w,f.nodes.indexOf(b)<0?f.push(b):f.updateItem(b),u[b]=0,l[b]=[]),d[b]==d[m]+w&&(u[b]=u[b]+u[m],l[b].push(m))}else for(var _=0;_<s[m].length;_++){var E=s[m][_].id();d[E]==1/0&&(f.push(E),d[E]=d[m]+1),d[E]==d[m]+1&&(u[E]=u[E]+u[m],l[E].push(m))}}for(var S={},C=0;C<a.length;C++)S[a[C].id()]=0;for(;n.length>0;)for(var T=n.pop(),k=0;k<l[T].length;k++){var D=l[T][k];S[D]=S[D]+u[D]/u[T]*(1+S[T]),T!=a[e].id()&&c(T,h(T)+S[T])}},m=0;m<a.length;m++)g(m);var v={betweenness:function(e){var t=o.collection(e).id();return h(t)},betweennessNormalized:function(e){if(0==u)return 0;var t=o.collection(e).id();return h(t)/u}};return v.betweennessNormalised=v.betweennessNormalized,v}};Ut.bc=Ut.betweennessCentrality;var Gt=De({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(e){return 1}]}),Kt=function(e,t){for(var n=0,i=0;i<t.length;i++)n+=t[i](e);return n},Qt=function(e,t){for(var n,i=0;i<t;i++){n=0;for(var r=0;r<t;r++)n+=e[r*t+i];for(var o=0;o<t;o++)e[o*t+i]=e[o*t+i]/n}},Zt=function(e,t,n){for(var i=new Array(n*n),r=0;r<n;r++){for(var o=0;o<n;o++)i[r*n+o]=0;for(var a=0;a<n;a++)for(var s=0;s<n;s++)i[r*n+s]+=e[r*n+a]*t[a*n+s]}return i},Jt=function(e,t,n){for(var i=e.slice(0),r=1;r<n;r++)e=Zt(e,i,t);return e},en=function(e,t,n){for(var i=new Array(t*t),r=0;r<t*t;r++)i[r]=Math.pow(e[r],n);return Qt(i,t),i},tn=function(e,t,n,i){for(var r=0;r<n;r++)if(Math.round(e[r]*Math.pow(10,i))/Math.pow(10,i)!=Math.round(t[r]*Math.pow(10,i))/Math.pow(10,i))return!1;return!0},nn=function(e,t){for(var n=0;n<e.length;n++)if(!t[n]||e[n].id()!==t[n].id())return!1;return!0},rn=function(e){for(var t=this.nodes(),n=this.edges(),i=this.cy(),r=function(e){return Gt(e)}(e),o={},a=0;a<t.length;a++)o[t[a].id()]=a;for(var s,l=t.length,u=l*l,c=new Array(u),h=0;h<u;h++)c[h]=0;for(var d=0;d<n.length;d++){var f=n[d],p=o[f.source().id()],g=o[f.target().id()],m=Kt(f,r.attributes);c[p*l+g]+=m,c[g*l+p]+=m}!function(e,t,n){for(var i=0;i<t;i++)e[i*t+i]=n}(c,l,r.multFactor),Qt(c,l);for(var v=!0,y=0;v&&y<r.maxIterations;)v=!1,s=Jt(c,l,r.expandFactor),c=en(s,l,r.inflateFactor),tn(c,s,u,4)||(v=!0),y++;return function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e.length;n++)t!=n&&nn(e[t],e[n])&&e.splice(n,1);return e}(function(e,t,n,i){for(var r=[],o=0;o<t;o++){for(var a=[],s=0;s<t;s++)Math.round(1e3*e[o*t+s])/1e3>0&&a.push(n[s]);0!==a.length&&r.push(i.collection(a))}return r}(c,l,t,i))},on={markovClustering:rn,mcl:rn},an=function(e){return e},sn=function(e,t){return Math.abs(t-e)},ln=function(e,t,n){return e+sn(t,n)},un=function(e,t,n){return e+Math.pow(n-t,2)},cn=function(e){return Math.sqrt(e)},hn=function(e,t,n){return Math.max(e,sn(t,n))},dn=function(e,t,n,i,r){for(var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:an,a=i,s=0;s<e;s++)a=r(a,t(s),n(s));return o(a)},fn={euclidean:function(e,t,n){return e>=2?dn(e,t,n,0,un,cn):dn(e,t,n,0,ln)},squaredEuclidean:function(e,t,n){return dn(e,t,n,0,un)},manhattan:function(e,t,n){return dn(e,t,n,0,ln)},max:function(e,t,n){return dn(e,t,n,-1/0,hn)}};function pn(e,t,n,i,r,o){var a;return a=f(e)?e:fn[e]||fn.euclidean,0===t&&f(e)?a(r,o):a(t,n,i,r,o)}fn["squared-euclidean"]=fn.squaredEuclidean,fn.squaredeuclidean=fn.squaredEuclidean;var gn=De({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),mn=function(e){return gn(e)},vn=function(e,t,n,i,r){var o="kMedoids"!==r?function(e){return n[e]}:function(e){return i[e](n)};return pn(e,i.length,o,(function(e){return i[e](t)}),n,t)},yn=function(e,t,n){for(var i=n.length,r=new Array(i),o=new Array(i),a=new Array(t),s=null,l=0;l<i;l++)r[l]=e.min(n[l]).value,o[l]=e.max(n[l]).value;for(var u=0;u<t;u++){s=[];for(var c=0;c<i;c++)s[c]=Math.random()*(o[c]-r[c])+r[c];a[u]=s}return a},bn=function(e,t,n,i,r){for(var o=1/0,a=0,s=0;s<t.length;s++){var l=vn(n,e,t[s],i,r);l<o&&(o=l,a=s)}return a},xn=function(e,t,n){for(var i=[],r=null,o=0;o<t.length;o++)n[(r=t[o]).id()]===e&&i.push(r);return i},wn=function(e,t,n){for(var i=0;i<e.length;i++)for(var r=0;r<e[i].length;r++)if(Math.abs(e[i][r]-t[i][r])>n)return!1;return!0},_n=function(e,t,n){for(var i=0;i<n;i++)if(e===t[i])return!0;return!1},En=function(e,t){var n=new Array(t);if(e.length<50)for(var i=0;i<t;i++){for(var r=e[Math.floor(Math.random()*e.length)];_n(r,n,i);)r=e[Math.floor(Math.random()*e.length)];n[i]=r}else for(var o=0;o<t;o++)n[o]=e[Math.floor(Math.random()*e.length)];return n},Sn=function(e,t,n){for(var i=0,r=0;r<t.length;r++)i+=vn("manhattan",t[r],e,n,"kMedoids");return i},Cn=function(e,t,n,i,r){for(var o,a,s=0;s<t.length;s++)for(var l=0;l<e.length;l++)i[s][l]=Math.pow(n[s][l],r.m);for(var u=0;u<e.length;u++)for(var c=0;c<r.attributes.length;c++){o=0,a=0;for(var h=0;h<t.length;h++)o+=i[h][u]*r.attributes[c](t[h]),a+=i[h][u];e[u][c]=o/a}},Tn=function(e,t,n,i,r){for(var o=0;o<e.length;o++)t[o]=e[o].slice();for(var a,s,l,u=2/(r.m-1),c=0;c<n.length;c++)for(var h=0;h<i.length;h++){a=0;for(var d=0;d<n.length;d++)s=vn(r.distance,i[h],n[c],r.attributes,"cmeans"),l=vn(r.distance,i[h],n[d],r.attributes,"cmeans"),a+=Math.pow(s/l,u);e[h][c]=1/a}},kn=function(e){var t,n,i,r,o=this.cy(),a=this.nodes(),s=mn(e);i=new Array(a.length);for(var l=0;l<a.length;l++)i[l]=new Array(s.k);n=new Array(a.length);for(var u=0;u<a.length;u++)n[u]=new Array(s.k);for(var c=0;c<a.length;c++){for(var h=0,d=0;d<s.k;d++)n[c][d]=Math.random(),h+=n[c][d];for(var f=0;f<s.k;f++)n[c][f]=n[c][f]/h}t=new Array(s.k);for(var p=0;p<s.k;p++)t[p]=new Array(s.attributes.length);r=new Array(a.length);for(var g=0;g<a.length;g++)r[g]=new Array(s.k);for(var m=!0,v=0;m&&v<s.maxIterations;)m=!1,Cn(t,a,n,r,s),Tn(n,i,t,a,s),wn(n,i,s.sensitivityThreshold)||(m=!0),v++;return{clusters:function(e,t,n,i){for(var r,o,a=new Array(n.k),s=0;s<a.length;s++)a[s]=[];for(var l=0;l<t.length;l++){r=-1/0,o=-1;for(var u=0;u<t[0].length;u++)t[l][u]>r&&(r=t[l][u],o=u);a[o].push(e[l])}for(var c=0;c<a.length;c++)a[c]=i.collection(a[c]);return a}(a,n,s,o),degreeOfMembership:n}},Dn={kMeans:function(t){var n,i=this.cy(),r=this.nodes(),o=null,a=mn(t),s=new Array(a.k),l={};n=a.testMode?"number"==typeof a.testCentroids?yn(r,a.k,a.attributes):"object"===e(a.testCentroids)?a.testCentroids:yn(r,a.k,a.attributes):yn(r,a.k,a.attributes);for(var u,c=!0,h=0;c&&h<a.maxIterations;){for(var d=0;d<r.length;d++)l[(o=r[d]).id()]=bn(o,n,a.distance,a.attributes,"kMeans");c=!1;for(var f=0;f<a.k;f++){var p=xn(f,r,l);if(0!==p.length){for(var g=a.attributes.length,m=n[f],v=new Array(g),y=new Array(g),b=0;b<g;b++){y[b]=0;for(var x=0;x<p.length;x++)y[b]+=a.attributes[b](o=p[x]);v[b]=y[b]/p.length,u=a.sensitivityThreshold,Math.abs(m[b]-v[b])<=u||(c=!0)}n[f]=v,s[f]=i.collection(p)}}h++}return s},kMedoids:function(t){var n,i,r=this.cy(),o=this.nodes(),a=null,s=mn(t),l=new Array(s.k),u={},c=new Array(s.k);s.testMode?"number"==typeof s.testCentroids||(n="object"===e(s.testCentroids)?s.testCentroids:En(o,s.k)):n=En(o,s.k);for(var h=!0,d=0;h&&d<s.maxIterations;){for(var f=0;f<o.length;f++)u[(a=o[f]).id()]=bn(a,n,s.distance,s.attributes,"kMedoids");h=!1;for(var p=0;p<n.length;p++){var g=xn(p,o,u);if(0!==g.length){c[p]=Sn(n[p],g,s.attributes);for(var m=0;m<g.length;m++)(i=Sn(g[m],g,s.attributes))<c[p]&&(c[p]=i,n[p]=g[m],h=!0);l[p]=r.collection(g)}}d++}return l},fuzzyCMeans:kn,fcm:kn},An=De({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),On={single:"min",complete:"max"},Pn=function(e,t,n,i,r){for(var o,a=0,s=1/0,l=r.attributes,u=function(e,t){return pn(r.distance,l.length,(function(t){return l[t](e)}),(function(e){return l[e](t)}),e,t)},c=0;c<e.length;c++){var h=e[c].key,d=n[h][i[h]];d<s&&(a=h,s=d)}if("threshold"===r.mode&&s>=r.threshold||"dendrogram"===r.mode&&1===e.length)return!1;var f,p=t[a],g=t[i[a]];f="dendrogram"===r.mode?{left:p,right:g,key:p.key}:{value:p.value.concat(g.value),key:p.key},e[p.index]=f,e.splice(g.index,1),t[p.key]=f;for(var m=0;m<e.length;m++){var v=e[m];p.key===v.key?o=1/0:"min"===r.linkage?(o=n[p.key][v.key],n[p.key][v.key]>n[g.key][v.key]&&(o=n[g.key][v.key])):"max"===r.linkage?(o=n[p.key][v.key],n[p.key][v.key]<n[g.key][v.key]&&(o=n[g.key][v.key])):o="mean"===r.linkage?(n[p.key][v.key]*p.size+n[g.key][v.key]*g.size)/(p.size+g.size):"dendrogram"===r.mode?u(v.value,p.value):u(v.value[0],p.value[0]),n[p.key][v.key]=n[v.key][p.key]=o}for(var y=0;y<e.length;y++){var b=e[y].key;if(i[b]===p.key||i[b]===g.key){for(var x=b,w=0;w<e.length;w++){var _=e[w].key;n[b][_]<n[b][x]&&(x=_)}i[b]=x}e[y].index=y}return p.key=g.key=p.index=g.index=null,!0},Mn=function e(t,n,i){t&&(t.value?n.push(t.value):(t.left&&e(t.left,n,i),t.right&&e(t.right,n,i)))},In=function(e){for(var t=this.cy(),n=this.nodes(),i=function(e){var t=An(e),n=On[t.linkage];return null!=n&&(t.linkage=n),t}(e),r=i.attributes,o=function(e,t){return pn(i.distance,r.length,(function(t){return r[t](e)}),(function(e){return r[e](t)}),e,t)},a=[],s=[],l=[],u=[],c=0;c<n.length;c++){var h={value:"dendrogram"===i.mode?n[c]:[n[c]],key:c,index:c};a[c]=h,u[c]=h,s[c]=[],l[c]=0}for(var d=0;d<a.length;d++)for(var f=0;f<=d;f++){var p;p="dendrogram"===i.mode?d===f?1/0:o(a[d].value,a[f].value):d===f?1/0:o(a[d].value[0],a[f].value[0]),s[d][f]=p,s[f][d]=p,p<s[d][l[d]]&&(l[d]=f)}for(var g,m=Pn(a,u,s,l,i);m;)m=Pn(a,u,s,l,i);return"dendrogram"===i.mode?(g=function e(t,n,i){if(!t)return[];var r=[],o=[],a=[];return 0===n?(t.left&&Mn(t.left,r,i),t.right&&Mn(t.right,o,i),a=r.concat(o),[i.collection(a)]):1===n?t.value?[i.collection(t.value)]:(t.left&&Mn(t.left,r,i),t.right&&Mn(t.right,o,i),[i.collection(r),i.collection(o)]):t.value?[i.collection(t.value)]:(t.left&&(r=e(t.left,n-1,i)),t.right&&(o=e(t.right,n-1,i)),r.concat(o))}(a[0],i.dendrogramDepth,t),i.addDendrogram&&function e(t,n){if(!t)return"";if(t.left&&t.right){var i=e(t.left,n),r=e(t.right,n),o=n.add({group:"nodes",data:{id:i+","+r}});return n.add({group:"edges",data:{source:i,target:o.id()}}),n.add({group:"edges",data:{source:r,target:o.id()}}),o.id()}return t.value?t.value.id():void 0}(a[0],t)):(g=new Array(a.length),a.forEach((function(e,n){e.key=e.index=null,g[n]=t.collection(e.value)}))),g},Nn={hierarchicalClustering:In,hca:In},Ln=De({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),Rn=function(e,t,n,i){var r=function(e,t){return i[t](e)};return-pn(e,i.length,(function(e){return r(t,e)}),(function(e){return r(n,e)}),t,n)},Bn=function(e,t,n){for(var i=[],r=0;r<e;r++){for(var o=-1,a=-1/0,s=0;s<n.length;s++){var l=n[s];t[r*e+l]>a&&(o=l,a=t[r*e+l])}o>0&&i.push(o)}for(var u=0;u<n.length;u++)i[n[u]]=n[u];return i},jn=function(e){for(var t,n,i,r,o,a,s=this.cy(),l=this.nodes(),u=function(e){var t=e.damping,n=e.preference;.5<=t&&t<1||we("Damping must range on [0.5, 1).  Got: ".concat(t));var i=["median","mean","min","max"];return i.some((function(e){return e===n}))||m(n)||we("Preference must be one of [".concat(i.map((function(e){return"'".concat(e,"'")})).join(", "),"] or a number.  Got: ").concat(n)),Ln(e)}(e),c={},h=0;h<l.length;h++)c[l[h].id()]=h;n=(t=l.length)*t,i=new Array(n);for(var d=0;d<n;d++)i[d]=-1/0;for(var f=0;f<t;f++)for(var p=0;p<t;p++)f!==p&&(i[f*t+p]=Rn(u.distance,l[f],l[p],u.attributes));r=function(e,t){return"median"===t?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];i?e=e.slice(t,n):(n<e.length&&e.splice(n,e.length-n),t>0&&e.splice(0,t));for(var a=0,s=e.length-1;s>=0;s--){var l=e[s];o?isFinite(l)||(e[s]=-1/0,a++):e.splice(s,1)}r&&e.sort((function(e,t){return e-t}));var u=e.length,c=Math.floor(u/2);return u%2!=0?e[c+1+a]:(e[c-1+a]+e[c+a])/2}(e):"mean"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,i=0,r=0,o=t;o<n;o++){var a=e[o];isFinite(a)&&(i+=a,r++)}return i/r}(e):"min"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,i=1/0,r=t;r<n;r++){var o=e[r];isFinite(o)&&(i=Math.min(o,i))}return i}(e):"max"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,i=-1/0,r=t;r<n;r++){var o=e[r];isFinite(o)&&(i=Math.max(o,i))}return i}(e):t}(i,u.preference);for(var g=0;g<t;g++)i[g*t+g]=r;o=new Array(n);for(var v=0;v<n;v++)o[v]=0;a=new Array(n);for(var y=0;y<n;y++)a[y]=0;for(var b=new Array(t),x=new Array(t),w=new Array(t),_=0;_<t;_++)b[_]=0,x[_]=0,w[_]=0;for(var E,S=new Array(t*u.minIterations),C=0;C<S.length;C++)S[C]=0;for(E=0;E<u.maxIterations;E++){for(var T=0;T<t;T++){for(var k=-1/0,D=-1/0,A=-1,O=0,P=0;P<t;P++)b[P]=o[T*t+P],(O=a[T*t+P]+i[T*t+P])>=k?(D=k,k=O,A=P):O>D&&(D=O);for(var M=0;M<t;M++)o[T*t+M]=(1-u.damping)*(i[T*t+M]-k)+u.damping*b[M];o[T*t+A]=(1-u.damping)*(i[T*t+A]-D)+u.damping*b[A]}for(var I=0;I<t;I++){for(var N=0,L=0;L<t;L++)b[L]=a[L*t+I],x[L]=Math.max(0,o[L*t+I]),N+=x[L];N-=x[I],x[I]=o[I*t+I],N+=x[I];for(var R=0;R<t;R++)a[R*t+I]=(1-u.damping)*Math.min(0,N-x[R])+u.damping*b[R];a[I*t+I]=(1-u.damping)*(N-x[I])+u.damping*b[I]}for(var B=0,j=0;j<t;j++){var F=a[j*t+j]+o[j*t+j]>0?1:0;S[E%u.minIterations*t+j]=F,B+=F}if(B>0&&(E>=u.minIterations-1||E==u.maxIterations-1)){for(var H=0,Y=0;Y<t;Y++){w[Y]=0;for(var z=0;z<u.minIterations;z++)w[Y]+=S[z*t+Y];0!==w[Y]&&w[Y]!==u.minIterations||H++}if(H===t)break}}for(var W=function(e,t,n){for(var i=[],r=0;r<e;r++)t[r*e+r]+n[r*e+r]>0&&i.push(r);return i}(t,o,a),$=function(e,t,n){for(var i=Bn(e,t,n),r=0;r<n.length;r++){for(var o=[],a=0;a<i.length;a++)i[a]===n[r]&&o.push(a);for(var s=-1,l=-1/0,u=0;u<o.length;u++){for(var c=0,h=0;h<o.length;h++)c+=t[o[h]*e+o[u]];c>l&&(s=u,l=c)}n[r]=o[s]}return Bn(e,t,n)}(t,i,W),V={},q=0;q<W.length;q++)V[W[q]]=[];for(var X=0;X<l.length;X++){var U=$[c[l[X].id()]];null!=U&&V[U].push(l[X])}for(var G=new Array(W.length),K=0;K<W.length;K++)G[K]=s.collection(V[W[K]]);return G},Fn={};[je,Ye,ze,$e,qe,Ue,Ze,zt,$t,qt,Ut,on,Dn,Nn,{affinityPropagation:jn,ap:jn}].forEach((function(e){I(Fn,e)}));var Hn=function e(t){if(!(this instanceof e))return new e(t);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof t&&t.call(this,this.fulfill.bind(this),this.reject.bind(this))};Hn.prototype={fulfill:function(e){return Yn(this,1,"fulfillValue",e)},reject:function(e){return Yn(this,2,"rejectReason",e)},then:function(e,t){var n=new Hn;return this.onFulfilled.push($n(e,n,"fulfill")),this.onRejected.push($n(t,n,"reject")),zn(this),n.proxy}};var Yn=function(e,t,n,i){return 0===e.state&&(e.state=t,e[n]=i,zn(e)),e},zn=function(e){1===e.state?Wn(e,"onFulfilled",e.fulfillValue):2===e.state&&Wn(e,"onRejected",e.rejectReason)},Wn=function(e,t,n){if(0!==e[t].length){var i=e[t];e[t]=[];var r=function(){for(var e=0;e<i.length;e++)i[e](n)};"function"==typeof setImmediate?setImmediate(r):setTimeout(r,0)}},$n=function(e,t,n){return function(i){if("function"!=typeof e)t[n].call(t,i);else{var r;try{r=e(i)}catch(e){return void t.reject(e)}Vn(t,r)}}},Vn=function t(n,i){if(n!==i&&n.proxy!==i){var r;if("object"===e(i)&&null!==i||"function"==typeof i)try{r=i.then}catch(e){return void n.reject(e)}if("function"!=typeof r)n.fulfill(i);else{var o=!1;try{r.call(i,(function(e){o||(o=!0,e===i?n.reject(new TypeError("circular thenable chain")):t(n,e))}),(function(e){o||(o=!0,n.reject(e))}))}catch(e){o||n.reject(e)}}}else n.reject(new TypeError("cannot resolve promise with itself"))};Hn.all=function(e){return new Hn((function(t,n){for(var i=new Array(e.length),r=0,o=function(n,o){i[n]=o,++r===e.length&&t(i)},a=0;a<e.length;a++)!function(t){var i=e[t];null!=i&&null!=i.then?i.then((function(e){o(t,e)}),(function(e){n(e)})):o(t,i)}(a)}))},Hn.resolve=function(e){return new Hn((function(t,n){t(e)}))},Hn.reject=function(e){return new Hn((function(t,n){n(e)}))};var qn="undefined"!=typeof Promise?Promise:Hn,Xn=function(e,t,n){var i=w(e),r=!i,o=this._private=I({duration:1e3},t,n);if(o.target=e,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&f(o.complete)&&o.completes.push(o.complete),r){var a=e.position();o.startPosition=o.startPosition||{x:a.x,y:a.y},o.startStyle=o.startStyle||e.cy().style().getAnimationStartStyle(e,o.style)}if(i){var s=e.pan();o.startPan={x:s.x,y:s.y},o.startZoom=e.zoom()}this.length=1,this[0]=this},Un=Xn.prototype;I(Un,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var t=e.target._private.animation;(e.queue?t.queue:t.current).push(this),y(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return 1===e.progress&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var t=this._private;return void 0===e?t.progress*t.duration:this.progress(e/t.duration)},progress:function(e){var t=this._private,n=t.playing;return void 0===e?t.progress:(n&&this.pause(),t.progress=e,t.started=!1,n&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var e=this._private,t=e.playing;t&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(t,n){var i=e[t];null!=i&&(e[t]=e[n],e[n]=i)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var i=0;i<e.style.length;i++){var r=e.style[i],o=r.name,a=e.startStyle[o];e.startStyle[o]=r,e.style[i]=a}return t&&this.play(),this},promise:function(e){var t,n=this._private;switch(e){case"frame":t=n.frames;break;default:case"complete":case"completed":t=n.completes}return new qn((function(e,n){t.push((function(){e()}))}))}}),Un.complete=Un.completed,Un.run=Un.play,Un.running=Un.playing;var Gn={};[{animated:function(){return function(){var e=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return!1;var t=e[0];return t?t._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var e=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return this;for(var t=0;t<e.length;t++)e[t]._private.animation.queue=[];return this}},delay:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animate({delay:e,duration:e,complete:t}):this}},delayAnimation:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animation({delay:e,duration:e,complete:t}):this}},animation:function(){return function(e,t){var n=void 0!==this.length,i=n?this:[this],r=this._private.cy||this,o=!n,a=!o;if(!r.styleEnabled())return this;var s=r.style();if(e=I({},e,t),0===Object.keys(e).length)return new Xn(i[0],e);switch(void 0===e.duration&&(e.duration=400),e.duration){case"slow":e.duration=600;break;case"fast":e.duration=200}if(a&&(e.style=s.getPropsList(e.style||e.css),e.css=void 0),a&&null!=e.renderedPosition){var l=e.renderedPosition,u=r.pan(),c=r.zoom();e.position=et(l,c,u)}if(o&&null!=e.panBy){var h=e.panBy,d=r.pan();e.pan={x:d.x+h.x,y:d.y+h.y}}var f=e.center||e.centre;if(o&&null!=f){var p=r.getCenterPan(f.eles,e.zoom);null!=p&&(e.pan=p)}if(o&&null!=e.fit){var m=e.fit,v=r.getFitViewport(m.eles||m.boundingBox,m.padding);null!=v&&(e.pan=v.pan,e.zoom=v.zoom)}if(o&&g(e.zoom)){var y=r.getZoomedViewport(e.zoom);null!=y&&(y.zoomed&&(e.zoom=y.zoom),y.panned&&(e.pan=y.pan))}return new Xn(i[0],e)}},animate:function(){return function(e,t){var n=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return this;t&&(e=I({},e,t));for(var i=0;i<n.length;i++){var r=n[i],o=r.animated()&&(void 0===e.queue||e.queue);r.animation(e,o?{queue:!0}:void 0).play()}return this}},stop:function(){return function(e,t){var n=void 0!==this.length?this:[this],i=this._private.cy||this;if(!i.styleEnabled())return this;for(var r=0;r<n.length;r++){for(var o=n[r]._private,a=o.animation.current,s=0;s<a.length;s++)t&&(a[s]._private.duration=0);e&&(o.animation.queue=[]),t||(o.animation.current=[])}return i.notify("draw"),this}}},{data:function(e){return e=I({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(e){},beforeSet:function(e,t){},onSet:function(e){},canSet:function(e){return!0}},e),function(t,n){var i=e,r=void 0!==this.length,o=r?this:[this],a=r?this[0]:this;if(d(t)){var s;if(i.allowGetting&&void 0===n)return a&&(i.beforeGet(a),s=a._private[i.field][t]),s;if(i.allowSetting&&void 0!==n&&!i.immutableKeys[t]){var l=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n);i.beforeSet(this,l);for(var u=0,c=o.length;u<c;u++){var h=o[u];i.canSet(h)&&(h._private[i.field][t]=n)}i.updateStyle&&this.updateStyle(),i.onSet(this),i.settingTriggersEvent&&this[i.triggerFnName](i.settingEvent)}}else if(i.allowSetting&&g(t)){var p,m,v=t,y=Object.keys(v);i.beforeSet(this,v);for(var b=0;b<y.length;b++)if(m=v[p=y[b]],!i.immutableKeys[p])for(var x=0;x<o.length;x++){var w=o[x];i.canSet(w)&&(w._private[i.field][p]=m)}i.updateStyle&&this.updateStyle(),i.onSet(this),i.settingTriggersEvent&&this[i.triggerFnName](i.settingEvent)}else if(i.allowBinding&&f(t))this.on(i.bindingEvent,t);else if(i.allowGetting&&void 0===t){var _;return a&&(i.beforeGet(a),_=a._private[i.field]),_}return this}},removeData:function(e){return e=I({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},e),function(t){var n=e,i=void 0!==this.length?this:[this];if(d(t)){for(var r=t.split(/\s+/),o=r.length,a=0;a<o;a++){var s=r[a];if(!E(s)&&!n.immutableKeys[s])for(var l=0,u=i.length;l<u;l++)i[l]._private[n.field][s]=void 0}n.triggerEvent&&this[n.triggerFnName](n.event)}else if(void 0===t){for(var c=0,h=i.length;c<h;c++)for(var f=i[c]._private[n.field],p=Object.keys(f),g=0;g<p.length;g++){var m=p[g];!n.immutableKeys[m]&&(f[m]=void 0)}n.triggerEvent&&this[n.triggerFnName](n.event)}return this}}},{eventAliasesOn:function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.unlisten=t.unbind=t.off=t.removeListener,t.trigger=t.emit,t.pon=t.promiseOn=function(e,t){var n=this,i=Array.prototype.slice.call(arguments,0);return new qn((function(e,t){var r=i.concat([function(t){n.off.apply(n,o),e(t)}]),o=r.concat([]);n.on.apply(n,r)}))}}}].forEach((function(e){I(Gn,e)}));var Kn={animate:Gn.animate(),animation:Gn.animation(),animated:Gn.animated(),clearQueue:Gn.clearQueue(),delay:Gn.delay(),delayAnimation:Gn.delayAnimation(),stop:Gn.stop()},Qn={classes:function(e){if(void 0===e){var t=[];return this[0]._private.classes.forEach((function(e){return t.push(e)})),t}p(e)||(e=(e||"").match(/\S+/g)||[]);for(var n=[],i=new Le(e),r=0;r<this.length;r++){for(var o=this[r],a=o._private,s=a.classes,l=!1,u=0;u<e.length;u++)if(!s.has(e[u])){l=!0;break}l||(l=s.size!==e.length),l&&(a.classes=i,n.push(o))}return n.length>0&&this.spawn(n).updateStyle().emit("class"),this},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var t=this[0];return null!=t&&t._private.classes.has(e)},toggleClass:function(e,t){p(e)||(e=e.match(/\S+/g)||[]);for(var n=void 0===t,i=[],r=0,o=this.length;r<o;r++)for(var a=this[r],s=a._private.classes,l=!1,u=0;u<e.length;u++){var c=e[u],h=s.has(c),d=!1;t||n&&!h?(s.add(c),d=!0):(!t||n&&h)&&(s.delete(c),d=!0),!l&&d&&(i.push(a),l=!0)}return i.length>0&&this.spawn(i).updateStyle().emit("class"),this},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,t){var n=this;if(null==t)t=250;else if(0===t)return n;return n.addClass(e),setTimeout((function(){n.removeClass(e)}),t),n}};Qn.className=Qn.classNames=Qn.classes;var Zn={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:'"(?:\\\\"|[^"])*"|'+"'(?:\\\\'|[^'])*'",number:P,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Zn.variable="(?:[\\w-]|(?:\\\\"+Zn.metaChar+"))+",Zn.value=Zn.string+"|"+Zn.number,Zn.className=Zn.variable,Zn.id=Zn.variable,function(){var e,t,n;for(e=Zn.comparatorOp.split("|"),n=0;n<e.length;n++)Zn.comparatorOp+="|@"+(t=e[n]);for(e=Zn.comparatorOp.split("|"),n=0;n<e.length;n++)(t=e[n]).indexOf("!")>=0||"="!==t&&(Zn.comparatorOp+="|\\!"+t)}();var Jn=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort((function(e,t){return function(e,t){return-1*M(e,t)}(e.selector,t.selector)})),ei=function(){for(var e,t={},n=0;n<Jn.length;n++)t[(e=Jn[n]).selector]=e.matches;return t}(),ti="("+Jn.map((function(e){return e.selector})).join("|")+")",ni=function(e){return e.replace(new RegExp("\\\\("+Zn.metaChar+")","g"),(function(e,t){return t}))},ii=function(e,t,n){e[e.length-1]=n},ri=[{name:"group",query:!0,regex:"("+Zn.group+")",populate:function(e,t,n){var i=r(n,1)[0];t.checks.push({type:0,value:"*"===i?i:i+"s"})}},{name:"state",query:!0,regex:ti,populate:function(e,t,n){var i=r(n,1)[0];t.checks.push({type:7,value:i})}},{name:"id",query:!0,regex:"\\#("+Zn.id+")",populate:function(e,t,n){var i=r(n,1)[0];t.checks.push({type:8,value:ni(i)})}},{name:"className",query:!0,regex:"\\.("+Zn.className+")",populate:function(e,t,n){var i=r(n,1)[0];t.checks.push({type:9,value:ni(i)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Zn.variable+")\\s*\\]",populate:function(e,t,n){var i=r(n,1)[0];t.checks.push({type:4,field:ni(i)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Zn.variable+")\\s*("+Zn.comparatorOp+")\\s*("+Zn.value+")\\s*\\]",populate:function(e,t,n){var i=r(n,3),o=i[0],a=i[1],s=i[2];s=null!=new RegExp("^"+Zn.string+"$").exec(s)?s.substring(1,s.length-1):parseFloat(s),t.checks.push({type:3,field:ni(o),operator:a,value:s})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Zn.boolOp+")\\s*("+Zn.variable+")\\s*\\]",populate:function(e,t,n){var i=r(n,2),o=i[0];t.checks.push({type:5,field:ni(i[1]),operator:o})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Zn.meta+")\\s*("+Zn.comparatorOp+")\\s*("+Zn.number+")\\s*\\]\\]",populate:function(e,t,n){var i=r(n,3),o=i[1],a=i[2];t.checks.push({type:6,field:ni(i[0]),operator:o,value:parseFloat(a)})}},{name:"nextQuery",separator:!0,regex:Zn.separator,populate:function(e,t){var n=e.currentSubject,i=e.edgeCount,r=e.compoundCount,o=e[e.length-1];return null!=n&&(o.subject=n,e.currentSubject=null),o.edgeCount=i,o.compoundCount=r,e.edgeCount=0,e.compoundCount=0,e[e.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:Zn.directedEdge,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},i={checks:[]};return n.checks.push({type:11,source:t,target:i}),ii(e,0,n),e.edgeCount++,i}var r={checks:[]},o={checks:[]};return r.checks.push({type:12,source:t,target:o}),ii(e,0,r),e.edgeCount++,o}},{name:"undirectedEdge",separator:!0,regex:Zn.undirectedEdge,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},i={checks:[]};return n.checks.push({type:10,nodes:[t,i]}),ii(e,0,n),e.edgeCount++,i}var r={checks:[]},o={checks:[]};return r.checks.push({type:14,node:t,neighbor:o}),ii(e,0,r),o}},{name:"child",separator:!0,regex:Zn.child,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},i={checks:[]};return n.checks.push({type:15,parent:e[e.length-1],child:i}),ii(e,0,n),e.compoundCount++,i}if(e.currentSubject===t){var r={checks:[]},o={checks:[]},a={checks:[]},s={checks:[]},l={checks:[]};return r.checks.push({type:19,left:e[e.length-1],right:o,subject:a}),a.checks=t.checks,t.checks=[{type:20}],l.checks.push({type:20}),o.checks.push({type:17,parent:l,child:s}),ii(e,0,r),e.currentSubject=a,e.compoundCount++,s}var u={checks:[]},c={checks:[]},h=[{type:17,parent:u,child:c}];return u.checks=t.checks,t.checks=h,e.compoundCount++,c}},{name:"descendant",separator:!0,regex:Zn.descendant,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},i={checks:[]};return n.checks.push({type:16,ancestor:e[e.length-1],descendant:i}),ii(e,0,n),e.compoundCount++,i}if(e.currentSubject===t){var r={checks:[]},o={checks:[]},a={checks:[]},s={checks:[]},l={checks:[]};return r.checks.push({type:19,left:e[e.length-1],right:o,subject:a}),a.checks=t.checks,t.checks=[{type:20}],l.checks.push({type:20}),o.checks.push({type:18,ancestor:l,descendant:s}),ii(e,0,r),e.currentSubject=a,e.compoundCount++,s}var u={checks:[]},c={checks:[]},h=[{type:18,ancestor:u,descendant:c}];return u.checks=t.checks,t.checks=h,e.compoundCount++,c}},{name:"subject",modifier:!0,regex:Zn.subject,populate:function(e,t){if(null!=e.currentSubject&&e.currentSubject!==t)return Ee("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=t;var n=e[e.length-1].checks[0],i=null==n?null:n.type;11===i?n.type=13:10===i&&(n.type=14,n.node=n.nodes[1],n.neighbor=n.nodes[0],n.nodes=null)}}];ri.forEach((function(e){return e.regexObj=new RegExp("^"+e.regex)}));var oi=function(e){for(var t,n,i,r=0;r<ri.length;r++){var o=ri[r],a=o.name,s=e.match(o.regexObj);if(null!=s){n=s,t=o,i=a,e=e.substring(s[0].length);break}}return{expr:t,match:n,name:i,remaining:e}},ai={parse:function(e){var t=this.inputText=e,n=this[0]={checks:[]};for(this.length=1,t=function(e){var t=e.match(/^\s+/);return t&&(e=e.substring(t[0].length)),e}(t);;){var i=oi(t);if(null==i.expr)return Ee("The selector `"+e+"`is invalid"),!1;var r=i.match.slice(1),o=i.expr.populate(this,n,r);if(!1===o)return!1;if(null!=o&&(n=o),(t=i.remaining).match(/^\s*$/))break}var a=this[this.length-1];null!=this.currentSubject&&(a.subject=this.currentSubject),a.edgeCount=this.edgeCount,a.compoundCount=this.compoundCount;for(var s=0;s<this.length;s++){var l=this[s];if(l.compoundCount>0&&l.edgeCount>0)return Ee("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(l.edgeCount>1)return Ee("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;1===l.edgeCount&&Ee("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var e=function(e){return null==e?"":e},t=function(t){return d(t)?'"'+t+'"':e(t)},n=function(e){return" "+e+" "},i=function(i,o){var a=i.value;switch(i.type){case 0:var s=e(a);return s.substring(0,s.length-1);case 3:return"["+i.field+n(e(i.operator))+t(a)+"]";case 5:var l=i.field;return"["+e(i.operator)+l+"]";case 4:return"["+i.field+"]";case 6:return"[["+i.field+n(e(i.operator))+t(a)+"]]";case 7:return a;case 8:return"#"+a;case 9:return"."+a;case 17:case 15:return r(i.parent,o)+n(">")+r(i.child,o);case 18:case 16:return r(i.ancestor,o)+" "+r(i.descendant,o);case 19:var u=r(i.left,o),c=r(i.subject,o),h=r(i.right,o);return u+(u.length>0?" ":"")+c+h;case 20:return""}},r=function(e,t){return e.checks.reduce((function(n,r,o){return n+(t===e&&0===o?"$":"")+i(r,t)}),"")},o="",a=0;a<this.length;a++){var s=this[a];o+=r(s,s.subject),this.length>1&&a<this.length-1&&(o+=", ")}return this.toStringCache=o,o}},si=function(e,t,n){var i,r,o,a=d(e),s=m(e),l=d(n),u=!1,c=!1,h=!1;switch(t.indexOf("!")>=0&&(t=t.replace("!",""),c=!0),t.indexOf("@")>=0&&(t=t.replace("@",""),u=!0),(a||l||u)&&(r=a||s?""+e:"",o=""+n),u&&(e=r=r.toLowerCase(),n=o=o.toLowerCase()),t){case"*=":i=r.indexOf(o)>=0;break;case"$=":i=r.indexOf(o,r.length-o.length)>=0;break;case"^=":i=0===r.indexOf(o);break;case"=":i=e===n;break;case">":h=!0,i=e>n;break;case">=":h=!0,i=e>=n;break;case"<":h=!0,i=e<n;break;case"<=":h=!0,i=e<=n;break;default:i=!1}return!c||null==e&&h||(i=!i),i},li=function(e,t){return e.data(t)},ui=[],ci=function(e,t){return e.checks.every((function(e){return ui[e.type](e,t)}))};ui[0]=function(e,t){var n=e.value;return"*"===n||n===t.group()},ui[7]=function(e,t){return function(e,t){return ei[e](t)}(e.value,t)},ui[8]=function(e,t){var n=e.value;return t.id()===n},ui[9]=function(e,t){return t.hasClass(e.value)},ui[6]=function(e,t){var n=e.operator,i=e.value;return si(function(e,t){return e[t]()}(t,e.field),n,i)},ui[3]=function(e,t){var n=e.operator,i=e.value;return si(li(t,e.field),n,i)},ui[5]=function(e,t){var n=e.operator;return function(e,t){switch(t){case"?":return!!e;case"!":return!e;case"^":return void 0===e}}(li(t,e.field),n)},ui[4]=function(e,t){return void 0!==li(t,e.field)},ui[10]=function(e,t){var n=e.nodes[0],i=e.nodes[1],r=t.source(),o=t.target();return ci(n,r)&&ci(i,o)||ci(i,r)&&ci(n,o)},ui[14]=function(e,t){return ci(e.node,t)&&t.neighborhood().some((function(t){return t.isNode()&&ci(e.neighbor,t)}))},ui[11]=function(e,t){return ci(e.source,t.source())&&ci(e.target,t.target())},ui[12]=function(e,t){return ci(e.source,t)&&t.outgoers().some((function(t){return t.isNode()&&ci(e.target,t)}))},ui[13]=function(e,t){return ci(e.target,t)&&t.incomers().some((function(t){return t.isNode()&&ci(e.source,t)}))},ui[15]=function(e,t){return ci(e.child,t)&&ci(e.parent,t.parent())},ui[17]=function(e,t){return ci(e.parent,t)&&t.children().some((function(t){return ci(e.child,t)}))},ui[16]=function(e,t){return ci(e.descendant,t)&&t.ancestors().some((function(t){return ci(e.ancestor,t)}))},ui[18]=function(e,t){return ci(e.ancestor,t)&&t.descendants().some((function(t){return ci(e.descendant,t)}))},ui[19]=function(e,t){return ci(e.subject,t)&&ci(e.left,t)&&ci(e.right,t)},ui[20]=function(){return!0},ui[1]=function(e,t){return e.value.has(t)},ui[2]=function(e,t){return(0,e.value)(t)};var hi=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==e||d(e)&&e.match(/^\s*$/)||(y(e)?this.addQuery({checks:[{type:1,value:e.collection()}]}):f(e)?this.addQuery({checks:[{type:2,value:e}]}):d(e)?this.parse(e)||(this.invalid=!0):we("A selector must be created from a string; found ",e))},di=hi.prototype;[ai,{matches:function(e){for(var t=0;t<this.length;t++)if(ci(this[t],e))return!0;return!1},filter:function(e){var t=this;if(1===t.length&&1===t[0].checks.length&&8===t[0].checks[0].type)return e.getElementById(t[0].checks[0].value).collection();var n=function(e){for(var n=0;n<t.length;n++)if(ci(t[n],e))return!0;return!1};return null==t.text()&&(n=function(){return!0}),e.filter(n)}}].forEach((function(e){return I(di,e)})),di.text=function(){return this.inputText},di.size=function(){return this.length},di.eq=function(e){return this[e]},di.sameText=function(e){return!this.invalid&&!e.invalid&&this.text()===e.text()},di.addQuery=function(e){this[this.length++]=e},di.selector=di.toString;var fi={allAre:function(e){var t=new hi(e);return this.every((function(e){return t.matches(e)}))},is:function(e){var t=new hi(e);return this.some((function(e){return t.matches(e)}))},some:function(e,t){for(var n=0;n<this.length;n++)if(t?e.apply(t,[this[n],n,this]):e(this[n],n,this))return!0;return!1},every:function(e,t){for(var n=0;n<this.length;n++)if(!(t?e.apply(t,[this[n],n,this]):e(this[n],n,this)))return!1;return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var t=this.length;return t===e.length&&(1===t?this[0]===e[0]:this.every((function(t){return e.hasElementWithId(t.id())})))},anySame:function(e){return e=this.cy().collection(e),this.some((function(t){return e.hasElementWithId(t.id())}))},allAreNeighbors:function(e){e=this.cy().collection(e);var t=this.neighborhood();return e.every((function(e){return t.hasElementWithId(e.id())}))},contains:function(e){e=this.cy().collection(e);var t=this;return e.every((function(e){return t.hasElementWithId(e.id())}))}};fi.allAreNeighbours=fi.allAreNeighbors,fi.has=fi.contains,fi.equal=fi.equals=fi.same;var pi,gi,mi=function(e,t){return function(n,i,r,o){var a,s=n;if(null==s?a="":y(s)&&1===s.length&&(a=s.id()),1===this.length&&a){var l=this[0]._private,u=l.traversalCache=l.traversalCache||{},c=u[t]=u[t]||[],h=ce(a);return c[h]||(c[h]=e.call(this,n,i,r,o))}return e.call(this,n,i,r,o)}},vi={parent:function(e){var t=[];if(1===this.length){var n=this[0]._private.parent;if(n)return n}for(var i=0;i<this.length;i++){var r=this[i]._private.parent;r&&t.push(r)}return this.spawn(t,{unique:!0}).filter(e)},parents:function(e){for(var t=[],n=this.parent();n.nonempty();){for(var i=0;i<n.length;i++)t.push(n[i]);n=n.parent()}return this.spawn(t,{unique:!0}).filter(e)},commonAncestors:function(e){for(var t,n=0;n<this.length;n++){var i=this[n].parents();t=(t=t||i).intersect(i)}return t.filter(e)},orphans:function(e){return this.stdFilter((function(e){return e.isOrphan()})).filter(e)},nonorphans:function(e){return this.stdFilter((function(e){return e.isChild()})).filter(e)},children:mi((function(e){for(var t=[],n=0;n<this.length;n++)for(var i=this[n]._private.children,r=0;r<i.length;r++)t.push(i[r]);return this.spawn(t,{unique:!0}).filter(e)}),"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&0!==e._private.children.length},isChildless:function(){var e=this[0];if(e)return e.isNode()&&0===e._private.children.length},isChild:function(){var e=this[0];if(e)return e.isNode()&&null!=e._private.parent},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&null==e._private.parent},descendants:function(e){var t=[];return function e(n){for(var i=0;i<n.length;i++){var r=n[i];t.push(r),r.children().nonempty()&&e(r.children())}}(this.children()),this.spawn(t,{unique:!0}).filter(e)}};function yi(e,t,n,i){for(var r=[],o=new Le,a=e.cy().hasCompoundNodes(),s=0;s<e.length;s++){var l=e[s];n?r.push(l):a&&i(r,o,l)}for(;r.length>0;){var u=r.shift();t(u),o.add(u.id()),a&&i(r,o,u)}return e}function bi(e,t,n){if(n.isParent())for(var i=n._private.children,r=0;r<i.length;r++){var o=i[r];t.has(o.id())||e.push(o)}}function xi(e,t,n){if(n.isChild()){var i=n._private.parent;t.has(i.id())||e.push(i)}}function wi(e,t,n){xi(e,t,n),bi(e,t,n)}vi.forEachDown=function(e){return yi(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],bi)},vi.forEachUp=function(e){return yi(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],xi)},vi.forEachUpAndDown=function(e){return yi(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],wi)},vi.ancestors=vi.parents,(pi=gi={data:Gn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Gn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Gn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Gn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Gn.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Gn.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}}).attr=pi.data,pi.removeAttr=pi.removeData;var _i,Ei,Si=gi,Ci={};function Ti(e){return function(t){if(void 0===t&&(t=!0),0!==this.length&&this.isNode()&&!this.removed()){for(var n=0,i=this[0],r=i._private.edges,o=0;o<r.length;o++){var a=r[o];!t&&a.isLoop()||(n+=e(i,a))}return n}}}function ki(e,t){return function(n){for(var i,r=this.nodes(),o=0;o<r.length;o++){var a=r[o][e](n);void 0===a||void 0!==i&&!t(a,i)||(i=a)}return i}}I(Ci,{degree:Ti((function(e,t){return t.source().same(t.target())?2:1})),indegree:Ti((function(e,t){return t.target().same(e)?1:0})),outdegree:Ti((function(e,t){return t.source().same(e)?1:0}))}),I(Ci,{minDegree:ki("degree",(function(e,t){return e<t})),maxDegree:ki("degree",(function(e,t){return e>t})),minIndegree:ki("indegree",(function(e,t){return e<t})),maxIndegree:ki("indegree",(function(e,t){return e>t})),minOutdegree:ki("outdegree",(function(e,t){return e<t})),maxOutdegree:ki("outdegree",(function(e,t){return e>t}))}),I(Ci,{totalDegree:function(e){for(var t=0,n=this.nodes(),i=0;i<n.length;i++)t+=n[i].degree(e);return t}});var Di=function(e,t,n){for(var i=0;i<e.length;i++){var r=e[i];if(!r.locked()){var o=r._private.position,a={x:null!=t.x?t.x-o.x:0,y:null!=t.y?t.y-o.y:0};!r.isParent()||0===a.x&&0===a.y||r.children().shift(a,n),r.shiftCachedBoundingBox(a)}}},Ai={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,t){Di(e,t,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};(_i=Ei={position:Gn.data(Ai),silentPosition:Gn.data(I({},Ai,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,t){Di(e,t,!0)}})),positions:function(e,t){if(g(e))t?this.silentPosition(e):this.position(e);else if(f(e)){var n=e,i=this.cy();i.startBatch();for(var r=0;r<this.length;r++){var o,a=this[r];(o=n(a,r))&&(t?a.silentPosition(o):a.position(o))}i.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,t,n){var i;if(g(e)?(i={x:m(e.x)?e.x:0,y:m(e.y)?e.y:0},n=t):d(e)&&m(t)&&((i={x:0,y:0})[e]=t),null!=i){var r=this.cy();r.startBatch();for(var o=0;o<this.length;o++){var a=this[o],s=a.position(),l={x:s.x+i.x,y:s.y+i.y};n?a.silentPosition(l):a.position(l)}r.endBatch()}return this},silentShift:function(e,t){return g(e)?this.shift(e,!0):d(e)&&m(t)&&this.shift(e,t,!0),this},renderedPosition:function(e,t){var n=this[0],i=this.cy(),r=i.zoom(),o=i.pan(),a=g(e)?e:void 0,s=void 0!==a||void 0!==t&&d(e);if(n&&n.isNode()){if(!s){var l=n.position();return a=Je(l,r,o),void 0===e?a:a[e]}for(var u=0;u<this.length;u++){var c=this[u];void 0!==t?c.position(e,(t-o[e])/r):void 0!==a&&c.position(et(a,r,o))}}else if(!s)return;return this},relativePosition:function(e,t){var n=this[0],i=this.cy(),r=g(e)?e:void 0,o=void 0!==r||void 0!==t&&d(e),a=i.hasCompoundNodes();if(n&&n.isNode()){if(!o){var s=n.position(),l=a?n.parent():null,u=l&&l.length>0;u&&(l=l[0]);var c=u?l.position():{x:0,y:0};return r={x:s.x-c.x,y:s.y-c.y},void 0===e?r:r[e]}for(var h=0;h<this.length;h++){var f=this[h],p=a?f.parent():null,m=p&&p.length>0;m&&(p=p[0]);var v=m?p.position():{x:0,y:0};void 0!==t?f.position(e,t+v[e]):void 0!==r&&f.position({x:r.x+v.x,y:r.y+v.y})}}else if(!o)return;return this}}).modelPosition=_i.point=_i.position,_i.modelPositions=_i.points=_i.positions,_i.renderedPoint=_i.renderedPosition,_i.relativePoint=_i.relativePosition;var Oi,Pi,Mi=Ei;Oi=Pi={},Pi.renderedBoundingBox=function(e){var t=this.boundingBox(e),n=this.cy(),i=n.zoom(),r=n.pan(),o=t.x1*i+r.x,a=t.x2*i+r.x,s=t.y1*i+r.y,l=t.y2*i+r.y;return{x1:o,x2:a,y1:s,y2:l,w:a-o,h:l-s}},Pi.dirtyCompoundBoundsCache=function(){var e=this.cy();return e.styleEnabled()&&e.hasCompoundNodes()?(this.forEachUp((function(e){if(e.isParent()){var t=e._private;t.compoundBoundsClean=!1,t.bbCache=null,e.emitAndNotify("bounds")}})),this):this},Pi.updateCompoundBounds=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(!e&&t.batching())return this;function n(e){if(e.isParent()){var t=e._private,n=e.children(),i="include"===e.pstyle("compound-sizing-wrt-labels").value,r={width:{val:e.pstyle("min-width").pfValue,left:e.pstyle("min-width-bias-left"),right:e.pstyle("min-width-bias-right")},height:{val:e.pstyle("min-height").pfValue,top:e.pstyle("min-height-bias-top"),bottom:e.pstyle("min-height-bias-bottom")}},o=n.filter((function(e){return"element"===e.pstyle("display").value})).boundingBox({includeLabels:i,includeOverlays:!1,useCache:!1}),a=t.position;0!==o.w&&0!==o.h||((o={w:e.pstyle("width").pfValue,h:e.pstyle("height").pfValue}).x1=a.x-o.w/2,o.x2=a.x+o.w/2,o.y1=a.y-o.h/2,o.y2=a.y+o.h/2);var s=r.width.left.value;"px"===r.width.left.units&&r.width.val>0&&(s=100*s/r.width.val);var l=r.width.right.value;"px"===r.width.right.units&&r.width.val>0&&(l=100*l/r.width.val);var u=r.height.top.value;"px"===r.height.top.units&&r.height.val>0&&(u=100*u/r.height.val);var c=r.height.bottom.value;"px"===r.height.bottom.units&&r.height.val>0&&(c=100*c/r.height.val);var h=v(r.width.val-o.w,s,l),d=h.biasDiff,f=h.biasComplementDiff,p=v(r.height.val-o.h,u,c),g=p.biasDiff,m=p.biasComplementDiff;t.autoPadding=function(e,t,n,i){if("%"!==n.units)return"px"===n.units?n.pfValue:0;switch(i){case"width":return e>0?n.pfValue*e:0;case"height":return t>0?n.pfValue*t:0;case"average":return e>0&&t>0?n.pfValue*(e+t)/2:0;case"min":return e>0&&t>0?e>t?n.pfValue*t:n.pfValue*e:0;case"max":return e>0&&t>0?e>t?n.pfValue*e:n.pfValue*t:0;default:return 0}}(o.w,o.h,e.pstyle("padding"),e.pstyle("padding-relative-to").value),t.autoWidth=Math.max(o.w,r.width.val),a.x=(-d+o.x1+o.x2+f)/2,t.autoHeight=Math.max(o.h,r.height.val),a.y=(-g+o.y1+o.y2+m)/2}function v(e,t,n){var i=0,r=0,o=t+n;return e>0&&o>0&&(i=t/o*e,r=n/o*e),{biasDiff:i,biasComplementDiff:r}}}for(var i=0;i<this.length;i++){var r=this[i],o=r._private;o.compoundBoundsClean||(n(r),t.batching()||(o.compoundBoundsClean=!0))}return this};var Ii=function(e){return e===1/0||e===-1/0?0:e},Ni=function(e,t,n,i,r){i-t!=0&&r-n!=0&&null!=t&&null!=n&&null!=i&&null!=r&&(e.x1=t<e.x1?t:e.x1,e.x2=i>e.x2?i:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=r>e.y2?r:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},Li=function(e,t){return null==t?e:Ni(e,t.x1,t.y1,t.x2,t.y2)},Ri=function(e,t,n){return Pe(e,t,n)},Bi=function(e,t,n){if(!t.cy().headless()){var i,r,o=t._private,a=o.rstyle,s=a.arrowWidth/2;if("none"!==t.pstyle(n+"-arrow-shape").value){"source"===n?(i=a.srcX,r=a.srcY):"target"===n?(i=a.tgtX,r=a.tgtY):(i=a.midX,r=a.midY);var l=o.arrowBounds=o.arrowBounds||{},u=l[n]=l[n]||{};u.x1=i-s,u.y1=r-s,u.x2=i+s,u.y2=r+s,u.w=u.x2-u.x1,u.h=u.y2-u.y1,pt(u,1),Ni(e,u.x1,u.y1,u.x2,u.y2)}}},ji=function(e,t,n){if(!t.cy().headless()){var i,r=t._private,o=r.rstyle;if(t.pstyle((i=n?n+"-":"")+"label").strValue){var a,s,l,u,c=t.pstyle("text-halign"),h=t.pstyle("text-valign"),d=Ri(o,"labelWidth",n),f=Ri(o,"labelHeight",n),p=Ri(o,"labelX",n),g=Ri(o,"labelY",n),m=t.pstyle(i+"text-margin-x").pfValue,v=t.pstyle(i+"text-margin-y").pfValue,y=t.isEdge(),b=t.pstyle(i+"text-rotation"),x=t.pstyle("text-outline-width").pfValue,w=t.pstyle("text-border-width").pfValue/2,_=t.pstyle("text-background-padding").pfValue,E=f,S=d,C=S/2,T=E/2;if(y)a=p-C,s=p+C,l=g-T,u=g+T;else{switch(c.value){case"left":a=p-S,s=p;break;case"center":a=p-C,s=p+C;break;case"right":a=p,s=p+S}switch(h.value){case"top":l=g-E,u=g;break;case"center":l=g-T,u=g+T;break;case"bottom":l=g,u=g+E}}a+=m-Math.max(x,w)-_,s+=m+Math.max(x,w)+_,l+=v-Math.max(x,w)-_,u+=v+Math.max(x,w)+_;var k=n||"main",D=r.labelBounds,A=D[k]=D[k]||{};A.x1=a,A.y1=l,A.x2=s,A.y2=u,A.w=s-a,A.h=u-l,pt(A,1);var O=y&&"autorotate"===b.strValue;if(O||null!=b.pfValue&&0!==b.pfValue){var P=O?Ri(r.rstyle,"labelAngle",n):b.pfValue,M=Math.cos(P),I=Math.sin(P),N=(a+s)/2,L=(l+u)/2;if(!y){switch(c.value){case"left":N=s;break;case"right":N=a}switch(h.value){case"top":L=u;break;case"bottom":L=l}}var R=function(e,t){return{x:(e-=N)*M-(t-=L)*I+N,y:e*I+t*M+L}},B=R(a,l),j=R(a,u),F=R(s,l),H=R(s,u);a=Math.min(B.x,j.x,F.x,H.x),s=Math.max(B.x,j.x,F.x,H.x),l=Math.min(B.y,j.y,F.y,H.y),u=Math.max(B.y,j.y,F.y,H.y)}Ni(e,a,l,s,u),Ni(r.labelBounds.all,a,l,s,u)}return e}},Fi=function(e){var t=0,n=function(e){return(e?1:0)<<t++},i=0;return i+=n(e.incudeNodes),i+=n(e.includeEdges),(i+=n(e.includeLabels))+n(e.includeOverlays)},Hi=function(e){if(e.isEdge()){var t=e.source().position(),n=e.target().position(),i=function(e){return Math.round(e)};return ue([i(t.x),i(t.y),i(n.x),i(n.y)])}return 0},Yi=function(e,t){var n,i=e._private,r=(null==t?Wi:Fi(t))===Wi,o=Hi(e),a=i.bbCachePosKey===o,s=!(t.useCache&&a)||null==i.bbCache;if(s?(a||e.recalculateRenderedStyle(),n=function(e,t){var n,i,r,o,a,s,l=e._private.cy,u=l.styleEnabled(),c=l.headless(),h=ht(),d=e._private,f=u?e.pstyle("display").value:"element",p=e.isNode(),g=e.isEdge(),m="none"!==f,v=d.rstyle,y=p&&u?e.pstyle("bounds-expansion").pfValue:0;if(m){var b=0;u&&t.includeOverlays&&0!==e.pstyle("overlay-opacity").value&&(b=e.pstyle("overlay-padding").value);var x=0;if(u&&(x=e.pstyle("width").pfValue/2),p&&t.includeNodes){var w=e.position();a=w.x,s=w.y;var _=e.outerWidth()/2,E=e.outerHeight()/2;Ni(h,n=a-_,r=s-E,i=a+_,o=s+E)}else if(g&&t.includeEdges)if(u&&!c&&(n=Math.min(v.srcX,v.midX,v.tgtX),i=Math.max(v.srcX,v.midX,v.tgtX),r=Math.min(v.srcY,v.midY,v.tgtY),o=Math.max(v.srcY,v.midY,v.tgtY),Ni(h,n-=x,r-=x,i+=x,o+=x)),u&&!c&&"haystack"===e.pstyle("curve-style").strValue){var S=v.haystackPts||[];if((n=S[0].x)>(i=S[1].x)){var C=n;n=i,i=C}if((r=S[0].y)>(o=S[1].y)){var T=r;r=o,o=T}Ni(h,n-x,r-x,i+x,o+x)}else{for(var k=v.bezierPts||v.linePts||[],D=0;D<k.length;D++){var A=k[D];Ni(h,n=A.x-x,r=A.y-x,i=A.x+x,o=A.y+x)}if(0===k.length){var O=e.source().position(),P=e.target().position();if((n=O.x)>(i=P.x)){var M=n;n=i,i=M}if((r=O.y)>(o=P.y)){var I=r;r=o,o=I}Ni(h,n-=x,r-=x,i+=x,o+=x)}}if(u&&t.includeEdges&&g&&(Bi(h,e,"mid-source"),Bi(h,e,"mid-target"),Bi(h,e,"source"),Bi(h,e,"target")),u&&"yes"===e.pstyle("ghost").value){var N=e.pstyle("ghost-offset-x").pfValue,L=e.pstyle("ghost-offset-y").pfValue;Ni(h,h.x1+N,h.y1+L,h.x2+N,h.y2+L)}var R=d.bodyBounds=d.bodyBounds||{};gt(R,h),pt(R,y),pt(R,1),u&&Ni(h,(n=h.x1)-b,(r=h.y1)-b,(i=h.x2)+b,(o=h.y2)+b);var B=d.overlayBounds=d.overlayBounds||{};gt(B,h),pt(B,y),pt(B,1);var j=d.labelBounds=d.labelBounds||{};null!=j.all?function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0}(j.all):j.all=ht(),u&&t.includeLabels&&(ji(h,e,null),g&&(ji(h,e,"source"),ji(h,e,"target")))}return h.x1=Ii(h.x1),h.y1=Ii(h.y1),h.x2=Ii(h.x2),h.y2=Ii(h.y2),h.w=Ii(h.x2-h.x1),h.h=Ii(h.y2-h.y1),h.w>0&&h.h>0&&m&&(pt(h,y),pt(h,1)),h}(e,zi),i.bbCache=n,i.bbCacheShift.x=i.bbCacheShift.y=0,i.bbCachePosKey=o):n=i.bbCache,!s&&(0!==i.bbCacheShift.x||0!==i.bbCacheShift.y)){var l=mt,u=i.bbCacheShift,c=function(e,t){null!=e&&l(e,t)};l(n,u);var h=i.overlayBounds,d=i.labelBounds,f=i.arrowBounds;c(i.bodyBounds,u),c(h,u),null!=f&&(c(f.source,u),c(f.target,u),c(f["mid-source"],u),c(f["mid-target"],u)),null!=d&&(c(d.main,u),c(d.all,u),c(d.source,u),c(d.target,u))}if(i.bbCacheShift.x=i.bbCacheShift.y=0,!r){var p=e.isNode();n=ht(),(t.includeNodes&&p||t.includeEdges&&!p)&&Li(n,t.includeOverlays?i.overlayBounds:i.bodyBounds),t.includeLabels&&Li(n,i.labelBounds.all),n.w=n.x2-n.x1,n.h=n.y2-n.y1}return n},zi={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeOverlays:!0,useCache:!0},Wi=Fi(zi),$i=De(zi);Pi.boundingBox=function(e){if(1===this.length&&null!=this[0]._private.bbCache&&(void 0===e||void 0===e.useCache||!0===e.useCache))return e=void 0===e?zi:$i(e),Yi(this[0],e);var t=ht(),n=$i(e=e||zi);if(this.cy().styleEnabled())for(var i=0;i<this.length;i++){var r=this[i],o=r._private,a=Hi(r);r.recalculateRenderedStyle(n.useCache&&o.bbCachePosKey===a)}this.updateCompoundBounds();for(var s=0;s<this.length;s++)Li(t,Yi(this[s],n));return t.x1=Ii(t.x1),t.y1=Ii(t.y1),t.x2=Ii(t.x2),t.y2=Ii(t.y2),t.w=Ii(t.x2-t.x1),t.h=Ii(t.y2-t.y1),t},Pi.dirtyBoundingBoxCache=function(){for(var e=0;e<this.length;e++){var t=this[e]._private;t.bbCache=null,t.bbCacheShift.x=t.bbCacheShift.y=0,t.bbCachePosKey=null}return this.emitAndNotify("bounds"),this},Pi.shiftCachedBoundingBox=function(e){for(var t=0;t<this.length;t++){var n=this[t]._private;null!=n.bbCache&&(n.bbCacheShift.x+=e.x,n.bbCacheShift.y+=e.y)}return this.emitAndNotify("bounds"),this},Pi.boundingBoxAt=function(e){var t=this.nodes(),n=this.cy(),i=n.hasCompoundNodes();if(i&&(t=t.filter((function(e){return!e.isParent()}))),g(e)){var r=e;e=function(){return r}}n.startBatch(),t.forEach((function(t,n){return t._private.bbAtOldPos=e(t,n)})).silentPositions(e),i&&this.updateCompoundBounds(!0);var o=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}}(this.boundingBox({useCache:!1}));return t.silentPositions((function(e){return e._private.bbAtOldPos})),n.endBatch(),o},Oi.boundingbox=Oi.bb=Oi.boundingBox,Oi.renderedBoundingbox=Oi.renderedBoundingBox;var Vi,qi,Xi=Pi;Vi=qi={};var Ui=function(e){e.uppercaseName=O(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=O(e.outerName),Vi[e.name]=function(){var t=this[0],n=t._private;if(t){if(!n.cy._private.styleEnabled)return 1;if(t.isParent())return t.updateCompoundBounds(),n[e.autoName]||0;var i=t.pstyle(e.name);switch(i.strValue){case"label":return t.recalculateRenderedStyle(),n.rstyle[e.labelName]||0;default:return i.pfValue}}},Vi["outer"+e.uppercaseName]=function(){var t=this[0];if(t)return t._private.cy._private.styleEnabled?t[e.name]()+t.pstyle("border-width").pfValue+2*t.padding():1},Vi["rendered"+e.uppercaseName]=function(){var t=this[0];if(t)return t[e.name]()*this.cy().zoom()},Vi["rendered"+e.uppercaseOuterName]=function(){var t=this[0];if(t)return t[e.outerName]()*this.cy().zoom()}};Ui({name:"width"}),Ui({name:"height"}),qi.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),void 0!==t.autoPadding?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue};var Gi=qi,Ki={controlPoints:{get:function(e){return e.renderer().getControlPoints(e)},mult:!0},segmentPoints:{get:function(e){return e.renderer().getSegmentPoints(e)},mult:!0},sourceEndpoint:{get:function(e){return e.renderer().getSourceEndpoint(e)}},targetEndpoint:{get:function(e){return e.renderer().getTargetEndpoint(e)}},midpoint:{get:function(e){return e.renderer().getEdgeMidpoint(e)}}},Qi=Object.keys(Ki).reduce((function(e,t){var n=Ki[t],i=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)}(t);return e[t]=function(){return function(e,t){if(e.isEdge())return t(e)}(this,n.get)},e[i]=n.mult?function(){return function(e,t){if(e.isEdge()){var n=e.cy(),i=n.pan(),r=n.zoom();return t(e).map((function(e){return Je(e,r,i)}))}}(this,n.get)}:function(){return function(e,t){if(e.isEdge()){var n=e.cy();return Je(t(e),n.zoom(),n.pan())}}(this,n.get)},e}),{}),Zi=I({},Mi,Xi,Gi,Qi),Ji=function(e,t){this.recycle(e,t)};function er(){return!1}function tr(){return!0}Ji.prototype={instanceString:function(){return"event"},recycle:function(e,t){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=er,null!=e&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?tr:er):null!=e&&e.type?t=e:this.type=e,null!=t&&(this.originalEvent=t.originalEvent,this.type=null!=t.type?t.type:this.type,this.cy=t.cy,this.target=t.target,this.position=t.position,this.renderedPosition=t.renderedPosition,this.namespace=t.namespace,this.layout=t.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var n=this.position,i=this.cy.zoom(),r=this.cy.pan();this.renderedPosition={x:n.x*i+r.x,y:n.y*i+r.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=tr;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=tr;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=tr,this.stopPropagation()},isDefaultPrevented:er,isPropagationStopped:er,isImmediatePropagationStopped:er};var nr=/^([^.]+)(\.(?:[^.]+))?$/,ir={qualifierCompare:function(e,t){return e===t},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},rr=Object.keys(ir),or={};function ar(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or,t=arguments.length>1?arguments[1]:void 0,n=0;n<rr.length;n++){var i=rr[n];this[i]=e[i]||ir[i]}this.context=t||this.context,this.listeners=[],this.emitting=0}var sr=ar.prototype,lr=function(e,t,n,i,r,o,a){f(i)&&(r=i,i=null),a&&(o=null==o?a:I({},o,a));for(var s=p(n)?n:n.split(/\s+/),l=0;l<s.length;l++){var u=s[l];if(!E(u)){var c=u.match(nr);if(c&&!1===t(e,u,c[1],c[2]?c[2]:null,i,r,o))break}}},ur=function(e,t){return e.addEventFields(e.context,t),new Ji(t.type,t)};sr.on=sr.addListener=function(e,t,n,i,r){return lr(this,(function(e,t,n,i,r,o,a){f(o)&&e.listeners.push({event:t,callback:o,type:n,namespace:i,qualifier:r,conf:a})}),e,t,n,i,r),this},sr.one=function(e,t,n,i){return this.on(e,t,n,i,{one:!0})},sr.removeListener=sr.off=function(e,t,n,i){var r=this;0!==this.emitting&&(this.listeners=this.listeners.slice());for(var o=this.listeners,a=function(a){var s=o[a];lr(r,(function(e,t,n,i,r,l){if(s.type===n&&(!i&&".*"!==s.namespace||s.namespace===i)&&(!r||e.qualifierCompare(s.qualifier,r))&&(!l||s.callback===l))return o.splice(a,1),!1}),e,t,n,i)},s=o.length-1;s>=0;s--)a(s);return this},sr.emit=sr.trigger=function(e,t,n){var i=this.listeners,r=i.length;return this.emitting++,p(t)||(t=[t]),function(e,t,n){if("event"!==h(n))if(g(n))t(e,ur(e,n));else for(var i=p(n)?n:n.split(/\s+/),r=0;r<i.length;r++){var o=i[r];if(!E(o)){var a=o.match(nr);a&&t(e,ur(e,{type:a[1],namespace:a[2]?a[2]:null,target:e.context}))}}else t(e,n)}(this,(function(e,o){null!=n&&(r=(i=[{event:o.event,type:o.type,namespace:o.namespace,callback:n}]).length);for(var a=function(n){var r=i[n];if(r.type===o.type&&(!r.namespace||r.namespace===o.namespace||".*"===r.namespace)&&e.eventMatches(e.context,r,o)){var a=[o];null!=t&&function(e,t){for(var n=0;n<t.length;n++)e.push(t[n])}(a,t),e.beforeEmit(e.context,r,o),r.conf&&r.conf.one&&(e.listeners=e.listeners.filter((function(e){return e!==r})));var s=e.callbackContext(e.context,r,o),l=r.callback.apply(s,a);e.afterEmit(e.context,r,o),!1===l&&(o.stopPropagation(),o.preventDefault())}},s=0;s<r;s++)a(s);e.bubble(e.context)&&!o.isPropagationStopped()&&e.parent(e.context).emit(o,t)}),e),this.emitting--,this};var cr={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,n){var i=t.qualifier;return null==i||e!==n.target&&b(n.target)&&i.matches(n.target)},addEventFields:function(e,t){t.cy=e.cy(),t.target=e},callbackContext:function(e,t,n){return null!=t.qualifier?n.target:e},beforeEmit:function(e,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},hr=function(e){return d(e)?new hi(e):e},dr={createEmitter:function(){for(var e=0;e<this.length;e++){var t=this[e],n=t._private;n.emitter||(n.emitter=new ar(cr,t))}return this},emitter:function(){return this._private.emitter},on:function(e,t,n){for(var i=hr(t),r=0;r<this.length;r++)this[r].emitter().on(e,i,n);return this},removeListener:function(e,t,n){for(var i=hr(t),r=0;r<this.length;r++)this[r].emitter().removeListener(e,i,n);return this},one:function(e,t,n){for(var i=hr(t),r=0;r<this.length;r++)this[r].emitter().one(e,i,n);return this},once:function(e,t,n){for(var i=hr(t),r=0;r<this.length;r++)this[r].emitter().on(e,i,n,{once:!0,onceCollection:this})},emit:function(e,t){for(var n=0;n<this.length;n++)this[n].emitter().emit(e,t);return this},emitAndNotify:function(e,t){if(0!==this.length)return this.cy().notify(e,this),this.emit(e,t),this}};Gn.eventAliasesOn(dr);var fr={nodes:function(e){return this.filter((function(e){return e.isNode()})).filter(e)},edges:function(e){return this.filter((function(e){return e.isEdge()})).filter(e)},byGroup:function(){for(var e=this.spawn(),t=this.spawn(),n=0;n<this.length;n++){var i=this[n];i.isNode()?e.merge(i):t.merge(i)}return{nodes:e,edges:t}},filter:function(e,t){if(void 0===e)return this;if(d(e)||y(e))return new hi(e).filter(this);if(f(e)){for(var n=this.spawn(),i=0;i<this.length;i++){var r=this[i];(t?e.apply(t,[r,i,this]):e(r,i,this))&&n.merge(r)}return n}return this.spawn()},not:function(e){if(e){d(e)&&(e=this.filter(e));for(var t=[],n=e._private.map,i=0;i<this.length;i++){var r=this[i];n.has(r.id())||t.push(r)}return this.spawn(t)}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(e){if(d(e))return this.filter(e);for(var t=[],n=this.length<e.length,i=n?e._private.map:this._private.map,r=n?this:e,o=0;o<r.length;o++){var a=i.get(r[o]._private.data.id);a&&t.push(a.ele)}return this.spawn(t)},xor:function(e){var t=this._private.cy;d(e)&&(e=t.$(e));var n=[],i=e,r=function(e,t){for(var i=0;i<e.length;i++){var r=e[i];t.hasElementWithId(r._private.data.id)||n.push(r)}};return r(this,i),r(i,this),this.spawn(n)},diff:function(e){var t=this._private.cy;d(e)&&(e=t.$(e));var n=[],i=[],r=[],o=e,a=function(e,t,n){for(var i=0;i<e.length;i++){var o=e[i];t.hasElementWithId(o._private.data.id)?r.push(o):n.push(o)}};return a(this,o,n),a(o,this,i),{left:this.spawn(n,{unique:!0}),right:this.spawn(i,{unique:!0}),both:this.spawn(r,{unique:!0})}},add:function(e){var t=this._private.cy;if(!e)return this;if(d(e)){var n=e;e=t.mutableElements().filter(n)}for(var i=[],r=0;r<this.length;r++)i.push(this[r]);for(var o=this._private.map,a=0;a<e.length;a++)!o.has(e[a].id())&&i.push(e[a]);return this.spawn(i)},merge:function(e){var t=this._private,n=t.cy;if(!e)return this;if(e&&d(e)){var i=e;e=n.mutableElements().filter(i)}for(var r=t.map,o=0;o<e.length;o++){var a=e[o],s=a._private.data.id;if(r.has(s)){var l=r.get(s).index;this[l]=a,r.set(s,{ele:a,index:l})}else{var u=this.length++;this[u]=a,r.set(s,{ele:a,index:u})}}return this},unmergeAt:function(e){var t=this[e].id(),n=this._private.map;if(this[e]=void 0,n.delete(t),this.length>1&&e!==this.length-1){var i=this.length-1,r=this[i],o=r._private.data.id;this[i]=void 0,this[e]=r,n.set(o,{ele:r,index:e})}return this.length--,this},unmergeOne:function(e){var t=this._private.map.get((e=e[0])._private.data.id);return t?(this.unmergeAt(t.index),this):this},unmerge:function(e){var t=this._private.cy;if(!e)return this;if(e&&d(e)){var n=e;e=t.mutableElements().filter(n)}for(var i=0;i<e.length;i++)this.unmergeOne(e[i]);return this},unmergeBy:function(e){for(var t=this.length-1;t>=0;t--)e(this[t])&&this.unmergeAt(t);return this},map:function(e,t){for(var n=[],i=0;i<this.length;i++){var r=this[i],o=t?e.apply(t,[r,i,this]):e(r,i,this);n.push(o)}return n},reduce:function(e,t){for(var n=t,i=0;i<this.length;i++)n=e(n,this[i],i,this);return n},max:function(e,t){for(var n,i=-1/0,r=0;r<this.length;r++){var o=this[r],a=t?e.apply(t,[o,r,this]):e(o,r,this);a>i&&(i=a,n=o)}return{value:i,ele:n}},min:function(e,t){for(var n,i=1/0,r=0;r<this.length;r++){var o=this[r],a=t?e.apply(t,[o,r,this]):e(o,r,this);a<i&&(i=a,n=o)}return{value:i,ele:n}}},pr=fr;pr.u=pr["|"]=pr["+"]=pr.union=pr.or=pr.add,pr["\\"]=pr["!"]=pr["-"]=pr.difference=pr.relativeComplement=pr.subtract=pr.not,pr.n=pr["&"]=pr["."]=pr.and=pr.intersection=pr.intersect,pr["^"]=pr["(+)"]=pr["(-)"]=pr.symmetricDifference=pr.symdiff=pr.xor,pr.fnFilter=pr.filterFn=pr.stdFilter=pr.filter,pr.complement=pr.abscomp=pr.absoluteComplement;var gr=function(e,t){var n=e.cy().hasCompoundNodes();function i(e){var t=e.pstyle("z-compound-depth");return"auto"===t.value?n?e.zDepth():0:"bottom"===t.value?-1:"top"===t.value?me:0}var r=i(e)-i(t);if(0!==r)return r;function o(e){return"auto"===e.pstyle("z-index-compare").value&&e.isNode()?1:0}var a=o(e)-o(t);if(0!==a)return a;var s=e.pstyle("z-index").value-t.pstyle("z-index").value;return 0!==s?s:e.poolIndex()-t.poolIndex()},mr={forEach:function(e,t){if(f(e))for(var n=this.length,i=0;i<n;i++){var r=this[i];if(!1===(t?e.apply(t,[r,i,this]):e(r,i,this)))break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(e,t){var n=[],i=this.length;null==t&&(t=i),null==e&&(e=0),e<0&&(e=i+e),t<0&&(t=i+t);for(var r=e;r>=0&&r<t&&r<i;r++)n.push(this[r]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(e){if(!f(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},sortByZIndex:function(){return this.sort(gr)},zDepth:function(){var e=this[0];if(e){var t=e._private;if("nodes"===t.group){var n=t.data.parent?e.parents().size():0;return e.isParent()?n:me-1}var i=t.target,r=t.source.zDepth(),o=i.zDepth();return Math.max(r,o,0)}}};mr.each=mr.forEach;var vr=De({nodeDimensionsIncludeLabels:!1}),yr={layoutDimensions:function(e){if((e=vr(e)).nodeDimensionsIncludeLabels){var t=this.boundingBox();return{w:t.w,h:t.h}}return{w:this.outerWidth(),h:this.outerHeight()}},layoutPositions:function(e,t,n){var i=this.nodes(),r=this.cy(),o=t.eles,a=function(e){return e.id()},s=T(n,a);e.emit({type:"layoutstart",layout:e}),e.animations=[];var l=t.spacingFactor&&1!==t.spacingFactor,u=function(){if(!l)return null;for(var e=ht(),t=0;t<i.length;t++){var n=s(i[t],t);ft(e,n.x,n.y)}return e}(),c=T((function(e,n){var i=s(e,n);return l&&(i=function(e,t,n){var i=t.x1+t.w/2,r=t.y1+t.h/2;return{x:i+(n.x-i)*e,y:r+(n.y-r)*e}}(Math.abs(t.spacingFactor),u,i)),null!=t.transform&&(i=t.transform(e,i)),i}),a);if(t.animate){for(var h=0;h<i.length;h++){var d=i[h],f=c(d,h);if(null==t.animateFilter||t.animateFilter(d,h)){var p=d.animation({position:f,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(p)}else d.position(f)}if(t.fit){var g=r.animation({fit:{boundingBox:o.boundingBoxAt(c),padding:t.padding},duration:t.animationDuration,easing:t.animationEasing});e.animations.push(g)}else if(void 0!==t.zoom&&void 0!==t.pan){var m=r.animation({zoom:t.zoom,pan:t.pan,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(m)}e.animations.forEach((function(e){return e.play()})),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),qn.all(e.animations.map((function(e){return e.promise()}))).then((function(){e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e})}))}else i.positions(c),t.fit&&r.fit(t.eles,t.padding),null!=t.zoom&&r.zoom(t.zoom),t.pan&&r.pan(t.pan),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){return this.cy().makeLayout(I({},e,{eles:this}))}};function br(e,t,n){var i,r=n._private,o=r.styleCache=r.styleCache||[];return null!=(i=o[e])?i:i=o[e]=t(n)}function xr(e,t){return e=ce(e),function(n){return br(e,t,n)}}function wr(e,t){e=ce(e);var n=function(e){return t.call(e)};return function(){var t=this[0];if(t)return br(e,n,t)}}yr.createLayout=yr.makeLayout=yr.layout;var _r={recalculateRenderedStyle:function(e){var t=this.cy(),n=t.renderer(),i=t.styleEnabled();return n&&i&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e,t=this.cy(),n=function(e){return e._private.styleCache=null};return t.hasCompoundNodes()?((e=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(e.connectedEdges()),e.forEach(n)):this.forEach((function(e){n(e),e.connectedEdges().forEach(n)})),this},updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t.batching())return t._private.batchStyleEles.merge(this),this;var n=t.hasCompoundNodes(),i=t.style(),r=this;e=!(!e&&void 0!==e),n&&(r=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var o=i.apply(r);return e?o.emitAndNotify("style"):o.emit("style"),this},parsedStyle:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this[0],i=n.cy();if(i.styleEnabled()&&n){var r=n._private.style[e];return null!=r?r:t?i.style().getDefaultProperty(e):null}},numericStyle:function(e){var t=this[0];if(t.cy().styleEnabled()&&t){var n=t.pstyle(e);return void 0!==n.pfValue?n.pfValue:n.value}},numericStyleUnits:function(e){var t=this[0];if(t.cy().styleEnabled())return t?t.pstyle(e).units:void 0},renderedStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=this[0];return n?t.style().getRenderedStyle(n,e):void 0},style:function(e,t){var n=this.cy();if(!n.styleEnabled())return this;var i=n.style();if(g(e))i.applyBypass(this,e,!1),this.emitAndNotify("style");else if(d(e)){if(void 0===t){var r=this[0];return r?i.getStylePropertyValue(r,e):void 0}i.applyBypass(this,e,t,!1),this.emitAndNotify("style")}else if(void 0===e){var o=this[0];return o?i.getRawStyle(o):void 0}return this},removeStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=t.style();if(void 0===e)for(var i=0;i<this.length;i++)n.removeAllBypasses(this[i],!1);else{e=e.split(/\s+/);for(var r=0;r<this.length;r++)n.removeBypasses(this[r],e,!1)}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),n=this[0];if(n){var i=n._private,r=n.pstyle("opacity").value;if(!t)return r;var o=i.data.parent?n.parents():null;if(o)for(var a=0;a<o.length;a++)r*=o[a].pstyle("opacity").value;return r}},transparent:function(){if(!this.cy().styleEnabled())return!1;var e=this[0],t=e.cy().hasCompoundNodes();return e?t?0===e.effectiveOpacity():0===e.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function Er(e,t){var n=e._private.data.parent?e.parents():null;if(n)for(var i=0;i<n.length;i++)if(!t(n[i]))return!1;return!0}function Sr(e){var t=e.ok,n=e.edgeOkViaNode||e.ok,i=e.parentOk||e.ok;return function(){var e=this.cy();if(!e.styleEnabled())return!0;var r=this[0],o=e.hasCompoundNodes();if(r){var a=r._private;if(!t(r))return!1;if(r.isNode())return!o||Er(r,i);var s=a.source,l=a.target;return n(s)&&(!o||Er(s,n))&&(s===l||n(l)&&(!o||Er(l,n)))}}}var Cr=xr("eleTakesUpSpace",(function(e){return"element"===e.pstyle("display").value&&0!==e.width()&&(!e.isNode()||0!==e.height())}));_r.takesUpSpace=wr("takesUpSpace",Sr({ok:Cr}));var Tr=xr("eleInteractive",(function(e){return"yes"===e.pstyle("events").value&&"visible"===e.pstyle("visibility").value&&Cr(e)})),kr=xr("parentInteractive",(function(e){return"visible"===e.pstyle("visibility").value&&Cr(e)}));_r.interactive=wr("interactive",Sr({ok:Tr,parentOk:kr,edgeOkViaNode:Cr})),_r.noninteractive=function(){var e=this[0];if(e)return!e.interactive()};var Dr=xr("eleVisible",(function(e){return"visible"===e.pstyle("visibility").value&&0!==e.pstyle("opacity").pfValue&&Cr(e)}));_r.visible=wr("visible",Sr({ok:Dr,edgeOkViaNode:Cr})),_r.hidden=function(){var e=this[0];if(e)return!e.visible()},_r.isBundledBezier=wr("isBundledBezier",(function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()})),_r.bypass=_r.css=_r.style,_r.renderedCss=_r.renderedStyle,_r.removeBypass=_r.removeCss=_r.removeStyle,_r.pstyle=_r.parsedStyle;var Ar={};function Or(e){return function(){var t=arguments,n=[];if(2===t.length){var i=t[0],r=t[1];this.on(e.event,i,r)}else if(1===t.length&&f(t[0])){var o=t[0];this.on(e.event,o)}else if(0===t.length||1===t.length&&p(t[0])){for(var a=1===t.length?t[0]:null,s=0;s<this.length;s++){var l=this[s],u=!e.ableField||l._private[e.ableField],c=l._private[e.field]!=e.value;if(e.overrideAble){var h=e.overrideAble(l);if(void 0!==h&&(u=h,!h))return this}u&&(l._private[e.field]=e.value,c&&n.push(l))}var d=this.spawn(n);d.updateStyle(),d.emit(e.event),a&&d.emit(a)}return this}}function Pr(e){Ar[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var n=e.overrideField(t);if(void 0!==n)return n}return t._private[e.field]}},Ar[e.on]=Or({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),Ar[e.off]=Or({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}Pr({field:"locked",overrideField:function(e){return!!e.cy().autolock()||void 0},on:"lock",off:"unlock"}),Pr({field:"grabbable",overrideField:function(e){return!e.cy().autoungrabify()&&void 0},on:"grabify",off:"ungrabify"}),Pr({field:"selected",ableField:"selectable",overrideAble:function(e){return!e.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),Pr({field:"selectable",overrideField:function(e){return!e.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),Ar.deselect=Ar.unselect,Ar.grabbed=function(){var e=this[0];if(e)return e._private.grabbed},Pr({field:"active",on:"activate",off:"unactivate"}),Ar.inactive=function(){var e=this[0];if(e)return!e._private.active};var Mr={},Ir=function(e){return function(t){for(var n=[],i=0;i<this.length;i++){var r=this[i];if(r.isNode()){for(var o=!1,a=r.connectedEdges(),s=0;s<a.length;s++){var l=a[s],u=l.source(),c=l.target();if(e.noIncomingEdges&&c===r&&u!==r||e.noOutgoingEdges&&u===r&&c!==r){o=!0;break}}o||n.push(r)}}return this.spawn(n,{unique:!0}).filter(t)}},Nr=function(e){return function(t){for(var n=[],i=0;i<this.length;i++){var r=this[i];if(r.isNode())for(var o=r.connectedEdges(),a=0;a<o.length;a++){var s=o[a],l=s.source(),u=s.target();e.outgoing&&l===r?(n.push(s),n.push(u)):e.incoming&&u===r&&(n.push(s),n.push(l))}}return this.spawn(n,{unique:!0}).filter(t)}},Lr=function(e){return function(t){for(var n=this,i=[],r={};;){var o=e.outgoing?n.outgoers():n.incomers();if(0===o.length)break;for(var a=!1,s=0;s<o.length;s++){var l=o[s],u=l.id();r[u]||(r[u]=!0,i.push(l),a=!0)}if(!a)break;n=o}return this.spawn(i,{unique:!0}).filter(t)}};function Rr(e){return function(t){for(var n=[],i=0;i<this.length;i++){var r=this[i]._private[e.attr];r&&n.push(r)}return this.spawn(n,{unique:!0}).filter(t)}}function Br(e){return function(t){var n=[],i=this._private.cy,r=e||{};d(t)&&(t=i.$(t));for(var o=0;o<t.length;o++)for(var a=t[o]._private.edges,s=0;s<a.length;s++){var l=a[s],u=l._private.data,c=this.hasElementWithId(u.source)&&t.hasElementWithId(u.target),h=t.hasElementWithId(u.source)&&this.hasElementWithId(u.target);if(c||h){if(r.thisIsSrc||r.thisIsTgt){if(r.thisIsSrc&&!c)continue;if(r.thisIsTgt&&!h)continue}n.push(l)}}return this.spawn(n,{unique:!0})}}function jr(e){return e=I({},{codirected:!1},e),function(t){for(var n=[],i=this.edges(),r=e,o=0;o<i.length;o++)for(var a=i[o]._private,s=a.source,l=s._private.data.id,u=a.data.target,c=s._private.edges,h=0;h<c.length;h++){var d=c[h],f=d._private.data,p=f.target,g=f.source,m=p===u&&g===l;(r.codirected&&m||!r.codirected&&(m||l===p&&u===g))&&n.push(d)}return this.spawn(n,{unique:!0}).filter(t)}}Mr.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null},I(Mr,{roots:Ir({noIncomingEdges:!0}),leaves:Ir({noOutgoingEdges:!0}),outgoers:mi(Nr({outgoing:!0}),"outgoers"),successors:Lr({outgoing:!0}),incomers:mi(Nr({incoming:!0}),"incomers"),predecessors:Lr({incoming:!0})}),I(Mr,{neighborhood:mi((function(e){for(var t=[],n=this.nodes(),i=0;i<n.length;i++)for(var r=n[i],o=r.connectedEdges(),a=0;a<o.length;a++){var s=o[a],l=s.source(),u=s.target(),c=r===l?u:l;c.length>0&&t.push(c[0]),t.push(s[0])}return this.spawn(t,{unique:!0}).filter(e)}),"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}}),Mr.neighbourhood=Mr.neighborhood,Mr.closedNeighbourhood=Mr.closedNeighborhood,Mr.openNeighbourhood=Mr.openNeighborhood,I(Mr,{source:mi((function(e){var t,n=this[0];return n&&(t=n._private.source||n.cy().collection()),t&&e?t.filter(e):t}),"source"),target:mi((function(e){var t,n=this[0];return n&&(t=n._private.target||n.cy().collection()),t&&e?t.filter(e):t}),"target"),sources:Rr({attr:"source"}),targets:Rr({attr:"target"})}),I(Mr,{edgesWith:mi(Br(),"edgesWith"),edgesTo:mi(Br({thisIsSrc:!0}),"edgesTo")}),I(Mr,{connectedEdges:mi((function(e){for(var t=[],n=0;n<this.length;n++){var i=this[n];if(i.isNode())for(var r=i._private.edges,o=0;o<r.length;o++)t.push(r[o])}return this.spawn(t,{unique:!0}).filter(e)}),"connectedEdges"),connectedNodes:mi((function(e){for(var t=[],n=0;n<this.length;n++){var i=this[n];i.isEdge()&&(t.push(i.source()[0]),t.push(i.target()[0]))}return this.spawn(t,{unique:!0}).filter(e)}),"connectedNodes"),parallelEdges:mi(jr(),"parallelEdges"),codirectedEdges:mi(jr({codirected:!0}),"codirectedEdges")}),I(Mr,{components:function(e){var t=this,n=t.cy(),i=n.collection(),r=null==e?t.nodes():e.nodes(),o=[];null!=e&&r.empty()&&(r=e.sources());var a=function(e,t){i.merge(e),r.unmerge(e),t.merge(e)};if(r.empty())return t.spawn();var s=function(){var e=n.collection();o.push(e);var i=r[0];a(i,e),t.bfs({directed:!1,roots:i,visit:function(t){return a(t,e)}}),e.forEach((function(t){t.connectedEdges().forEach((function(t){e.has(t.source())&&e.has(t.target())&&e.merge(t)}))}))};do{s()}while(r.length>0);return o},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}}),Mr.componentsOf=Mr.components;var Fr=function(e,t,n){for(var i=null!=n?n:Ce();e.hasElementWithId(i);)i=Ce();return i},Hr=function(e,t,n){if(void 0!==e&&w(e)){var i=new Ie,r=!1;if(t){if(t.length>0&&g(t[0])&&!b(t[0])){r=!0;for(var o=[],a=new Le,s=0,l=t.length;s<l;s++){var u=t[s];null==u.data&&(u.data={});var c=u.data;if(null==c.id)c.id=Fr(e);else if(e.hasElementWithId(c.id)||a.has(c.id))continue;var h=new Re(e,u,!1);o.push(h),a.add(c.id)}t=o}}else t=[];this.length=0;for(var d=0,f=t.length;d<f;d++){var p=t[d][0];if(null!=p){var m=p._private.data.id;(null==n||n.unique&&!i.has(m))&&(i.set(m,{index:this.length,ele:p}),this[this.length]=p,this.length++)}}this._private={cy:e,map:i},r&&this.restore()}else we("A collection must have a reference to the core")},Yr=Re.prototype=Hr.prototype;Yr.instanceString=function(){return"collection"},Yr.spawn=function(e,t,n){return w(e)||(n=t,t=e,e=this.cy()),new Hr(e,t,n)},Yr.spawnSelf=function(){return this.spawn(this)},Yr.cy=function(){return this._private.cy},Yr.renderer=function(){return this._private.cy.renderer()},Yr.element=function(){return this[0]},Yr.collection=function(){return x(this)?this:new Hr(this._private.cy,[this])},Yr.unique=function(){return new Hr(this._private.cy,this,{unique:!0})},Yr.hasElementWithId=function(e){return this._private.map.has(e)},Yr.getElementById=function(e){var t=this._private.cy,n=this._private.map.get(e);return n?n.ele:new Hr(t)},Yr.$id=Yr.getElementById,Yr.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this[0]._private.data.id).index},Yr.indexOf=function(e){return this._private.map.get(e[0]._private.data.id).index},Yr.indexOfId=function(e){return this._private.map.get(e).index},Yr.json=function(e){var t=this.element(),n=this.cy();if(null==t&&e)return this;if(null!=t){var i=t._private;if(g(e)){if(n.startBatch(),e.data){t.data(e.data);var r=i.data;if(t.isEdge()){var o=!1,a={},s=e.data.source,l=e.data.target;null!=s&&s!==r.source&&(a.source=s,o=!0),null!=l&&l!==r.target&&(a.target=l,o=!0),o&&(t=t.move(a))}else{var u=e.data.parent;null==u&&null==r.parent||u===r.parent||(void 0===u&&(u=null),t=t.move({parent:u}))}}e.position&&t.position(e.position);var c=function(n,r,o){var a=e[n];null!=a&&a!==i[n]&&(a?t[r]():t[o]())};return c("removed","remove","restore"),c("selected","select","unselect"),c("selectable","selectify","unselectify"),c("locked","lock","unlock"),c("grabbable","grabify","ungrabify"),null!=e.classes&&t.classes(e.classes),n.endBatch(),this}if(void 0===e){var h={data:Se(i.data),position:Se(i.position),group:i.group,removed:i.removed,selected:i.selected,selectable:i.selectable,locked:i.locked,grabbable:i.grabbable,classes:null};h.classes="";var d=0;return i.classes.forEach((function(e){return h.classes+=0==d++?e:" "+e})),h}}},Yr.jsons=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t].json();e.push(n)}return e},Yr.clone=function(){for(var e=this.cy(),t=[],n=0;n<this.length;n++){var i=this[n].json(),r=new Re(e,i,!1);t.push(r)}return new Hr(e,t)},Yr.copy=Yr.clone,Yr.restore=function(){for(var e,t,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.cy(),o=r._private,a=[],s=[],l=0,u=this.length;l<u;l++){var c=this[l];i&&!c.removed()||(c.isNode()?a.push(c):s.push(c))}e=a.concat(s);var h=function(){e.splice(t,1),t--};for(t=0;t<e.length;t++){var f=e[t],p=f._private,g=p.data;if(f.clearTraversalCache(),i||p.removed)if(void 0===g.id)g.id=Fr(r);else if(m(g.id))g.id=""+g.id;else{if(E(g.id)||!d(g.id)){we("Can not create element with invalid string ID `"+g.id+"`"),h();continue}if(r.hasElementWithId(g.id)){we("Can not create second element with ID `"+g.id+"`"),h();continue}}var v=g.id;if(f.isNode()){var y=p.position;null==y.x&&(y.x=0),null==y.y&&(y.y=0)}if(f.isEdge()){for(var b=f,x=["source","target"],w=x.length,_=!1,S=0;S<w;S++){var C=x[S],T=g[C];m(T)&&(T=g[C]=""+g[C]),null==T||""===T?(we("Can not create edge `"+v+"` with unspecified "+C),_=!0):r.hasElementWithId(T)||(we("Can not create edge `"+v+"` with nonexistant "+C+" `"+T+"`"),_=!0)}if(_){h();continue}var k=r.getElementById(g.source),D=r.getElementById(g.target);k._private.edges.push(b),D._private.edges.push(b),b._private.source=k,b._private.target=D}p.map=new Ie,p.map.set(v,{ele:f,index:0}),p.removed=!1,i&&r.addToPool(f)}for(var A=0;A<a.length;A++){var O=a[A],P=O._private.data;m(P.parent)&&(P.parent=""+P.parent);var M=P.parent;if(null!=M){var I=r.getElementById(M);if(I.empty())P.parent=void 0;else{for(var N=!1,L=I;!L.empty();){if(O.same(L)){N=!0,P.parent=void 0;break}L=L.parent()}N||(I[0]._private.children.push(O),O._private.parent=I[0],o.hasCompoundNodes=!0)}}}if(e.length>0){for(var R=new Hr(r,e),B=0;B<R.length;B++){var j=R[B];j.isNode()||(j.parallelEdges().clearTraversalCache(),j.source().clearTraversalCache(),j.target().clearTraversalCache())}(o.hasCompoundNodes?r.collection().merge(R).merge(R.connectedNodes()).merge(R.parent()):R).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(n),n?R.emitAndNotify("add"):i&&R.emit("add")}return this},Yr.removed=function(){var e=this[0];return e&&e._private.removed},Yr.inside=function(){var e=this[0];return e&&!e._private.removed},Yr.remove=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[],i={},r=this._private.cy;function o(e){var r=i[e.id()];t&&e.removed()||r||(i[e.id()]=!0,e.isNode()?(n.push(e),function(e){for(var t=e._private.edges,n=0;n<t.length;n++)o(t[n])}(e),function(e){for(var t=e._private.children,n=0;n<t.length;n++)o(t[n])}(e)):n.unshift(e))}for(var a=0,s=this.length;a<s;a++)o(this[a]);function l(e,t){Ae(e._private.edges,t),e.clearTraversalCache()}function u(e){e.clearTraversalCache()}var c=[];function h(e,t){t=t[0];var n=(e=e[0])._private.children,i=e.id();Ae(n,t),t._private.parent=null,c.ids[i]||(c.ids[i]=!0,c.push(e))}c.ids={},this.dirtyCompoundBoundsCache(),t&&r.removeFromPool(n);for(var d=0;d<n.length;d++){var f=n[d];if(f.isEdge()){var p=f.source()[0],g=f.target()[0];l(p,f),l(g,f);for(var m=f.parallelEdges(),v=0;v<m.length;v++){var y=m[v];u(y),y.isBundledBezier()&&y.dirtyBoundingBoxCache()}}else{var b=f.parent();0!==b.length&&h(b,f)}t&&(f._private.removed=!0)}var x=r._private.elements;r._private.hasCompoundNodes=!1;for(var w=0;w<x.length;w++)if(x[w].isParent()){r._private.hasCompoundNodes=!0;break}var _=new Hr(this.cy(),n);_.size()>0&&(e?_.emitAndNotify("remove"):t&&_.emit("remove"));for(var E=0;E<c.length;E++){var S=c[E];t&&S.removed()||S.updateStyle()}return _},Yr.move=function(e){var t=this._private.cy,n=this;if(void 0!==e.source||void 0!==e.target){var i=e.source,r=e.target,o=null!=i&&t.hasElementWithId(i),a=null!=r&&t.hasElementWithId(r);(o||a)&&(t.batch((function(){n.remove(!1,!1),n.emitAndNotify("moveout");for(var e=0;e<n.length;e++){var t=n[e],s=t._private.data;t.isEdge()&&(o&&(s.source=i),a&&(s.target=r))}n.restore(!1,!1)})),n.emitAndNotify("move"))}else if(void 0!==e.parent){var s=e.parent;if(null===s||t.hasElementWithId(s)){var l=null===s?void 0:s;t.batch((function(){var e=n.remove(!1,!1);e.emitAndNotify("moveout");for(var t=0;t<n.length;t++){var i=n[t],r=i._private.data;i.isNode()&&(r.parent=l)}e.restore(!1,!1)})),n.emitAndNotify("move")}}return this},[Fn,Kn,Qn,fi,vi,Si,Ci,Zi,dr,fr,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},mr,yr,_r,Ar,Mr].forEach((function(e){I(Yr,e)}));var zr={add:function(e){var t,n=this;if(y(e)){var i=e;if(i._private.cy===n)t=i.restore();else{for(var r=[],o=0;o<i.length;o++)r.push(i[o].json());t=new Hr(n,r)}}else if(p(e))t=new Hr(n,e);else if(g(e)&&(p(e.nodes)||p(e.edges))){for(var a=e,s=[],l=["nodes","edges"],u=0,c=l.length;u<c;u++){var h=l[u],d=a[h];if(p(d))for(var f=0,m=d.length;f<m;f++){var v=I({group:h},d[f]);s.push(v)}}t=new Hr(n,s)}else t=new Re(n,e).collection();return t},remove:function(e){return y(e)||d(e)&&(e=this.$(e)),e.remove()}},Wr=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,n,i){var r={x:t.x+i.dx*n,v:t.v+i.dv*n,tension:t.tension,friction:t.friction};return{dx:r.v,dv:e(r)}}function n(n,i){var r={dx:n.v,dv:e(n)},o=t(n,.5*i,r),a=t(n,.5*i,o),s=t(n,i,a),l=1/6*(r.dv+2*(o.dv+a.dv)+s.dv);return n.x=n.x+1/6*(r.dx+2*(o.dx+a.dx)+s.dx)*i,n.v=n.v+l*i,n}return function e(t,i,r){var o,a,s,l={x:-1,v:0,tension:null,friction:null},u=[0],c=0;for(t=parseFloat(t)||500,i=parseFloat(i)||20,r=r||null,l.tension=t,l.friction=i,a=(o=null!==r)?(c=e(t,i))/r*.016:.016;s=n(s||l,a),u.push(1+s.x),c+=16,Math.abs(s.x)>1e-4&&Math.abs(s.v)>1e-4;);return o?function(e){return u[e*(u.length-1)|0]}:c}}(),$r=function(e,t,n,i){var r=function(e,t,n,i){var r=4,o=.001,a=1e-7,s=10,l=11,u=1/(l-1),c="undefined"!=typeof Float32Array;if(4!==arguments.length)return!1;for(var h=0;h<4;++h)if("number"!=typeof arguments[h]||isNaN(arguments[h])||!isFinite(arguments[h]))return!1;e=Math.min(e,1),n=Math.min(n,1),e=Math.max(e,0),n=Math.max(n,0);var d=c?new Float32Array(l):new Array(l);function f(e,t){return 1-3*t+3*e}function p(e,t){return 3*t-6*e}function g(e){return 3*e}function m(e,t,n){return((f(t,n)*e+p(t,n))*e+g(t))*e}function v(e,t,n){return 3*f(t,n)*e*e+2*p(t,n)*e+g(t)}function y(t){for(var i=0,c=1,h=l-1;c!==h&&d[c]<=t;++c)i+=u;var f=i+(t-d[--c])/(d[c+1]-d[c])*u,p=v(f,e,n);return p>=o?function(t,i){for(var o=0;o<r;++o){var a=v(i,e,n);if(0===a)return i;i-=(m(i,e,n)-t)/a}return i}(t,f):0===p?f:function(t,i,r){var o,l,u=0;do{(o=m(l=i+(r-i)/2,e,n)-t)>0?r=l:i=l}while(Math.abs(o)>a&&++u<s);return l}(t,i,i+u)}var b=!1,x=function(r){return b||(b=!0,e===t&&n===i||function(){for(var t=0;t<l;++t)d[t]=m(t*u,e,n)}()),e===t&&n===i?r:0===r?0:1===r?1:m(y(r),t,i)};x.getControlPoints=function(){return[{x:e,y:t},{x:n,y:i}]};var w="generateBezier("+[e,t,n,i]+")";return x.toString=function(){return w},x}(e,t,n,i);return function(e,t,n){return e+(t-e)*r(n)}},Vr={linear:function(e,t,n){return e+(t-e)*n},ease:$r(.25,.1,.25,1),"ease-in":$r(.42,0,1,1),"ease-out":$r(0,0,.58,1),"ease-in-out":$r(.42,0,.58,1),"ease-in-sine":$r(.47,0,.745,.715),"ease-out-sine":$r(.39,.575,.565,1),"ease-in-out-sine":$r(.445,.05,.55,.95),"ease-in-quad":$r(.55,.085,.68,.53),"ease-out-quad":$r(.25,.46,.45,.94),"ease-in-out-quad":$r(.455,.03,.515,.955),"ease-in-cubic":$r(.55,.055,.675,.19),"ease-out-cubic":$r(.215,.61,.355,1),"ease-in-out-cubic":$r(.645,.045,.355,1),"ease-in-quart":$r(.895,.03,.685,.22),"ease-out-quart":$r(.165,.84,.44,1),"ease-in-out-quart":$r(.77,0,.175,1),"ease-in-quint":$r(.755,.05,.855,.06),"ease-out-quint":$r(.23,1,.32,1),"ease-in-out-quint":$r(.86,0,.07,1),"ease-in-expo":$r(.95,.05,.795,.035),"ease-out-expo":$r(.19,1,.22,1),"ease-in-out-expo":$r(1,0,0,1),"ease-in-circ":$r(.6,.04,.98,.335),"ease-out-circ":$r(.075,.82,.165,1),"ease-in-out-circ":$r(.785,.135,.15,.86),spring:function(e,t,n){if(0===n)return Vr.linear;var i=Wr(e,t,n);return function(e,t,n){return e+(t-e)*i(n)}},"cubic-bezier":$r};function qr(e,t,n,i,r){if(1===i)return n;var o=r(t,n,i);return null==e?o:((e.roundValue||e.color)&&(o=Math.round(o)),void 0!==e.min&&(o=Math.max(o,e.min)),void 0!==e.max&&(o=Math.min(o,e.max)),o)}function Xr(e,t){return null!=e.pfValue||null!=e.value?null==e.pfValue||null!=t&&"%"===t.type.units?e.value:e.pfValue:e}function Ur(e,t,n,i,r){var o=null!=r?r.type:null;n<0?n=0:n>1&&(n=1);var a=Xr(e,r),s=Xr(t,r);if(m(a)&&m(s))return qr(o,a,s,n,i);if(p(a)&&p(s)){for(var l=[],u=0;u<s.length;u++){var c=a[u],h=s[u];if(null!=c&&null!=h){var d=qr(o,c,h,n,i);l.push(d)}else l.push(h)}return l}}function Gr(e,t,n,i){var r=!i,o=e._private,a=t._private,s=a.easing,l=a.startTime,u=(i?e:e.cy()).style();if(!a.easingImpl)if(null==s)a.easingImpl=Vr.linear;else{var c,h,f;c=d(s)?u.parse("transition-timing-function",s).value:s,d(c)?(h=c,f=[]):(h=c[1],f=c.slice(2).map((function(e){return+e}))),f.length>0?("spring"===h&&f.push(a.duration),a.easingImpl=Vr[h].apply(null,f)):a.easingImpl=Vr[h]}var p,g=a.easingImpl;if(p=0===a.duration?1:(n-l)/a.duration,a.applying&&(p=a.progress),p<0?p=0:p>1&&(p=1),null==a.delay){var m=a.startPosition,v=a.position;if(v&&r&&!e.locked()){var y={};Kr(m.x,v.x)&&(y.x=Ur(m.x,v.x,p,g)),Kr(m.y,v.y)&&(y.y=Ur(m.y,v.y,p,g)),e.position(y)}var b=a.startPan,x=a.pan,w=o.pan,_=null!=x&&i;_&&(Kr(b.x,x.x)&&(w.x=Ur(b.x,x.x,p,g)),Kr(b.y,x.y)&&(w.y=Ur(b.y,x.y,p,g)),e.emit("pan"));var E=a.startZoom,S=a.zoom,C=null!=S&&i;C&&(Kr(E,S)&&(o.zoom=Ur(E,S,p,g)),e.emit("zoom")),(_||C)&&e.emit("viewport");var T=a.style;if(T&&T.length>0&&r){for(var k=0;k<T.length;k++){var D=T[k],A=D.name,O=a.startStyle[A],P=Ur(O,D,p,g,u.properties[O.name]);u.overrideBypass(e,A,P)}e.emit("style")}}return a.progress=p,p}function Kr(e,t){return!(null==e||null==t||!(m(e)&&m(t)||e&&t))}function Qr(e,t,n,i){var r=t._private;r.started=!0,r.startTime=n-r.progress*r.duration}function Zr(e,t){var n=t._private.aniEles,i=[];function r(t,n){var r=t._private,o=r.animation.current,a=r.animation.queue,s=!1;if(!n&&"none"===t.pstyle("display").value){o=o.splice(0,o.length).concat(a.splice(0,a.length));for(var l=0;l<o.length;l++)o[l].stop()}if(0===o.length){var u=a.shift();u&&o.push(u)}for(var c=function(e){for(var t=e.length-1;t>=0;t--)(0,e[t])();e.splice(0,e.length)},h=o.length-1;h>=0;h--){var d=o[h],f=d._private;f.stopped?(o.splice(h,1),f.hooked=!1,f.playing=!1,f.started=!1,c(f.frames)):(f.playing||f.applying)&&(f.playing&&f.applying&&(f.applying=!1),f.started||Qr(0,d,e),Gr(t,d,e,n),f.applying&&(f.applying=!1),c(f.frames),null!=f.step&&f.step(e),d.completed()&&(o.splice(h,1),f.hooked=!1,f.playing=!1,f.started=!1,c(f.completes)),s=!0)}return n||0!==o.length||0!==a.length||i.push(t),s}for(var o=!1,a=0;a<n.length;a++){var s=r(n[a]);o=o||s}var l=r(t,!0);(o||l)&&(n.length>0?t.notify("draw",n):t.notify("draw")),n.unmerge(i),t.emit("step")}var Jr={animate:Gn.animate(),animation:Gn.animation(),animated:Gn.animated(),clearQueue:Gn.clearQueue(),delay:Gn.delay(),delayAnimation:Gn.delayAnimation(),stop:Gn.stop(),addToAnimationPool:function(e){this.styleEnabled()&&this._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,e.styleEnabled()){var t=e.renderer();t&&t.beforeRender?t.beforeRender((function(t,n){Zr(n,e)}),t.beforeRenderPriorities.animations):function t(){e._private.animationsRunning&&oe((function(n){Zr(n,e),t()}))}()}}},eo={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,n){var i=t.qualifier;return null==i||e!==n.target&&b(n.target)&&i.matches(n.target)},addEventFields:function(e,t){t.cy=e,t.target=e},callbackContext:function(e,t,n){return null!=t.qualifier?n.target:e}},to=function(e){return d(e)?new hi(e):e},no={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new ar(eo,this)),this},emitter:function(){return this._private.emitter},on:function(e,t,n){return this.emitter().on(e,to(t),n),this},removeListener:function(e,t,n){return this.emitter().removeListener(e,to(t),n),this},one:function(e,t,n){return this.emitter().one(e,to(t),n),this},once:function(e,t,n){return this.emitter().one(e,to(t),n),this},emit:function(e,t){return this.emitter().emit(e,t),this},emitAndNotify:function(e,t){return this.emit(e),this.notify(e,t),this}};Gn.eventAliasesOn(no);var io={png:function(e){return this._private.renderer.png(e=e||{})},jpg:function(e){var t=this._private.renderer;return(e=e||{}).bg=e.bg||"#fff",t.jpg(e)}};io.jpeg=io.jpg;var ro={layout:function(e){if(null!=e)if(null!=e.name){var t,n=e.name,i=this.extension("layout",n);if(null!=i)return t=d(e.eles)?this.$(e.eles):null!=e.eles?e.eles:this.$(),new i(I({},e,{cy:this,eles:t}));we("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else we("A `name` must be specified to make a layout");else we("Layout options must be specified to make a layout")}};ro.createLayout=ro.makeLayout=ro.layout;var oo={notify:function(e,t){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var i=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();null!=t&&i.merge(t)}else if(n.notificationsEnabled){var r=this.renderer();!this.isDestroyed()&&r&&r.notify(e,t)}},notifications:function(e){var t=this._private;return void 0===e?t.notificationsEnabled:(t.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return null==e.batchCount&&(e.batchCount=0),0===e.batchCount&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(0===e.batchCount)return this;if(e.batchCount--,0===e.batchCount){e.batchStyleEles.updateStyle();var t=this.renderer();Object.keys(e.batchNotifications).forEach((function(n){var i=e.batchNotifications[n];i.empty()?t.notify(n):t.notify(n,i)}))}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var t=this;return this.batch((function(){for(var n=Object.keys(e),i=0;i<n.length;i++){var r=n[i],o=e[r];t.getElementById(r).data(o)}}))}},ao=De({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),so={renderTo:function(e,t,n,i){return this._private.renderer.renderTo(e,t,n,i),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var t=this.extension("renderer",e.name);if(null!=t){void 0!==e.wheelSensitivity&&Ee("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var n=ao(e);n.cy=this,this._private.renderer=new t(n),this.notify("init")}else we("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){this.notify("destroy");var e=this.container();if(e)for(e._cyreg=null;e.childNodes.length>0;)e.removeChild(e.childNodes[0]);this._private.renderer=null,this.mutableElements().forEach((function(e){var t=e._private;t.rscratch={},t.rstyle={},t.animation.current=[],t.animation.queue=[]}))},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};so.invalidateDimensions=so.resize;var lo={collection:function(e,t){return d(e)?this.$(e):y(e)?e.collection():p(e)?new Hr(this,e,t):new Hr(this)},nodes:function(e){var t=this.$((function(e){return e.isNode()}));return e?t.filter(e):t},edges:function(e){var t=this.$((function(e){return e.isEdge()}));return e?t.filter(e):t},$:function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},mutableElements:function(){return this._private.elements}};lo.elements=lo.filter=lo.$;var uo={apply:function(e){var t=this._private,n=t.cy.collection();t.newStyle&&(t.contextStyles={},t.propDiffs={},this.cleanElements(e,!0));for(var i=0;i<e.length;i++){var r=e[i],o=this.getContextMeta(r);if(!o.empty){var a=this.getContextStyle(o),s=this.applyContextStyle(o,a,r);t.newStyle||this.updateTransitions(r,s.diffProps),this.updateStyleHints(r)&&n.merge(r)}}return t.newStyle=!1,n},getPropertiesDiff:function(e,t){var n=this._private.propDiffs=this._private.propDiffs||{},i=e+"-"+t,r=n[i];if(r)return r;for(var o=[],a={},s=0;s<this.length;s++){var l=this[s],u="t"===t[s],c="t"===e[s]!==u,h=l.mappedProperties.length>0;if(c||u&&h){var d=void 0;c&&h?d=l.properties:c?d=l.properties:h&&(d=l.mappedProperties);for(var f=0;f<d.length;f++){for(var p=d[f],g=p.name,m=!1,v=s+1;v<this.length&&("t"!==t[v]||!(m=null!=this[v].properties[p.name]));v++);a[g]||m||(a[g]=!0,o.push(g))}}}return n[i]=o,o},getContextMeta:function(e){var t,n="",i=e._private.styleCxtKey||"";this._private.newStyle&&(i="");for(var r=0;r<this.length;r++){var o=this[r];n+=o.selector&&o.selector.matches(e)?"t":"f"}return t=this.getPropertiesDiff(i,n),e._private.styleCxtKey=n,{key:n,diffPropNames:t,empty:0===t.length}},getContextStyle:function(e){var t=e.key,n=this._private.contextStyles=this._private.contextStyles||{};if(n[t])return n[t];for(var i={_private:{key:t}},r=0;r<this.length;r++){var o=this[r];if("t"===t[r])for(var a=0;a<o.properties.length;a++){var s=o.properties[a];i[s.name]=s}}return n[t]=i,i},applyContextStyle:function(e,t,n){for(var i=e.diffPropNames,r={},o=this.types,a=0;a<i.length;a++){var s=i[a],l=t[s],u=n.pstyle(s);if(!l){if(!u)continue;l=u.bypass?{name:s,deleteBypassed:!0}:{name:s,delete:!0}}if(u!==l){if(l.mapped===o.fn&&null!=u.mapping&&u.mapping.value===l.value){var c=u.mapping;if((c.fnValue=l.value(n))===c.prevFnValue)continue}var h=r[s]={prev:u};this.applyParsedProperty(n,l),h.next=n.pstyle(s),h.next&&h.next.bypass&&(h.next=h.next.bypassed)}}return{diffProps:r}},updateStyleHints:function(e){var t,n=e._private,i=this,r=i.propertyGroupKeys,o=function(e,t,n){return i.getPropertiesHash(e,t,n)},a=n.styleKey;if(e.removed())return!1;var s="nodes"===n.group,l=e._private.style;t=Object.keys(l);for(var u=0;u<r.length;u++)n.styleKeys[r[u]]=0;for(var c=function(e,t){return n.styleKeys[t]=le(e,n.styleKeys[t])},h=function(e,t){for(var n=0;n<e.length;n++)c(e.charCodeAt(n),t)},d=function(e){return-128<e&&e<128&&Math.floor(e)!==e?-(1024*e|0):e},f=0;f<t.length;f++){var p=t[f],g=l[p];if(null!=g){var m=this.properties[p],v=m.type,y=m.groupKey,b=void 0;null!=m.hashOverride?b=m.hashOverride(e,g):null!=g.pfValue&&(b=g.pfValue);var x=null==m.enums?g.value:null,w=null!=b,_=g.units;if(v.number&&(w||null!=x)){var E=w?b:x;if(v.multiple)for(var S=0;S<E.length;S++)c(d(E[S]),y);else c(d(E),y);w||null==_||h(_,y)}else h(g.strValue,y)}}for(var C=0,T=0;T<r.length;T++)C=le(n.styleKeys[r[T]],C);n.styleKey=C;var k=n.labelDimsKey=n.styleKeys.labelDimensions;if(n.labelKey=o(e,["label"],k),n.labelStyleKey=le(n.styleKeys.commonLabel,n.labelKey),s||(n.sourceLabelKey=o(e,["source-label"],k),n.sourceLabelStyleKey=le(n.styleKeys.commonLabel,n.sourceLabelKey),n.targetLabelKey=o(e,["target-label"],k),n.targetLabelStyleKey=le(n.styleKeys.commonLabel,n.targetLabelKey)),s){var D=n.styleKeys,A=D.pie;n.nodeKey=ue([D.nodeBorder,D.backgroundImage,D.compound,A],D.nodeBody),n.hasPie=0!=A}return a!==n.styleKey},clearStyleHints:function(e){var t=e._private;t.styleKeys={},t.styleKey=null,t.labelKey=null,t.labelStyleKey=null,t.sourceLabelKey=null,t.sourceLabelStyleKey=null,t.targetLabelKey=null,t.targetLabelStyleKey=null,t.nodeKey=null,t.hasPie=null},applyParsedProperty:function(e,t){var n,i=this,r=t,o=e._private.style,a=i.types,s=i.properties[r.name].type,l=r.bypass,u=o[r.name],c=u&&u.bypass,h=e._private,d=function(e){return null==e?null:null!=e.pfValue?e.pfValue:e.value},f=function(){var t=d(u),n=d(r);i.checkTriggers(e,r.name,t,n)};if("curve-style"===t.name&&e.isEdge()&&("bezier"!==t.value&&e.isLoop()||"haystack"===t.value&&(e.source().isParent()||e.target().isParent()))&&(r=t=this.parse(t.name,"bezier",l)),r.delete)return o[r.name]=void 0,f(),!0;if(r.deleteBypassed)return u?!!u.bypass&&(u.bypassed=void 0,f(),!0):(f(),!0);if(r.deleteBypass)return u?!!u.bypass&&(o[r.name]=u.bypassed,f(),!0):(f(),!0);var p=function(){Ee("Do not assign mappings to elements without corresponding data (i.e. ele `"+e.id()+"` has no mapping for property `"+r.name+"` with data field `"+r.field+"`); try a `["+r.field+"]` selector to limit scope to elements with `"+r.field+"` defined")};switch(r.mapped){case a.mapData:for(var g,v=r.field.split("."),y=h.data,b=0;b<v.length&&y;b++)y=y[v[b]];if(null==y)return p(),!1;if(!m(y))return Ee("Do not use continuous mappers without specifying numeric data (i.e. `"+r.field+": "+y+"` for `"+e.id()+"` is non-numeric)"),!1;var x=r.fieldMax-r.fieldMin;if((g=0===x?0:(y-r.fieldMin)/x)<0?g=0:g>1&&(g=1),s.color){var w=r.valueMin[0],_=r.valueMin[1],E=r.valueMax[1],S=r.valueMin[2],C=r.valueMax[2],T=null==r.valueMin[3]?1:r.valueMin[3],k=null==r.valueMax[3]?1:r.valueMax[3],D=[Math.round(w+(r.valueMax[0]-w)*g),Math.round(_+(E-_)*g),Math.round(S+(C-S)*g),Math.round(T+(k-T)*g)];n={bypass:r.bypass,name:r.name,value:D,strValue:"rgb("+D[0]+", "+D[1]+", "+D[2]+")"}}else{if(!s.number)return!1;n=this.parse(r.name,r.valueMin+(r.valueMax-r.valueMin)*g,r.bypass,"mapping")}if(!n)return p(),!1;n.mapping=r,r=n;break;case a.data:for(var A=r.field.split("."),O=h.data,P=0;P<A.length&&O;P++)O=O[A[P]];if(null!=O&&(n=this.parse(r.name,O,r.bypass,"mapping")),!n)return p(),!1;n.mapping=r,r=n;break;case a.fn:var M=null!=r.fnValue?r.fnValue:(0,r.value)(e);if(r.prevFnValue=M,null==M)return Ee("Custom function mappers may not return null (i.e. `"+r.name+"` for ele `"+e.id()+"` is null)"),!1;if(!(n=this.parse(r.name,M,r.bypass,"mapping")))return Ee("Custom function mappers may not return invalid values for the property type (i.e. `"+r.name+"` for ele `"+e.id()+"` is invalid)"),!1;n.mapping=Se(r),r=n;break;case void 0:break;default:return!1}return l?(r.bypassed=c?u.bypassed:u,o[r.name]=r):c?u.bypassed=r:o[r.name]=r,f(),!0},cleanElements:function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(this.clearStyleHints(i),i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),t)for(var r=i._private.style,o=Object.keys(r),a=0;a<o.length;a++){var s=o[a],l=r[s];null!=l&&(l.bypass?l.bypassed=null:r[s]=null)}else i._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateTransitions:function(e,t){var n=this,i=e._private,r=e.pstyle("transition-property").value,o=e.pstyle("transition-duration").pfValue,a=e.pstyle("transition-delay").pfValue;if(r.length>0&&o>0){for(var s={},l=!1,u=0;u<r.length;u++){var c=r[u],h=e.pstyle(c),d=t[c];if(d){var f=d.prev,g=null!=d.next?d.next:h,v=!1,y=void 0;f&&(m(f.pfValue)&&m(g.pfValue)?y=f.pfValue+1e-6*(v=g.pfValue-f.pfValue):m(f.value)&&m(g.value)?y=f.value+1e-6*(v=g.value-f.value):p(f.value)&&p(g.value)&&(v=f.value[0]!==g.value[0]||f.value[1]!==g.value[1]||f.value[2]!==g.value[2],y=f.strValue),v&&(s[c]=g.strValue,this.applyBypass(e,c,y),l=!0))}}if(!l)return;i.transitioning=!0,new qn((function(t){a>0?e.delayAnimation(a).play().promise().then(t):t()})).then((function(){return e.animation({style:s,duration:o,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()})).then((function(){n.removeBypasses(e,r),e.emitAndNotify("style"),i.transitioning=!1}))}else i.transitioning&&(this.removeBypasses(e,r),e.emitAndNotify("style"),i.transitioning=!1)},checkTrigger:function(e,t,n,i,r,o){var a=this.properties[t],s=r(a);null!=s&&s(n,i)&&o(a)},checkZOrderTrigger:function(e,t,n,i){var r=this;this.checkTrigger(e,t,n,i,(function(e){return e.triggersZOrder}),(function(){r._private.cy.notify("zorder",e)}))},checkBoundsTrigger:function(e,t,n,i){this.checkTrigger(e,t,n,i,(function(e){return e.triggersBounds}),(function(r){e.dirtyCompoundBoundsCache(),e.dirtyBoundingBoxCache(),"bezier"!==e.pstyle("curve-style").value&&("curve-style"!==t||"bezier"!==n&&"bezier"!==i)||!r.triggersBoundsOfParallelBeziers||e.parallelEdges().forEach((function(e){e.isBundledBezier()&&e.dirtyBoundingBoxCache()}))}))},checkTriggers:function(e,t,n,i){e.dirtyStyleCache(),this.checkZOrderTrigger(e,t,n,i),this.checkBoundsTrigger(e,t,n,i)}},co={applyBypass:function(e,t,n,i){var r=[];if("*"===t||"**"===t){if(void 0!==n)for(var o=0;o<this.properties.length;o++){var a=this.parse(this.properties[o].name,n,!0);a&&r.push(a)}}else if(d(t)){var s=this.parse(t,n,!0);s&&r.push(s)}else{if(!g(t))return!1;var l=t;i=n;for(var u=Object.keys(l),c=0;c<u.length;c++){var h=u[c],f=l[h];if(void 0===f&&(f=l[D(h)]),void 0!==f){var p=this.parse(h,f,!0);p&&r.push(p)}}}if(0===r.length)return!1;for(var m=!1,v=0;v<e.length;v++){for(var y=e[v],b={},x=void 0,w=0;w<r.length;w++){var _=r[w];if(i){var E=y.pstyle(_.name);x=b[_.name]={prev:E}}m=this.applyParsedProperty(y,_)||m,i&&(x.next=y.pstyle(_.name))}m&&this.updateStyleHints(y),i&&this.updateTransitions(y,b,!0)}return m},overrideBypass:function(e,t,n){t=k(t);for(var i=0;i<e.length;i++){var r=e[i],o=r._private.style[t],a=this.properties[t].type,s=a.color,l=a.mutiple,u=o?null!=o.pfValue?o.pfValue:o.value:null;o&&o.bypass?(o.value=n,null!=o.pfValue&&(o.pfValue=n),o.strValue=s?"rgb("+n.join(",")+")":l?n.join(" "):""+n,this.updateStyleHints(r)):this.applyBypass(r,t,n),this.checkTriggers(r,t,u,n)}},removeAllBypasses:function(e,t){return this.removeBypasses(e,this.propertyNames,t)},removeBypasses:function(e,t,n){for(var i=0;i<e.length;i++){for(var r=e[i],o={},a=0;a<t.length;a++){var s=t[a],l=this.properties[s],u=r.pstyle(l.name);if(u&&u.bypass){var c=this.parse(s,"",!0),h=o[l.name]={prev:u};this.applyParsedProperty(r,c),h.next=r.pstyle(l.name)}}this.updateStyleHints(r),n&&this.updateTransitions(r,o,!0)}}},ho={getEmSizeInPixels:function(){var e=this.containerCss("font-size");return null!=e?parseFloat(e):1},containerCss:function(e){var t=this._private.cy.container();if(o&&t&&o.getComputedStyle)return o.getComputedStyle(t).getPropertyValue(e)}},fo={getRenderedStyle:function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)},getRawStyle:function(e,t){if(e=e[0]){for(var n={},i=0;i<this.properties.length;i++){var r=this.properties[i],o=this.getStylePropertyValue(e,r.name,t);null!=o&&(n[r.name]=o,n[D(r.name)]=o)}return n}},getIndexedStyle:function(e,t,n,i){var r=e.pstyle(t)[n][i];return null!=r?r:e.cy().style().getDefaultProperty(t)[n][0]},getStylePropertyValue:function(e,t,n){if(e=e[0]){var i=this.properties[t];i.alias&&(i=i.pointsTo);var r=i.type,o=e.pstyle(i.name);if(o){var a=o.value,s=o.units,l=o.strValue;if(n&&r.number&&null!=a&&m(a)){var u=e.cy().zoom(),c=function(e){return e*u},h=function(e,t){return c(e)+t},f=p(a);return(f?s.every((function(e){return null!=e})):null!=s)?f?a.map((function(e,t){return h(e,s[t])})).join(" "):h(a,s):f?a.map((function(e){return d(e)?e:""+c(e)})).join(" "):""+c(a)}if(null!=l)return l}return null}},getAnimationStartStyle:function(e,t){for(var n={},i=0;i<t.length;i++){var r=t[i].name,o=e.pstyle(r);void 0!==o&&(o=g(o)?this.parse(r,o.strValue):this.parse(r,o)),o&&(n[r]=o)}return n},getPropsList:function(e){var t=[],n=e,i=this.properties;if(n)for(var r=Object.keys(n),o=0;o<r.length;o++){var a=r[o],s=n[a],l=i[a]||i[k(a)],u=this.parse(l.name,s);u&&t.push(u)}return t},getNonDefaultPropertiesHash:function(e,t,n){var i,r,o,a,s,l=n;for(a=0;a<t.length;a++)if(null!=(i=e.pstyle(t[a],!1)))if(null!=i.pfValue)l=le(o,l);else for(r=i.strValue,s=0;s<r.length;s++)o=r.charCodeAt(s),l=le(o,l);return l}};fo.getPropertiesHash=fo.getNonDefaultPropertiesHash;var po={appendFromJson:function(e){for(var t=0;t<e.length;t++){var n=e[t],i=n.selector,r=n.style||n.css,o=Object.keys(r);this.selector(i);for(var a=0;a<o.length;a++){var s=o[a];this.css(s,r[s])}}return this},fromJson:function(e){return this.resetToDefault(),this.appendFromJson(e),this},json:function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var n=this[t],i=n.selector,r=n.properties,o={},a=0;a<r.length;a++){var s=r[a];o[s.name]=s.strValue}e.push({selector:i?i.toString():"core",style:o})}return e}},go={appendFromString:function(e){var t,n,i,r=""+e;function o(){r=r.length>t.length?r.substr(t.length):""}function a(){n=n.length>i.length?n.substr(i.length):""}for(r=r.replace(/[\/][*](\s|.)+?[*][\/]/g,"");!r.match(/^\s*$/);){var s=r.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!s){Ee("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+r);break}t=s[0];var l=s[1];if("core"!==l&&new hi(l).invalid)Ee("Skipping parsing of block: Invalid selector found in string stylesheet: "+l),o();else{var u=s[2],c=!1;n=u;for(var h=[];!n.match(/^\s*$/);){var d=n.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!d){Ee("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+u),c=!0;break}i=d[0];var f=d[1],p=d[2];this.properties[f]?this.parse(f,p)?(h.push({name:f,val:p}),a()):(Ee("Skipping property: Invalid property definition in: "+i),a()):(Ee("Skipping property: Invalid property name in: "+i),a())}if(c){o();break}this.selector(l);for(var g=0;g<h.length;g++){var m=h[g];this.css(m.name,m.val)}o()}}return this},fromString:function(e){return this.resetToDefault(),this.appendFromString(e),this}},mo={};!function(){var e=P,t=function(e){return"^"+e+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},n=function(t){var n=e+"|\\w+|rgb[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|hsl[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+t+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+n+")\\s*\\,\\s*("+n+")\\)$"},i=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];mo.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","square","pentagon","hexagon","concavehexagon","concave-hexagon","heptagon","octagon","tag","star","diamond","vee","rhomboid","polygon"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:t("data")},layoutData:{mapping:!0,regex:t("layoutData")},scratch:{mapping:!0,regex:t("scratch")},mapData:{mapping:!0,regex:n("mapData")},mapLayoutData:{mapping:!0,regex:n("mapLayoutData")},mapScratch:{mapping:!0,regex:n("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:i,singleRegexMatchValue:!0},urls:{regexes:i,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(e,t){switch(e.length){case 2:return"deg"!==t[0]&&"rad"!==t[0]&&"deg"!==t[1]&&"rad"!==t[1];case 1:return d(e[0])||"deg"===t[0]||"rad"===t[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]}};var r={zeroNonZero:function(e,t){return(null==e||null==t)&&e!==t||0==e&&0!=t||0!=e&&0==t},any:function(e,t){return e!=t}},o=mo.types,a=[{name:"label",type:o.text,triggersBounds:r.any},{name:"text-rotation",type:o.textRotation,triggersBounds:r.any},{name:"text-margin-x",type:o.bidirectionalSize,triggersBounds:r.any},{name:"text-margin-y",type:o.bidirectionalSize,triggersBounds:r.any}],s=[{name:"source-label",type:o.text,triggersBounds:r.any},{name:"source-text-rotation",type:o.textRotation,triggersBounds:r.any},{name:"source-text-margin-x",type:o.bidirectionalSize,triggersBounds:r.any},{name:"source-text-margin-y",type:o.bidirectionalSize,triggersBounds:r.any},{name:"source-text-offset",type:o.size,triggersBounds:r.any}],l=[{name:"target-label",type:o.text,triggersBounds:r.any},{name:"target-text-rotation",type:o.textRotation,triggersBounds:r.any},{name:"target-text-margin-x",type:o.bidirectionalSize,triggersBounds:r.any},{name:"target-text-margin-y",type:o.bidirectionalSize,triggersBounds:r.any},{name:"target-text-offset",type:o.size,triggersBounds:r.any}],u=[{name:"font-family",type:o.fontFamily,triggersBounds:r.any},{name:"font-style",type:o.fontStyle,triggersBounds:r.any},{name:"font-weight",type:o.fontWeight,triggersBounds:r.any},{name:"font-size",type:o.size,triggersBounds:r.any},{name:"text-transform",type:o.textTransform,triggersBounds:r.any},{name:"text-wrap",type:o.textWrap,triggersBounds:r.any},{name:"text-overflow-wrap",type:o.textOverflowWrap,triggersBounds:r.any},{name:"text-max-width",type:o.size,triggersBounds:r.any},{name:"text-outline-width",type:o.size,triggersBounds:r.any},{name:"line-height",type:o.positiveNumber,triggersBounds:r.any}],c=[{name:"text-valign",type:o.valign,triggersBounds:r.any},{name:"text-halign",type:o.halign,triggersBounds:r.any},{name:"color",type:o.color},{name:"text-outline-color",type:o.color},{name:"text-outline-opacity",type:o.zeroOneNumber},{name:"text-background-color",type:o.color},{name:"text-background-opacity",type:o.zeroOneNumber},{name:"text-background-padding",type:o.size,triggersBounds:r.any},{name:"text-border-opacity",type:o.zeroOneNumber},{name:"text-border-color",type:o.color},{name:"text-border-width",type:o.size,triggersBounds:r.any},{name:"text-border-style",type:o.borderStyle,triggersBounds:r.any},{name:"text-background-shape",type:o.textBackgroundShape,triggersBounds:r.any},{name:"text-justification",type:o.justification}],h=[{name:"events",type:o.bool},{name:"text-events",type:o.bool}],f=[{name:"display",type:o.display,triggersZOrder:r.any,triggersBounds:r.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:o.visibility,triggersZOrder:r.any},{name:"opacity",type:o.zeroOneNumber,triggersZOrder:r.zeroNonZero},{name:"text-opacity",type:o.zeroOneNumber},{name:"min-zoomed-font-size",type:o.size},{name:"z-compound-depth",type:o.zCompoundDepth,triggersZOrder:r.any},{name:"z-index-compare",type:o.zIndexCompare,triggersZOrder:r.any},{name:"z-index",type:o.nonNegativeInt,triggersZOrder:r.any}],p=[{name:"overlay-padding",type:o.size,triggersBounds:r.any},{name:"overlay-color",type:o.color},{name:"overlay-opacity",type:o.zeroOneNumber,triggersBounds:r.zeroNonZero}],g=[{name:"transition-property",type:o.propList},{name:"transition-duration",type:o.time},{name:"transition-delay",type:o.time},{name:"transition-timing-function",type:o.easing}],m=function(e,t){return"label"===t.value?-e.poolIndex():t.pfValue},v=[{name:"height",type:o.nodeSize,triggersBounds:r.any,hashOverride:m},{name:"width",type:o.nodeSize,triggersBounds:r.any,hashOverride:m},{name:"shape",type:o.nodeShape,triggersBounds:r.any},{name:"shape-polygon-points",type:o.polygonPointList,triggersBounds:r.any},{name:"background-color",type:o.color},{name:"background-fill",type:o.fill},{name:"background-opacity",type:o.zeroOneNumber},{name:"background-blacken",type:o.nOneOneNumber},{name:"background-gradient-stop-colors",type:o.colors},{name:"background-gradient-stop-positions",type:o.percentages},{name:"background-gradient-direction",type:o.gradientDirection},{name:"padding",type:o.sizeMaybePercent,triggersBounds:r.any},{name:"padding-relative-to",type:o.paddingRelativeTo,triggersBounds:r.any},{name:"bounds-expansion",type:o.size,triggersBounds:r.any}],y=[{name:"border-color",type:o.color},{name:"border-opacity",type:o.zeroOneNumber},{name:"border-width",type:o.size,triggersBounds:r.any},{name:"border-style",type:o.borderStyle}],b=[{name:"background-image",type:o.urls},{name:"background-image-crossorigin",type:o.bgCrossOrigin},{name:"background-image-opacity",type:o.zeroOneNumbers},{name:"background-position-x",type:o.bgPos},{name:"background-position-y",type:o.bgPos},{name:"background-width-relative-to",type:o.bgRelativeTo},{name:"background-height-relative-to",type:o.bgRelativeTo},{name:"background-repeat",type:o.bgRepeat},{name:"background-fit",type:o.bgFit},{name:"background-clip",type:o.bgClip},{name:"background-width",type:o.bgWH},{name:"background-height",type:o.bgWH},{name:"background-offset-x",type:o.bgPos},{name:"background-offset-y",type:o.bgPos}],x=[{name:"position",type:o.position,triggersBounds:r.any},{name:"compound-sizing-wrt-labels",type:o.compoundIncludeLabels,triggersBounds:r.any},{name:"min-width",type:o.size,triggersBounds:r.any},{name:"min-width-bias-left",type:o.sizeMaybePercent,triggersBounds:r.any},{name:"min-width-bias-right",type:o.sizeMaybePercent,triggersBounds:r.any},{name:"min-height",type:o.size,triggersBounds:r.any},{name:"min-height-bias-top",type:o.sizeMaybePercent,triggersBounds:r.any},{name:"min-height-bias-bottom",type:o.sizeMaybePercent,triggersBounds:r.any}],w=[{name:"line-style",type:o.lineStyle},{name:"line-color",type:o.color},{name:"line-fill",type:o.fill},{name:"line-cap",type:o.lineCap},{name:"line-dash-pattern",type:o.numbers},{name:"line-dash-offset",type:o.number},{name:"line-gradient-stop-colors",type:o.colors},{name:"line-gradient-stop-positions",type:o.percentages},{name:"curve-style",type:o.curveStyle,triggersBounds:r.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:o.zeroOneNumber,triggersBounds:r.any},{name:"source-endpoint",type:o.edgeEndpoint,triggersBounds:r.any},{name:"target-endpoint",type:o.edgeEndpoint,triggersBounds:r.any},{name:"control-point-step-size",type:o.size,triggersBounds:r.any},{name:"control-point-distances",type:o.bidirectionalSizes,triggersBounds:r.any},{name:"control-point-weights",type:o.numbers,triggersBounds:r.any},{name:"segment-distances",type:o.bidirectionalSizes,triggersBounds:r.any},{name:"segment-weights",type:o.numbers,triggersBounds:r.any},{name:"taxi-turn",type:o.sizeMaybePercent,triggersBounds:r.any},{name:"taxi-turn-min-distance",type:o.size,triggersBounds:r.any},{name:"taxi-direction",type:o.axisDirection,triggersBounds:r.any},{name:"edge-distances",type:o.edgeDistances,triggersBounds:r.any},{name:"arrow-scale",type:o.positiveNumber,triggersBounds:r.any},{name:"loop-direction",type:o.angle,triggersBounds:r.any},{name:"loop-sweep",type:o.angle,triggersBounds:r.any},{name:"source-distance-from-node",type:o.size,triggersBounds:r.any},{name:"target-distance-from-node",type:o.size,triggersBounds:r.any}],_=[{name:"ghost",type:o.bool,triggersBounds:r.any},{name:"ghost-offset-x",type:o.bidirectionalSize,triggersBounds:r.any},{name:"ghost-offset-y",type:o.bidirectionalSize,triggersBounds:r.any},{name:"ghost-opacity",type:o.zeroOneNumber}],E=[{name:"selection-box-color",type:o.color},{name:"selection-box-opacity",type:o.zeroOneNumber},{name:"selection-box-border-color",type:o.color},{name:"selection-box-border-width",type:o.size},{name:"active-bg-color",type:o.color},{name:"active-bg-opacity",type:o.zeroOneNumber},{name:"active-bg-size",type:o.size},{name:"outside-texture-bg-color",type:o.color},{name:"outside-texture-bg-opacity",type:o.zeroOneNumber}],S=[];mo.pieBackgroundN=16,S.push({name:"pie-size",type:o.sizeMaybePercent});for(var C=1;C<=mo.pieBackgroundN;C++)S.push({name:"pie-"+C+"-background-color",type:o.color}),S.push({name:"pie-"+C+"-background-size",type:o.percent}),S.push({name:"pie-"+C+"-background-opacity",type:o.zeroOneNumber});var T=[],k=mo.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:o.arrowShape,triggersBounds:r.any},{name:"arrow-color",type:o.color},{name:"arrow-fill",type:o.arrowFill}].forEach((function(e){k.forEach((function(t){T.push({name:t+"-"+e.name,type:e.type,triggersBounds:e.triggersBounds})}))}),{});var D=mo.properties=[].concat(h,g,f,p,_,c,u,a,s,l,v,y,b,S,x,w,T,E),A=mo.propertyGroups={behavior:h,transition:g,visibility:f,overlay:p,ghost:_,commonLabel:c,labelDimensions:u,mainLabel:a,sourceLabel:s,targetLabel:l,nodeBody:v,nodeBorder:y,backgroundImage:b,pie:S,compound:x,edgeLine:w,edgeArrow:T,core:E},O=mo.propertyGroupNames={};(mo.propertyGroupKeys=Object.keys(A)).forEach((function(e){O[e]=A[e].map((function(e){return e.name})),A[e].forEach((function(t){return t.groupKey=e}))}));var M=mo.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];mo.propertyNames=D.map((function(e){return e.name}));for(var I=0;I<D.length;I++){var N=D[I];D[N.name]=N}for(var L=0;L<M.length;L++){var R=M[L],B={name:R.name,alias:!0,pointsTo:D[R.pointsTo]};D.push(B),D[R.name]=B}}(),mo.getDefaultProperty=function(e){return this.getDefaultProperties()[e]},mo.getDefaultProperties=function(){var e=this._private;if(null!=e.defaultProperties)return e.defaultProperties;for(var t=I({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce((function(e,t){for(var n=1;n<=mo.pieBackgroundN;n++)e[t.name.replace("{{i}}",n)]=t.value;return e}),{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce((function(e,t){return mo.arrowPrefixes.forEach((function(n){e[n+"-"+t.name]=t.value})),e}),{})),n={},i=0;i<this.properties.length;i++){var r=this.properties[i];if(!r.pointsTo){var o=r.name,a=this.parse(o,t[o]);n[o]=a}}return e.defaultProperties=n,e.defaultProperties},mo.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var vo={parse:function(e,t,n,i){if(f(t))return this.parseImplWarn(e,t,n,i);var r,o=he(e,""+t,n?"t":"f","mapping"===i||!0===i||!1===i||null==i?"dontcare":i),a=this.propCache=this.propCache||[];return(r=a[o])||(r=a[o]=this.parseImplWarn(e,t,n,i)),(n||"mapping"===i)&&(r=Se(r))&&(r.value=Se(r.value)),r},parseImplWarn:function(e,t,n,i){var r=this.parseImpl(e,t,n,i);return r||null==t||Ee("The style property `".concat(e,": ").concat(t,"` is invalid")),r},parseImpl:function(e,t,n,i){e=k(e);var r=this.properties[e],o=t,a=this.types;if(!r)return null;if(void 0===t)return null;r.alias&&(e=(r=r.pointsTo).name);var s=d(t);s&&(t=t.trim());var l,u,c=r.type;if(!c)return null;if(n&&(""===t||null===t))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(f(t))return{name:e,value:t,strValue:"fn",mapped:a.fn,bypass:n};if(!s||i||t.length<7||"a"!==t[1]);else{if(t.length>=7&&"d"===t[0]&&(l=new RegExp(a.data.regex).exec(t)))return!n&&{name:e,value:l,strValue:""+t,mapped:a.data,field:l[1],bypass:n};if(t.length>=10&&"m"===t[0]&&(u=new RegExp(a.mapData.regex).exec(t))){if(n)return!1;if(c.multiple)return!1;var h=a.mapData;if(!c.color&&!c.number)return!1;var g=this.parse(e,u[4]);if(!g||g.mapped)return!1;var v=this.parse(e,u[5]);if(!v||v.mapped)return!1;if(g.pfValue===v.pfValue||g.strValue===v.strValue)return Ee("`"+e+": "+t+"` is not a valid mapper because the output range is zero; converting to `"+e+": "+g.strValue+"`"),this.parse(e,g.strValue);if(c.color){var y=g.value,b=v.value;if(!(y[0]!==b[0]||y[1]!==b[1]||y[2]!==b[2]||y[3]!==b[3]&&(null!=y[3]&&1!==y[3]||null!=b[3]&&1!==b[3])))return!1}return{name:e,value:u,strValue:""+t,mapped:h,field:u[1],fieldMin:parseFloat(u[2]),fieldMax:parseFloat(u[3]),valueMin:g.value,valueMax:v.value,bypass:n}}}if(c.multiple&&"multiple"!==i){var x;if(x=s?t.split(/\s+/):p(t)?t:[t],c.evenMultiple&&x.length%2!=0)return null;for(var w=[],_=[],E=[],S="",C=!1,T=0;T<x.length;T++){var D=this.parse(e,x[T],n,"multiple");C=C||d(D.value),w.push(D.value),E.push(null!=D.pfValue?D.pfValue:D.value),_.push(D.units),S+=(T>0?" ":"")+D.strValue}return c.validate&&!c.validate(w,_)?null:c.singleEnum&&C?1===w.length&&d(w[0])?{name:e,value:w[0],strValue:w[0],bypass:n}:null:{name:e,value:w,pfValue:E,strValue:S,bypass:n,units:_}}var A,O=function(){for(var i=0;i<c.enums.length;i++)if(c.enums[i]===t)return{name:e,value:t,strValue:""+t,bypass:n};return null};if(c.number){var M,I="px";if(c.units&&(M=c.units),c.implicitUnits&&(I=c.implicitUnits),!c.unitless)if(s){var L="px|em"+(c.allowPercent?"|\\%":"");M&&(L=M);var R=t.match("^("+P+")("+L+")?$");R&&(t=R[1],M=R[2]||I)}else M&&!c.implicitUnits||(M=I);if(t=parseFloat(t),isNaN(t)&&void 0===c.enums)return null;if(isNaN(t)&&void 0!==c.enums)return t=o,O();if(c.integer&&(!m(A=t)||Math.floor(A)!==A))return null;if(void 0!==c.min&&(t<c.min||c.strictMin&&t===c.min)||void 0!==c.max&&(t>c.max||c.strictMax&&t===c.max))return null;var B={name:e,value:t,strValue:""+t+(M||""),units:M,bypass:n};return B.pfValue=c.unitless||"px"!==M&&"em"!==M?t:"px"!==M&&M?this.getEmSizeInPixels()*t:t,"ms"!==M&&"s"!==M||(B.pfValue="ms"===M?t:1e3*t),"deg"!==M&&"rad"!==M||(B.pfValue="rad"===M?t:function(e){return Math.PI*e/180}(t)),"%"===M&&(B.pfValue=t/100),B}if(c.propList){var j=[],F=""+t;if("none"===F);else{for(var H=F.split(/\s*,\s*|\s+/),Y=0;Y<H.length;Y++){var z=H[Y].trim();this.properties[z]?j.push(z):Ee("`"+z+"` is not a valid property name")}if(0===j.length)return null}return{name:e,value:j,strValue:0===j.length?"none":j.join(" "),bypass:n}}if(c.color){var W=N(t);return W?{name:e,value:W,pfValue:W,strValue:"rgb("+W[0]+","+W[1]+","+W[2]+")",bypass:n}:null}if(c.regex||c.regexes){if(c.enums){var $=O();if($)return $}for(var V=c.regexes?c.regexes:[c.regex],q=0;q<V.length;q++){var X=new RegExp(V[q]).exec(t);if(X)return{name:e,value:c.singleRegexMatchValue?X[1]:X,strValue:""+t,bypass:n}}return null}return c.string?{name:e,value:""+t,strValue:""+t,bypass:n}:c.enums?O():null}},yo=function e(t){if(!(this instanceof e))return new e(t);w(t)?(this._private={cy:t,coreStyle:{}},this.length=0,this.resetToDefault()):we("A style must have a core reference")},bo=yo.prototype;bo.instanceString=function(){return"style"},bo.clear=function(){for(var e=0;e<this.length;e++)this[e]=void 0;return this.length=0,this._private.newStyle=!0,this},bo.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},bo.core=function(e){return this._private.coreStyle[e]||this.getDefaultProperty(e)},bo.selector=function(e){var t="core"===e?null:new hi(e),n=this.length++;return this[n]={selector:t,properties:[],mappedProperties:[],index:n},this},bo.css=function(){var e=arguments;if(1===e.length)for(var t=e[0],n=0;n<this.properties.length;n++){var i=this.properties[n],r=t[i.name];void 0===r&&(r=t[D(i.name)]),void 0!==r&&this.cssRule(i.name,r)}else 2===e.length&&this.cssRule(e[0],e[1]);return this},bo.style=bo.css,bo.cssRule=function(e,t){var n=this.parse(e,t);if(n){var i=this.length-1;this[i].properties.push(n),this[i].properties[n.name]=n,n.name.match(/pie-(\d+)-background-size/)&&n.value&&(this._private.hasPie=!0),n.mapped&&this[i].mappedProperties.push(n),!this[i].selector&&(this._private.coreStyle[n.name]=n)}return this},bo.append=function(e){return _(e)?e.appendToStyle(this):p(e)?this.appendFromJson(e):d(e)&&this.appendFromString(e),this},yo.fromJson=function(e,t){var n=new yo(e);return n.fromJson(t),n},yo.fromString=function(e,t){return new yo(e).fromString(t)},[uo,co,ho,fo,po,go,mo,vo].forEach((function(e){I(bo,e)})),yo.types=bo.types,yo.properties=bo.properties,yo.propertyGroups=bo.propertyGroups,yo.propertyGroupNames=bo.propertyGroupNames,yo.propertyGroupKeys=bo.propertyGroupKeys;var xo={style:function(e){return e&&this.setStyle(e).update(),this._private.style},setStyle:function(e){var t=this._private;return t.style=_(e)?e.generateStyle(this):p(e)?yo.fromJson(this,e):d(e)?yo.fromString(this,e):yo(this),t.style}},wo={autolock:function(e){return void 0===e?this._private.autolock:(this._private.autolock=!!e,this)},autoungrabify:function(e){return void 0===e?this._private.autoungrabify:(this._private.autoungrabify=!!e,this)},autounselectify:function(e){return void 0===e?this._private.autounselectify:(this._private.autounselectify=!!e,this)},selectionType:function(e){var t=this._private;return null==t.selectionType&&(t.selectionType="single"),void 0===e?t.selectionType:("additive"!==e&&"single"!==e||(t.selectionType=e),this)},panningEnabled:function(e){return void 0===e?this._private.panningEnabled:(this._private.panningEnabled=!!e,this)},userPanningEnabled:function(e){return void 0===e?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!e,this)},zoomingEnabled:function(e){return void 0===e?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!e,this)},userZoomingEnabled:function(e){return void 0===e?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!e,this)},boxSelectionEnabled:function(e){return void 0===e?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!e,this)},pan:function(){var e,t,n,i,r,o=arguments,a=this._private.pan;switch(o.length){case 0:return a;case 1:if(d(o[0]))return a[e=o[0]];if(g(o[0])){if(!this._private.panningEnabled)return this;i=(n=o[0]).x,r=n.y,m(i)&&(a.x=i),m(r)&&(a.y=r),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;t=o[1],"x"!==(e=o[0])&&"y"!==e||!m(t)||(a[e]=t),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(e,t){var n,i,r,o,a,s=arguments,l=this._private.pan;if(!this._private.panningEnabled)return this;switch(s.length){case 1:g(e)&&(o=(r=s[0]).x,a=r.y,m(o)&&(l.x+=o),m(a)&&(l.y+=a),this.emit("pan viewport"));break;case 2:i=t,"x"!==(n=e)&&"y"!==n||!m(i)||(l[n]+=i),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(e,t){var n=this.getFitViewport(e,t);if(n){var i=this._private;i.zoom=n.zoom,i.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,t){var n,i;if(m(e)&&void 0===t&&(t=e,e=void 0),this._private.panningEnabled&&this._private.zoomingEnabled&&(d(e)?e=this.$(e):g(i=e)&&m(i.x1)&&m(i.x2)&&m(i.y1)&&m(i.y2)?((n={x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}).w=n.x2-n.x1,n.h=n.y2-n.y1):y(e)||(e=this.mutableElements()),!y(e)||!e.empty())){n=n||e.boundingBox();var r,o=this.width(),a=this.height();if(t=m(t)?t:0,!isNaN(o)&&!isNaN(a)&&o>0&&a>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0)return{zoom:r=(r=(r=Math.min((o-2*t)/n.w,(a-2*t)/n.h))>this._private.maxZoom?this._private.maxZoom:r)<this._private.minZoom?this._private.minZoom:r,pan:{x:(o-r*(n.x1+n.x2))/2,y:(a-r*(n.y1+n.y2))/2}}}},zoomRange:function(e,t){var n=this._private;if(null==t){var i=e;e=i.min,t=i.max}return m(e)&&m(t)&&e<=t?(n.minZoom=e,n.maxZoom=t):m(e)&&void 0===t&&e<=n.maxZoom?n.minZoom=e:m(t)&&void 0===e&&t>=n.minZoom&&(n.maxZoom=t),this},minZoom:function(e){return void 0===e?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return void 0===e?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var t,n,i=this._private,r=i.pan,o=i.zoom,a=!1;return i.zoomingEnabled||(a=!0),m(e)?n=e:g(e)&&(n=e.level,null!=e.position?t=Je(e.position,o,r):null!=e.renderedPosition&&(t=e.renderedPosition),null==t||i.panningEnabled||(a=!0)),n=(n=n>i.maxZoom?i.maxZoom:n)<i.minZoom?i.minZoom:n,!a&&m(n)&&n!==o&&(null==t||m(t.x)&&m(t.y))?null!=t?{zoomed:!0,panned:!0,zoom:n,pan:{x:-n/o*(t.x-r.x)+t.x,y:-n/o*(t.y-r.y)+t.y}}:{zoomed:!0,panned:!1,zoom:n,pan:r}:null},zoom:function(e){if(void 0===e)return this._private.zoom;var t=this.getZoomedViewport(e),n=this._private;return null!=t&&t.zoomed?(n.zoom=t.zoom,t.panned&&(n.pan.x=t.pan.x,n.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(e){var t=this._private,n=!0,i=!0,r=[],o=!1,a=!1;if(!e)return this;if(m(e.zoom)||(n=!1),g(e.pan)||(i=!1),!n&&!i)return this;if(n){var s=e.zoom;s<t.minZoom||s>t.maxZoom||!t.zoomingEnabled?o=!0:(t.zoom=s,r.push("zoom"))}if(i&&(!o||!e.cancelOnFailedZoom)&&t.panningEnabled){var l=e.pan;m(l.x)&&(t.pan.x=l.x,a=!1),m(l.y)&&(t.pan.y=l.y,a=!1),a||r.push("pan")}return r.length>0&&(r.push("viewport"),this.emit(r.join(" ")),this.notify("viewport")),this},center:function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,t){if(this._private.panningEnabled){if(d(e)){var n=e;e=this.mutableElements().filter(n)}else y(e)||(e=this.mutableElements());if(0!==e.length){var i=e.boundingBox(),r=this.width(),o=this.height();return{x:(r-(t=void 0===t?this._private.zoom:t)*(i.x1+i.x2))/2,y:(o-t*(i.y1+i.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e,t,n=this._private,i=n.container;return n.sizeCache=n.sizeCache||(i?(e=o.getComputedStyle(i),{width:i.clientWidth-(t=function(t){return parseFloat(e.getPropertyValue(t))})("padding-left")-t("padding-right"),height:i.clientHeight-t("padding-top")-t("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,t=this._private.zoom,n=this.renderedExtent(),i={x1:(n.x1-e.x)/t,x2:(n.x2-e.x)/t,y1:(n.y1-e.y)/t,y2:(n.y2-e.y)/t};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}}};wo.centre=wo.center,wo.autolockNodes=wo.autolock,wo.autoungrabifyNodes=wo.autoungrabify;var _o=function(e){var t=this,n=(e=I({},e)).container;n&&!v(n)&&v(n[0])&&(n=n[0]);var i=n?n._cyreg:null;(i=i||{})&&i.cy&&(i.cy.destroy(),i={});var r=i.readies=i.readies||[];n&&(n._cyreg=i),i.cy=t;var a=void 0!==o&&void 0!==n&&!e.headless,s=e;s.layout=I({name:a?"grid":"null"},s.layout),s.renderer=I({name:a?"canvas":"null"},s.renderer);var l=function(e,t,n){return void 0!==t?t:void 0!==n?n:e},u=this._private={container:n,ready:!1,options:s,elements:new Hr(this),listeners:[],aniEles:new Hr(this),scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:l(!0,s.zoomingEnabled),userZoomingEnabled:l(!0,s.userZoomingEnabled),panningEnabled:l(!0,s.panningEnabled),userPanningEnabled:l(!0,s.userPanningEnabled),boxSelectionEnabled:l(!0,s.boxSelectionEnabled),autolock:l(!1,s.autolock,s.autolockNodes),autoungrabify:l(!1,s.autoungrabify,s.autoungrabifyNodes),autounselectify:l(!1,s.autounselectify),styleEnabled:void 0===s.styleEnabled?a:s.styleEnabled,zoom:m(s.zoom)?s.zoom:1,pan:{x:g(s.pan)&&m(s.pan.x)?s.pan.x:0,y:g(s.pan)&&m(s.pan.y)?s.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1};this.createEmitter(),this.selectionType(s.selectionType),this.zoomRange({min:s.minZoom,max:s.maxZoom}),u.styleEnabled&&t.setStyle([]);var c=I({},s,s.renderer);t.initRenderer(c),function(e,t){if(e.some(S))return qn.all(e).then(t);t(e)}([s.style,s.elements],(function(e){var n=e[0],o=e[1];u.styleEnabled&&t.style().append(n),function(e,n,i){t.notifications(!1);var r=t.mutableElements();r.length>0&&r.remove(),null!=e&&(g(e)||p(e))&&t.add(e),t.one("layoutready",(function(e){t.notifications(!0),t.emit(e),t.one("load",n),t.emitAndNotify("load")})).one("layoutstop",(function(){t.one("done",i),t.emit("done")}));var o=I({},t._private.options.layout);o.eles=t.elements(),t.layout(o).run()}(o,(function(){t.startAnimationLoop(),u.ready=!0,f(s.ready)&&t.on("ready",s.ready);for(var e=0;e<r.length;e++)t.on("ready",r[e]);i&&(i.readies=[]),t.emit("ready")}),s.done)}))},Eo=_o.prototype;I(Eo,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},isDestroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.isDestroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},mount:function(e,t){if(null!=e){var n=this,i=n._private,r=i.options,o=t||{name:"canvas"};return r.renderer=o,!v(e)&&v(e[0])&&(e=e[0]),n.stopAnimationLoop(),n.destroyRenderer(),i.container=e,i.styleEnabled=!0,n.invalidateSize(),n.initRenderer(o),n.startAnimationLoop(),n.style(r.style),n.emit("mount"),n}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return Se(this._private.options)},json:function(e){var t=this,n=t._private,i=t.mutableElements();if(g(e)){if(t.startBatch(),e.elements){var r={},o=function(e,n){for(var i=[],o=[],a=0;a<e.length;a++){var s=e[a],l=s.data.id,u=t.getElementById(l);r[l]=!0,0!==u.length?o.push({ele:u,json:s}):n?(s.group=n,i.push(s)):i.push(s)}t.add(i);for(var c=0;c<o.length;c++){var h=o[c];h.ele.json(h.json)}};if(p(e.elements))o(e.elements);else for(var a=["nodes","edges"],s=0;s<a.length;s++){var l=a[s],u=e.elements[l];p(u)&&o(u,l)}var c=t.collection();i.filter((function(e){return!r[e.id()]})).forEach((function(e){e.isParent()?c.merge(e):e.remove()})),c.forEach((function(e){return e.children().move({parent:null})})),c.forEach((function(e){return function(e){return t.getElementById(e.id())}(e).remove()}))}e.style&&t.style(e.style),null!=e.zoom&&e.zoom!==n.zoom&&t.zoom(e.zoom),e.pan&&(e.pan.x===n.pan.x&&e.pan.y===n.pan.y||t.pan(e.pan));for(var h=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify"],d=0;d<h.length;d++){var f=h[d];null!=e[f]&&t[f](e[f])}return t.endBatch(),this}var m={};e?m.elements=this.elements().map((function(e){return e.json()})):(m.elements={},i.forEach((function(e){var t=e.group();m.elements[t]||(m.elements[t]=[]),m.elements[t].push(e.json())}))),this._private.styleEnabled&&(m.style=t.style().json());var v=n.options;return m.zoomingEnabled=n.zoomingEnabled,m.userZoomingEnabled=n.userZoomingEnabled,m.zoom=n.zoom,m.minZoom=n.minZoom,m.maxZoom=n.maxZoom,m.panningEnabled=n.panningEnabled,m.userPanningEnabled=n.userPanningEnabled,m.pan=Se(n.pan),m.boxSelectionEnabled=n.boxSelectionEnabled,m.renderer=Se(v.renderer),m.hideEdgesOnViewport=v.hideEdgesOnViewport,m.textureOnViewport=v.textureOnViewport,m.wheelSensitivity=v.wheelSensitivity,m.motionBlur=v.motionBlur,m},scratch:Gn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0}),removeScratch:Gn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0})}),Eo.$id=Eo.getElementById,[zr,Jr,no,io,ro,oo,so,lo,xo,wo].forEach((function(e){I(Eo,e)}));var So={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}},Co=function(e){return e.scratch("breadthfirst")},To=function(e,t){return e.scratch("breadthfirst",t)};function ko(e){this.options=I({},So,e)}ko.prototype.run=function(){var e,t=this.options,n=t,i=t.cy,r=n.eles,o=r.nodes().filter((function(e){return!e.isParent()})),a=r,s=n.directed,l=n.maximal||n.maximalAdjustments>0,u=ht(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()});if(y(n.roots))e=n.roots;else if(p(n.roots)){for(var c=[],h=0;h<n.roots.length;h++){var f=i.getElementById(n.roots[h]);c.push(f)}e=i.collection(c)}else if(d(n.roots))e=i.$(n.roots);else if(s)e=o.roots();else{var g=r.components();e=i.collection();for(var m=function(t){var n=g[t],i=n.maxDegree(!1),r=n.filter((function(e){return e.degree(!1)===i}));e=e.add(r)},v=0;v<g.length;v++)m(v)}var b=[],x={},w=function(e,t){null==b[t]&&(b[t]=[]);var n=b[t].length;b[t].push(e),To(e,{index:n,depth:t})};a.bfs({roots:e,directed:n.directed,visit:function(e,t,n,i,r){var o=e[0],a=o.id();w(o,r),x[a]=!0}});for(var _=[],E=0;E<o.length;E++){var S=o[E];x[S.id()]||_.push(S)}var C=function(e){for(var t=b[e],n=0;n<t.length;n++){var i=t[n];null!=i?To(i,{depth:e,index:n}):(t.splice(n,1),n--)}},T=function(){for(var e=0;e<b.length;e++)C(e)},k=function(e,t){for(var n=Co(e),i=e.incomers().filter((function(e){return e.isNode()&&r.has(e)})),o=-1,a=e.id(),s=0;s<i.length;s++){var l=Co(i[s]);o=Math.max(o,l.depth)}return n.depth<=o&&(t[a]?null:(function(e,t){var n=Co(e);b[n.depth][n.index]=null,w(e,t)}(e,o+1),t[a]=!0,!0))};if(s&&l){var D=[],A={},O=function(e){return D.push(e)};for(o.forEach((function(e){return D.push(e)}));D.length>0;){var P=D.shift(),I=k(P,A);if(I)P.outgoers().filter((function(e){return e.isNode()&&r.has(e)})).forEach(O);else if(null===I){Ee("Detected double maximal shift for node `"+P.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}T();var N=0;if(n.avoidOverlap)for(var L=0;L<o.length;L++){var R=o[L].layoutDimensions(n);N=Math.max(N,R.w,R.h)}for(var B={},j=function(e){if(B[e.id()])return B[e.id()];for(var t=Co(e).depth,n=e.neighborhood(),i=0,r=0,a=0;a<n.length;a++){var s=n[a];if(!s.isEdge()&&!s.isParent()&&o.has(s)){var l=Co(s),u=l.index,c=l.depth;null!=u&&null!=c&&c<t&&(i+=u/(b[c].length-1),r++)}}return i/=r=Math.max(1,r),0===r&&(i=0),B[e.id()]=i,i},F=function(e,t){var n=j(e)-j(t);return 0===n?M(e.id(),t.id()):n},H=0;H<b.length;H++)b[H].sort(F),C(H);for(var Y=[],z=0;z<_.length;z++)Y.push(_[z]);b.unshift(Y),T();for(var W=0,$=0;$<b.length;$++)W=Math.max(b[$].length,W);var V=u.x1+u.w/2,q=u.x1+u.h/2,X=b.reduce((function(e,t){return Math.max(e,t.length)}),0);return o.layoutPositions(this,n,(function(e){var t=Co(e),i=t.depth,r=t.index,o=b[i].length,a=Math.max(u.w/((n.grid?X:o)+1),N),s=Math.max(u.h/(b.length+1),N),l=Math.min(u.w/2/b.length,u.h/2/b.length);if(l=Math.max(l,N),n.circle){var c=l*i+l-(b.length>0&&b[0].length<=3?l/2:0),h=2*Math.PI/b[i].length*r;return 0===i&&1===b[0].length&&(c=1),{x:V+c*Math.cos(h),y:q+c*Math.sin(h)}}return{x:V+(r+1-(o+1)/2)*a,y:(i+1)*s}})),this};var Do={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Ao(e){this.options=I({},Do,e)}Ao.prototype.run=function(){var e=this.options,t=e,n=e.cy,i=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,r=t.eles.nodes().not(":parent");t.sort&&(r=r.sort(t.sort));for(var o,a=ht(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),s=a.x1+a.w/2,l=a.y1+a.h/2,u=(void 0===t.sweep?2*Math.PI-2*Math.PI/r.length:t.sweep)/Math.max(1,r.length-1),c=0,h=0;h<r.length;h++){var d=r[h].layoutDimensions(t);c=Math.max(c,d.w,d.h)}if(o=m(t.radius)?t.radius:r.length<=1?0:Math.min(a.h,a.w)/2-c,r.length>1&&t.avoidOverlap){c*=1.75;var f=Math.cos(u)-Math.cos(0),p=Math.sin(u)-Math.sin(0),g=Math.sqrt(c*c/(f*f+p*p));o=Math.max(g,o)}return r.layoutPositions(this,t,(function(e,n){var r=t.startAngle+n*u*(i?1:-1),a=o*Math.cos(r),c=o*Math.sin(r);return{x:s+a,y:l+c}})),this};var Oo,Po={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Mo(e){this.options=I({},Po,e)}Mo.prototype.run=function(){for(var e=this.options,t=e,n=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,i=e.cy,r=t.eles.nodes().not(":parent"),o=ht(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()}),a=o.x1+o.w/2,s=o.y1+o.h/2,l=[],u=0,c=0;c<r.length;c++){var h,d=r[c];h=t.concentric(d),l.push({value:h,node:d}),d._private.scratch.concentric=h}r.updateStyle();for(var f=0;f<r.length;f++){var p=r[f].layoutDimensions(t);u=Math.max(u,p.w,p.h)}l.sort((function(e,t){return t.value-e.value}));for(var g=t.levelWidth(r),m=[[]],v=m[0],y=0;y<l.length;y++){var b=l[y];v.length>0&&Math.abs(v[0].value-b.value)>=g&&m.push(v=[]),v.push(b)}var x=u+t.minNodeSpacing;if(!t.avoidOverlap){var w=m.length>0&&m[0].length>1,_=(Math.min(o.w,o.h)/2-x)/(m.length+w?1:0);x=Math.min(x,_)}for(var E=0,S=0;S<m.length;S++){var C=m[S],T=void 0===t.sweep?2*Math.PI-2*Math.PI/C.length:t.sweep,k=C.dTheta=T/Math.max(1,C.length-1);if(C.length>1&&t.avoidOverlap){var D=Math.cos(k)-Math.cos(0),A=Math.sin(k)-Math.sin(0),O=Math.sqrt(x*x/(D*D+A*A));E=Math.max(O,E)}C.r=E,E+=x}if(t.equidistant){for(var P=0,M=0,I=0;I<m.length;I++)P=Math.max(P,m[I].r-M);M=0;for(var N=0;N<m.length;N++){var L=m[N];0===N&&(M=L.r),L.r=M,M+=P}}for(var R={},B=0;B<m.length;B++)for(var j=m[B],F=j.dTheta,H=j.r,Y=0;Y<j.length;Y++){var z=j[Y],W=t.startAngle+(n?1:-1)*F*Y,$={x:a+H*Math.cos(W),y:s+H*Math.sin(W)};R[z.node.id()]=$}return r.layoutPositions(this,t,(function(e){var t=e.id();return R[t]})),this};var Io={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,t){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1,weaver:!1};function No(e){this.options=I({},Io,e),this.options.layout=this}No.prototype.run=function(){var e=this.options,t=e.cy,n=this,i=this.thread,r=e.weaver?e.weaver.Thread:null,o={listeners:[],on:function(e,t){return this.listeners.push({event:e,callback:t}),this},trigger:function(e){return d(e)&&(e={type:e}),this.listeners.filter((function(t){return t.event===e.type})).forEach((function(t){t.callback(e)})),this},pass:function(e){return this.pass=e,this},run:function(e){var t=this.pass;return new qn((function(n){n(e(t))}))},stop:function(){return this},stopped:function(){return!0}};i&&!i.stopped()||(i=this.thread=r?new r:o),n.stopped=!1,!0!==e.animate&&!1!==e.animate||n.emit({type:"layoutstart",layout:n}),Oo=!0===e.debug;var a=Lo(t,n,e);Oo&&(void 0)(a),e.randomize&&jo(a,t);var s=Date.now(),l=!1,u=function(n){n=n||{},l&&!n.next||!n.force&&Date.now()-s<e.animationThreshold||(l=!0,oe((function(){Ho(a,t,e),!0===e.fit&&t.fit(e.padding),l=!1,n.next&&n.next()})))};i.on("message",(function(e){a.layoutNodes=e.message,u()})),i.pass({layoutInfo:a,options:{animate:e.animate,refresh:e.refresh,componentSpacing:e.componentSpacing,nodeOverlap:e.nodeOverlap,nestingFactor:e.nestingFactor,gravity:e.gravity,numIter:e.numIter,initialTemp:e.initialTemp,coolingFactor:e.coolingFactor,minTemp:e.minTemp}}).run((function(e){var t=e.layoutInfo,n=e.options,i=function(e){return-e+2*e*Math.random()},r=function(e,t,n,r){if(e.cmptId===t.cmptId||n.isCompound){var o=t.positionX-e.positionX,l=t.positionY-e.positionY;0===o&&0===l&&(o=i(1),l=i(1));var u=a(e,t,o,l);if(u>0)var c=(d=r.nodeOverlap*u)*o/(y=Math.sqrt(o*o+l*l)),h=d*l/y;else{var d,f=s(e,o,l),p=s(t,-1*o,-1*l),g=p.x-f.x,m=p.y-f.y,v=g*g+m*m,y=Math.sqrt(v);c=(d=(e.nodeRepulsion+t.nodeRepulsion)/v)*g/y,h=d*m/y}e.isLocked||(e.offsetX-=c,e.offsetY-=h),t.isLocked||(t.offsetX+=c,t.offsetY+=h)}},a=function(e,t,n,i){if(n>0)var r=e.maxX-t.minX;else r=t.maxX-e.minX;if(i>0)var o=e.maxY-t.minY;else o=t.maxY-e.minY;return r>=0&&o>=0?Math.sqrt(r*r+o*o):0},s=function(e,t,n){var i=e.positionX,r=e.positionY,o=e.height||1,a=e.width||1,s=n/t,l=o/a,u={};return 0===t&&0<n?(u.x=i,u.y=r+o/2,u):0===t&&0>n?(u.x=i,u.y=r+o/2,u):0<t&&-1*l<=s&&s<=l?(u.x=i+a/2,u.y=r+a*n/2/t,u):0>t&&-1*l<=s&&s<=l?(u.x=i-a/2,u.y=r-a*n/2/t,u):0<n&&(s<=-1*l||s>=l)?(u.x=i+o*t/2/n,u.y=r+o/2,u):0>n&&(s<=-1*l||s>=l)?(u.x=i-o*t/2/n,u.y=r-o/2,u):u},l=function(e,t,n){var i=Math.sqrt(e*e+t*t);if(i>n)var r={x:n*e/i,y:n*t/i};else r={x:e,y:t};return r},u=function e(t,n){var i=t.parentId;if(null!=i){var r=n.layoutNodes[n.idToIndex[i]],o=!1;return(null==r.maxX||t.maxX+r.padRight>r.maxX)&&(r.maxX=t.maxX+r.padRight,o=!0),(null==r.minX||t.minX-r.padLeft<r.minX)&&(r.minX=t.minX-r.padLeft,o=!0),(null==r.maxY||t.maxY+r.padBottom>r.maxY)&&(r.maxY=t.maxY+r.padBottom,o=!0),(null==r.minY||t.minY-r.padTop<r.minY)&&(r.minY=t.minY-r.padTop,o=!0),o?e(r,n):void 0}},c=0;do{for(var h=0;(h<n.refresh||0===n.refresh)&&c<n.numIter;){var d;if(function(e,t,n){(function(e,t){for(var n=0;n<e.graphSet.length;n++)for(var i=e.graphSet[n],o=i.length,a=0;a<o;a++)for(var s=e.layoutNodes[e.idToIndex[i[a]]],l=a+1;l<o;l++)r(s,e.layoutNodes[e.idToIndex[i[l]]],e,t)})(e,t),function(e,t){for(var n=0;n<e.edgeSize;n++){var i=e.layoutEdges[n],r=e.layoutNodes[e.idToIndex[i.sourceId]],o=e.layoutNodes[e.idToIndex[i.targetId]],a=o.positionX-r.positionX,l=o.positionY-r.positionY;if(0!==a||0!==l){var u=s(r,a,l),c=s(o,-1*a,-1*l),h=c.x-u.x,d=c.y-u.y,f=Math.sqrt(h*h+d*d),p=Math.pow(i.idealLength-f,2)/i.elasticity;if(0!==f)var g=p*h/f,m=p*d/f;else g=0,m=0;r.isLocked||(r.offsetX+=g,r.offsetY+=m),o.isLocked||(o.offsetX-=g,o.offsetY-=m)}}}(e),function(e,t){for(var n=0;n<e.graphSet.length;n++){var i=e.graphSet[n],r=i.length;if(0===n)var o=e.clientHeight/2,a=e.clientWidth/2;else{var s=e.layoutNodes[e.idToIndex[e.layoutNodes[e.idToIndex[i[0]]].parentId]];o=s.positionX,a=s.positionY}for(var l=0;l<r;l++){var u=e.layoutNodes[e.idToIndex[i[l]]];if(!u.isLocked){var c=o-u.positionX,h=a-u.positionY,d=Math.sqrt(c*c+h*h);if(d>1){var f=t.gravity*h/d;u.offsetX+=t.gravity*c/d,u.offsetY+=f}}}}}(e,t),function(e,t){var n=[],i=0,r=-1;for(n.push.apply(n,e.graphSet[0]),r+=e.graphSet[0].length;i<=r;){var o=n[i++],a=e.layoutNodes[e.idToIndex[o]],s=a.children;if(0<s.length&&!a.isLocked){for(var l=a.offsetX,u=a.offsetY,c=0;c<s.length;c++){var h=e.layoutNodes[e.idToIndex[s[c]]];h.offsetX+=l,h.offsetY+=u,n[++r]=s[c]}a.offsetX=0,a.offsetY=0}}}(e),function(e,t){for(var n=0;n<e.nodeSize;n++)0<(r=e.layoutNodes[n]).children.length&&(r.maxX=void 0,r.minX=void 0,r.maxY=void 0,r.minY=void 0);for(n=0;n<e.nodeSize;n++)if(!(0<(r=e.layoutNodes[n]).children.length||r.isLocked)){var i=l(r.offsetX,r.offsetY,e.temperature);r.positionX+=i.x,r.positionY+=i.y,r.offsetX=0,r.offsetY=0,r.minX=r.positionX-r.width,r.maxX=r.positionX+r.width,r.minY=r.positionY-r.height,r.maxY=r.positionY+r.height,u(r,e)}for(n=0;n<e.nodeSize;n++){var r;0<(r=e.layoutNodes[n]).children.length&&!r.isLocked&&(r.positionX=(r.maxX+r.minX)/2,r.positionY=(r.maxY+r.minY)/2,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY)}}(e)}(t,n),t.temperature=t.temperature*n.coolingFactor,!(d=!(t.temperature<n.minTemp)))break;h++,c++}!0===n.animate&&o.trigger({type:"message",message:t.layoutNodes})}while(d&&c+1<n.numIter);return function(e,n){for(var i=t.layoutNodes,r=[],o=0;o<i.length;o++){var a=i[o],s=a.cmptId;(r[s]=r[s]||[]).push(a)}var l=0;for(o=0;o<r.length;o++)if(m=r[o]){m.x1=1/0,m.x2=-1/0,m.y1=1/0,m.y2=-1/0;for(var u=0;u<m.length;u++){var c=m[u];m.x1=Math.min(m.x1,c.positionX-c.width/2),m.x2=Math.max(m.x2,c.positionX+c.width/2),m.y1=Math.min(m.y1,c.positionY-c.height/2),m.y2=Math.max(m.y2,c.positionY+c.height/2)}m.w=m.x2-m.x1,m.h=m.y2-m.y1,l+=m.w*m.h}r.sort((function(e,t){return t.w*t.h-e.w*e.h}));var h=0,d=0,f=0,p=0,g=Math.sqrt(l)*t.clientWidth/t.clientHeight;for(o=0;o<r.length;o++){var m;if(m=r[o]){for(u=0;u<m.length;u++)(c=m[u]).isLocked||(c.positionX+=h,c.positionY+=d);h+=m.w+n.componentSpacing,f+=m.w+n.componentSpacing,p=Math.max(p,m.h),f>g&&(d+=p+n.componentSpacing,h=0,f=0,p=0)}}}(0,n),t})).then((function(e){a.layoutNodes=e.layoutNodes,i.stop(),c()}));var c=function(){if(!0===e.animate||!1===e.animate)u({force:!0,next:function(){n.one("layoutstop",e.stop),n.emit({type:"layoutstop",layout:n})}});else{var t=e.eles.nodes(),i=Fo(a,e,t);t.layoutPositions(n,e,i)}};return this},No.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},No.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Lo=function(e,t,n){for(var i=n.eles.edges(),r=n.eles.nodes(),o={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:r.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:n.initialTemp,clientWidth:e.width(),clientHeight:e.width(),boundingBox:ht(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()})},a=n.eles.components(),s={},l=0;l<a.length;l++)for(var u=a[l],c=0;c<u.length;c++)s[u[c].id()]=l;for(l=0;l<o.nodeSize;l++){var h=(v=r[l]).layoutDimensions(n);(P={}).isLocked=v.locked(),P.id=v.data("id"),P.parentId=v.data("parent"),P.cmptId=s[v.id()],P.children=[],P.positionX=v.position("x"),P.positionY=v.position("y"),P.offsetX=0,P.offsetY=0,P.height=h.w,P.width=h.h,P.maxX=P.positionX+P.width/2,P.minX=P.positionX-P.width/2,P.maxY=P.positionY+P.height/2,P.minY=P.positionY-P.height/2,P.padLeft=parseFloat(v.style("padding")),P.padRight=parseFloat(v.style("padding")),P.padTop=parseFloat(v.style("padding")),P.padBottom=parseFloat(v.style("padding")),P.nodeRepulsion=f(n.nodeRepulsion)?n.nodeRepulsion(v):n.nodeRepulsion,o.layoutNodes.push(P),o.idToIndex[P.id]=l}var d=[],p=0,g=-1,m=[];for(l=0;l<o.nodeSize;l++){var v,y=(v=o.layoutNodes[l]).parentId;null!=y?o.layoutNodes[o.idToIndex[y]].children.push(v.id):(d[++g]=v.id,m.push(v.id))}for(o.graphSet.push(m);p<=g;){var b=d[p++],x=o.layoutNodes[o.idToIndex[b]].children;if(x.length>0)for(o.graphSet.push(x),l=0;l<x.length;l++)d[++g]=x[l]}for(l=0;l<o.graphSet.length;l++){var w=o.graphSet[l];for(c=0;c<w.length;c++)o.indexToGraph[o.idToIndex[w[c]]]=l}for(l=0;l<o.edgeSize;l++){var _=i[l],E={};E.id=_.data("id"),E.sourceId=_.data("source"),E.targetId=_.data("target");var S=f(n.idealEdgeLength)?n.idealEdgeLength(_):n.idealEdgeLength,C=f(n.edgeElasticity)?n.edgeElasticity(_):n.edgeElasticity,T=o.idToIndex[E.sourceId],k=o.idToIndex[E.targetId];if(o.indexToGraph[T]!=o.indexToGraph[k]){for(var D=Ro(E.sourceId,E.targetId,o),A=o.graphSet[D],O=0,P=o.layoutNodes[T];-1===A.indexOf(P.id);)P=o.layoutNodes[o.idToIndex[P.parentId]],O++;for(P=o.layoutNodes[k];-1===A.indexOf(P.id);)P=o.layoutNodes[o.idToIndex[P.parentId]],O++;S*=O*n.nestingFactor}E.idealLength=S,E.elasticity=C,o.layoutEdges.push(E)}return o},Ro=function(e,t,n){var i=Bo(e,t,0,n);return 2>i.count?0:i.graph},Bo=function e(t,n,i,r){var o=r.graphSet[i];if(-1<o.indexOf(t)&&-1<o.indexOf(n))return{count:2,graph:i};for(var a=0,s=0;s<o.length;s++){var l=r.layoutNodes[r.idToIndex[o[s]]].children;if(0!==l.length){var u=e(t,n,r.indexToGraph[r.idToIndex[l[0]]],r);if(0!==u.count){if(1!==u.count)return u;if(2==++a)break}}}return{count:a,graph:i}},jo=function(e,t){for(var n=e.clientWidth,i=e.clientHeight,r=0;r<e.nodeSize;r++){var o=e.layoutNodes[r];0!==o.children.length||o.isLocked||(o.positionX=Math.random()*n,o.positionY=Math.random()*i)}},Fo=function(e,t,n){var i=e.boundingBox,r={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return t.boundingBox&&(n.forEach((function(t){var n=e.layoutNodes[e.idToIndex[t.data("id")]];r.x1=Math.min(r.x1,n.positionX),r.x2=Math.max(r.x2,n.positionX),r.y1=Math.min(r.y1,n.positionY),r.y2=Math.max(r.y2,n.positionY)})),r.w=r.x2-r.x1,r.h=r.y2-r.y1),function(n,o){var a=e.layoutNodes[e.idToIndex[n.data("id")]];return t.boundingBox?{x:i.x1+(a.positionX-r.x1)/r.w*i.w,y:i.y1+(a.positionY-r.y1)/r.h*i.h}:{x:a.positionX,y:a.positionY}}},Ho=function(e,t,n){var i=n.layout,r=n.eles.nodes(),o=Fo(e,n,r);r.positions(o),!0!==e.ready&&(e.ready=!0,i.one("layoutready",n.ready),i.emit({type:"layoutready",layout:this}))},Yo={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function zo(e){this.options=I({},Yo,e)}zo.prototype.run=function(){var e=this.options,t=e,n=e.cy,i=t.eles.nodes().not(":parent");t.sort&&(i=i.sort(t.sort));var r=ht(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(0===r.h||0===r.w)i.layoutPositions(this,t,(function(e){return{x:r.x1,y:r.y1}}));else{var o=i.size(),a=Math.sqrt(o*r.h/r.w),s=Math.round(a),l=Math.round(r.w/r.h*a),u=function(e){if(null==e)return Math.min(s,l);Math.min(s,l)==s?s=e:l=e},c=function(e){if(null==e)return Math.max(s,l);Math.max(s,l)==s?s=e:l=e},h=t.rows,d=null!=t.cols?t.cols:t.columns;if(null!=h&&null!=d)s=h,l=d;else if(null!=h&&null==d)s=h,l=Math.ceil(o/s);else if(null==h&&null!=d)l=d,s=Math.ceil(o/l);else if(l*s>o){var f=u(),p=c();(f-1)*p>=o?u(f-1):(p-1)*f>=o&&c(p-1)}else for(;l*s<o;){var g=u(),m=c();(m+1)*g>=o?c(m+1):u(g+1)}var v=r.w/l,y=r.h/s;if(t.condense&&(v=0,y=0),t.avoidOverlap)for(var b=0;b<i.length;b++){var x=i[b],w=x._private.position;null!=w.x&&null!=w.y||(w.x=0,w.y=0);var _=x.layoutDimensions(t),E=t.avoidOverlapPadding,S=_.h+E;v=Math.max(v,_.w+E),y=Math.max(y,S)}for(var C={},T=function(e,t){return!!C["c-"+e+"-"+t]},k=function(e,t){C["c-"+e+"-"+t]=!0},D=0,A=0,O=function(){++A>=l&&(A=0,D++)},P={},M=0;M<i.length;M++){var I=i[M],N=t.position(I);if(N&&(void 0!==N.row||void 0!==N.col)){var L={row:N.row,col:N.col};if(void 0===L.col)for(L.col=0;T(L.row,L.col);)L.col++;else if(void 0===L.row)for(L.row=0;T(L.row,L.col);)L.row++;P[I.id()]=L,k(L.row,L.col)}}i.layoutPositions(this,t,(function(e,t){var n,i;if(e.locked()||e.isParent())return!1;var o=P[e.id()];if(o)n=o.col*v+v/2+r.x1,i=o.row*y+y/2+r.y1;else{for(;T(D,A);)O();n=A*v+v/2+r.x1,i=D*y+y/2+r.y1,k(D,A),O()}return{x:n,y:i}}))}return this};var Wo={ready:function(){},stop:function(){}};function $o(e){this.options=I({},Wo,e)}$o.prototype.run=function(){var e=this.options,t=e.eles;return this.emit("layoutstart"),t.nodes().positions((function(){return{x:0,y:0}})),this.one("layoutready",e.ready),this.emit("layoutready"),this.one("layoutstop",e.stop),this.emit("layoutstop"),this},$o.prototype.stop=function(){return this};var Vo={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function qo(e){this.options=I({},Vo,e)}qo.prototype.run=function(){var e=this.options,t=e.eles.nodes(),n=f(e.positions);return t.layoutPositions(this,e,(function(t,i){var r=function(t){if(null==e.positions)return function(e){return{x:e.x,y:e.y}}(t.position());if(n)return e.positions(t);var i=e.positions[t._private.data.id];return null==i?null:i}(t);return!t.locked()&&null!=r&&r})),this};var Xo={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Uo(e){this.options=I({},Xo,e)}Uo.prototype.run=function(){var e=this.options,t=e.cy,n=e.eles.nodes().not(":parent"),i=ht(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()});return n.layoutPositions(this,e,(function(e,t){return{x:i.x1+Math.round(Math.random()*i.w),y:i.y1+Math.round(Math.random()*i.h)}})),this};var Go=[{name:"breadthfirst",impl:ko},{name:"circle",impl:Ao},{name:"concentric",impl:Mo},{name:"cose",impl:No},{name:"grid",impl:zo},{name:"null",impl:$o},{name:"preset",impl:qo},{name:"random",impl:Uo}];function Ko(e){this.options=e,this.notifications=0}var Qo=function(){};Ko.prototype={recalculateRenderedStyle:Qo,notify:function(){this.notifications++},init:Qo,isHeadless:function(){return!0}};var Zo={arrowShapeWidth:.3,registerArrowShapes:function(){var e=this.arrowShapes={},t=this,n=function(e,t,n,i,r,o,a){return r.x-n/2-a<=e&&e<=r.x+n/2+a&&r.y-n/2-a<=t&&t<=r.y+n/2+a},i=function(e,t,n,i,r){var o=e*Math.cos(i)-t*Math.sin(i),a=(e*Math.sin(i)+t*Math.cos(i))*n;return{x:o*n+r.x,y:a+r.y}},r=function(e,t,n,r){for(var o=[],a=0;a<e.length;a+=2)o.push(i(e[a],e[a+1],t,n,r));return o},o=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];t.push(i.x,i.y)}return t},a=function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").pfValue*2},s=function(i,s){d(s)&&(s=e[s]),e[i]=I({name:i,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(e,t,n,i,a,s){var l=o(r(this.points,n+2*s,i,a));return Tt(e,t,l)},roughCollide:n,draw:function(e,n,i,o){var a=r(this.points,n,i,o);t.arrowShapeImpl("polygon")(e,a)},spacing:function(e){return 0},gap:a},s)};s("none",{collide:ye,roughCollide:ye,draw:xe,spacing:be,gap:be}),s("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),s("arrow","triangle"),s("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:n,draw:function(e,n,o,a,s){var l=r(this.points,n,o,a),u=this.controlPoint,c=i(u[0],u[1],n,o,a);t.arrowShapeImpl(this.name)(e,l,c)},gap:function(e){return.8*a(e)}}),s("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(e,t,n,i,a,s,l){var u=o(r(this.points,n+2*l,i,a)),c=o(r(this.pointsTee,n+2*l,i,a));return Tt(e,t,u)||Tt(e,t,c)},draw:function(e,n,i,o,a){var s=r(this.points,n,i,o),l=r(this.pointsTee,n,i,o);t.arrowShapeImpl(this.name)(e,s,l)}}),s("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(e,t){var n=this.baseCrossLinePts.slice(),i=t/e;return n[3]=n[3]-i,n[5]=n[5]-i,n},collide:function(e,t,n,i,a,s,l){var u=o(r(this.points,n+2*l,i,a)),c=o(r(this.crossLinePts(n,s),n+2*l,i,a));return Tt(e,t,u)||Tt(e,t,c)},draw:function(e,n,i,o,a){var s=r(this.points,n,i,o),l=r(this.crossLinePts(n,a),n,i,o);t.arrowShapeImpl(this.name)(e,s,l)}}),s("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(e){return.525*a(e)}}),s("circle",{radius:.15,collide:function(e,t,n,i,r,o,a){var s=r;return Math.pow(s.x-e,2)+Math.pow(s.y-t,2)<=Math.pow((n+2*a)*this.radius,2)},draw:function(e,n,i,r,o){t.arrowShapeImpl(this.name)(e,r.x,r.y,this.radius*n)},spacing:function(e){return t.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.radius}}),s("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(e){return 1},gap:function(e){return 1}}),s("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),s("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").value}}),s("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(e){return.95*e.pstyle("width").pfValue*e.pstyle("arrow-scale").value}})}},Jo={projectIntoViewport:function(e,t){var n=this.cy,i=this.findContainerClientCoords(),r=i[0],o=i[1],a=i[4],s=n.pan(),l=n.zoom();return[((e-r)/a-s.x)/l,((t-o)/a-s.y)/l]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),n=o.getComputedStyle(e),i=function(e){return parseFloat(n.getPropertyValue(e))},r=i("padding-left"),a=i("padding-right"),s=i("padding-top"),l=i("padding-bottom"),u=i("border-left-width"),c=i("border-right-width"),h=i("border-top-width"),d=(i("border-bottom-width"),e.clientWidth);return this.containerBB=[t.left+r+u,t.top+s+h,d-(r+a),e.clientHeight-(s+l),t.width/(d+(u+c))]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(e,t,n,i){return this.findNearestElements(e,t,n,i)[0]},findNearestElements:function(e,t,n,i){var r,o,a=this,s=this,l=s.getCachedZSortedEles(),u=[],c=s.cy.zoom(),h=s.cy.hasCompoundNodes(),d=(i?24:8)/c,f=(i?8:2)/c,p=(i?8:2)/c,g=1/0;function m(e,t){if(e.isNode()){if(o)return;o=e,u.push(e)}if(e.isEdge()&&(null==t||t<g))if(r){if(r.pstyle("z-compound-depth").value===e.pstyle("z-compound-depth").value&&r.pstyle("z-compound-depth").value===e.pstyle("z-compound-depth").value)for(var n=0;n<u.length;n++)if(u[n].isEdge()){u[n]=e,r=e,g=null!=t?t:g;break}}else u.push(e),r=e,g=null!=t?t:g}function v(n){var i=n.outerWidth()+2*f,r=n.outerHeight()+2*f,o=i/2,l=r/2,u=n.position();if(u.x-o<=e&&e<=u.x+o&&u.y-l<=t&&t<=u.y+l&&s.nodeShapes[a.getNodeShape(n)].checkPoint(e,t,0,i,r,u.x,u.y))return m(n,0),!0}function y(n){var i,r=n._private,o=r.rscratch,l=n.pstyle("width").pfValue,c=n.pstyle("arrow-scale").value,f=l/2+d,p=f*f,g=2*f,y=r.source,b=r.target;if("segments"===o.edgeType||"straight"===o.edgeType||"haystack"===o.edgeType){for(var x=o.allpts,w=0;w+3<x.length;w+=2)if(_t(e,t,x[w],x[w+1],x[w+2],x[w+3],g)&&p>(i=Ct(e,t,x[w],x[w+1],x[w+2],x[w+3])))return m(n,i),!0}else if("bezier"===o.edgeType||"multibezier"===o.edgeType||"self"===o.edgeType||"compound"===o.edgeType)for(x=o.allpts,w=0;w+5<o.allpts.length;w+=4)if(Et(e,t,x[w],x[w+1],x[w+2],x[w+3],x[w+4],x[w+5],g)&&p>(i=St(e,t,x[w],x[w+1],x[w+2],x[w+3],x[w+4],x[w+5])))return m(n,i),!0;y=y||r.source,b=b||r.target;var _=a.getArrowWidth(l,c),E=[{name:"source",x:o.arrowStartX,y:o.arrowStartY,angle:o.srcArrowAngle},{name:"target",x:o.arrowEndX,y:o.arrowEndY,angle:o.tgtArrowAngle},{name:"mid-source",x:o.midX,y:o.midY,angle:o.midsrcArrowAngle},{name:"mid-target",x:o.midX,y:o.midY,angle:o.midtgtArrowAngle}];for(w=0;w<E.length;w++){var S=E[w],C=s.arrowShapes[n.pstyle(S.name+"-arrow-shape").value],T=n.pstyle("width").pfValue;if(C.roughCollide(e,t,_,S.angle,{x:S.x,y:S.y},T,d)&&C.collide(e,t,_,S.angle,{x:S.x,y:S.y},T,d))return m(n),!0}h&&u.length>0&&(v(y),v(b))}function b(e,t,n){return Pe(e,t,n)}function x(n,i){var r=n._private,o=p,a=n.pstyle((i?i+"-":"")+"label").value;if("yes"===n.pstyle("text-events").strValue&&a){var s=r.rstyle,l=n.pstyle("text-border-width").pfValue,u=n.pstyle("text-background-padding").pfValue,c=b(s,"labelWidth",i)+l+2*o+2*u,h=b(s,"labelHeight",i)+l+2*o+2*u,d=b(s,"labelX",i),f=b(s,"labelY",i),g=b(r.rscratch,"labelAngle",i),v=d-c/2,y=d+c/2,x=f-h/2,w=f+h/2;if(g){var _=Math.cos(g),E=Math.sin(g),S=function(e,t){return{x:(e-=d)*_-(t-=f)*E+d,y:e*E+t*_+f}},C=S(v,x),T=S(v,w),k=S(y,x),D=S(y,w);if(Tt(e,t,[C.x,C.y,k.x,k.y,D.x,D.y,T.x,T.y]))return m(n),!0}else if(yt({w:c,h:h,x1:v,x2:y,y1:x,y2:w},e,t))return m(n),!0}}n&&(l=l.interactive);for(var w=l.length-1;w>=0;w--){var _=l[w];_.isNode()?v(_)||x(_):y(_)||x(_)||x(_,"source")||x(_,"target")}return u},getAllInBox:function(e,t,n,i){for(var r=this.getCachedZSortedEles().interactive,o=[],a=Math.min(e,n),s=Math.max(e,n),l=Math.min(t,i),u=Math.max(t,i),c=ht({x1:e=a,y1:t=l,x2:n=s,y2:i=u}),h=0;h<r.length;h++){var d=r[h];if(d.isNode()){var f=d,p=f.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});vt(c,p)&&!xt(p,c)&&o.push(f)}else{var g=d,m=g._private,v=m.rscratch;if(null!=v.startX&&null!=v.startY&&!yt(c,v.startX,v.startY))continue;if(null!=v.endX&&null!=v.endY&&!yt(c,v.endX,v.endY))continue;if("bezier"===v.edgeType||"multibezier"===v.edgeType||"self"===v.edgeType||"compound"===v.edgeType||"segments"===v.edgeType||"haystack"===v.edgeType){for(var y=m.rstyle.bezierPts||m.rstyle.linePts||m.rstyle.haystackPts,b=!0,x=0;x<y.length;x++)if(!bt(c,y[x])){b=!1;break}b&&o.push(g)}else"haystack"!==v.edgeType&&"straight"!==v.edgeType||o.push(g)}}return o}},ea={calculateArrowAngles:function(e){var t,n,i,r,o,a,s=e._private.rscratch,l="haystack"===s.edgeType,u="bezier"===s.edgeType,c="multibezier"===s.edgeType,h="segments"===s.edgeType,d="compound"===s.edgeType,f="self"===s.edgeType;l?(i=s.haystackPts[0],r=s.haystackPts[1],o=s.haystackPts[2],a=s.haystackPts[3]):(i=s.arrowStartX,r=s.arrowStartY,o=s.arrowEndX,a=s.arrowEndY),p=s.midX,g=s.midY,h?(t=i-s.segpts[0],n=r-s.segpts[1]):c||d||f||u?(t=i-lt((E=s.allpts)[0],E[2],E[4],.1),n=r-lt(E[1],E[3],E[5],.1)):(t=i-p,n=r-g),s.srcArrowAngle=nt(t,n);var p=s.midX,g=s.midY;if(l&&(p=(i+o)/2,g=(r+a)/2),t=o-i,n=a-r,h)if((E=s.allpts).length/2%2==0){var m=(v=E.length/2)-2;t=E[v]-E[m],n=E[v+1]-E[m+1]}else{m=(v=E.length/2-1)-2;var v,y=v+2;t=E[v]-E[m],n=E[v+1]-E[m+1]}else if(c||d||f){var b,x,w,_,E=s.allpts;if(s.ctrlpts.length/2%2==0){var S=2+(C=2+(T=E.length/2-1));b=lt(E[T],E[C],E[S],0),x=lt(E[T+1],E[C+1],E[S+1],0),w=lt(E[T],E[C],E[S],1e-4),_=lt(E[T+1],E[C+1],E[S+1],1e-4)}else{var C,T;S=2+(C=E.length/2-1),b=lt(E[T=C-2],E[C],E[S],.4999),x=lt(E[T+1],E[C+1],E[S+1],.4999),w=lt(E[T],E[C],E[S],.5),_=lt(E[T+1],E[C+1],E[S+1],.5)}t=w-b,n=_-x}if(s.midtgtArrowAngle=nt(t,n),s.midDispX=t,s.midDispY=n,t*=-1,n*=-1,h&&((E=s.allpts).length/2%2==0||(t=-(E[y=2+(v=E.length/2-1)]-E[v]),n=-(E[y+1]-E[v+1]))),s.midsrcArrowAngle=nt(t,n),h)t=o-s.segpts[s.segpts.length-2],n=a-s.segpts[s.segpts.length-1];else if(c||d||f||u){var k=(E=s.allpts).length;t=o-lt(E[k-6],E[k-4],E[k-2],.9),n=a-lt(E[k-5],E[k-3],E[k-1],.9)}else t=o-p,n=a-g;s.tgtArrowAngle=nt(t,n)}};ea.getArrowWidth=ea.getArrowHeight=function(e,t){var n=this.arrowWidthCache=this.arrowWidthCache||{},i=n[e+", "+t];return i||(i=Math.max(Math.pow(13.37*e,.9),29)*t,n[e+", "+t]=i,i)};var ta={};function na(e){var t=[];if(null!=e){for(var n=0;n<e.length;n+=2)t.push({x:e[n],y:e[n+1]});return t}}ta.findHaystackPoints=function(e){for(var t=0;t<e.length;t++){var n=e[t],i=n._private,r=i.rscratch;if(!r.haystack){var o=2*Math.random()*Math.PI;r.source={x:Math.cos(o),y:Math.sin(o)},o=2*Math.random()*Math.PI,r.target={x:Math.cos(o),y:Math.sin(o)}}var a=i.source,s=i.target,l=a.position(),u=s.position(),c=a.width(),h=s.width(),d=a.height(),f=s.height(),p=n.pstyle("haystack-radius").value/2;r.haystackPts=r.allpts=[r.source.x*c*p+l.x,r.source.y*d*p+l.y,r.target.x*h*p+u.x,r.target.y*f*p+u.y],r.midX=(r.allpts[0]+r.allpts[2])/2,r.midY=(r.allpts[1]+r.allpts[3])/2,r.edgeType="haystack",r.haystack=!0,this.storeEdgeProjections(n),this.calculateArrowAngles(n),this.recalculateEdgeLabelProjections(n),this.calculateLabelAngles(n)}},ta.findSegmentsPoints=function(e,t){var n=e._private.rscratch,i=t.posPts,r=t.intersectionPts,o=t.vectorNormInverse,a=e.pstyle("edge-distances").value,s=e.pstyle("segment-weights"),l=e.pstyle("segment-distances"),u=Math.min(s.pfValue.length,l.pfValue.length);n.edgeType="segments",n.segpts=[];for(var c=0;c<u;c++){var h=s.pfValue[c],d=l.pfValue[c],f=1-h,p="node-position"===a?i:r,g={x:p.x1*f+p.x2*h,y:p.y1*f+p.y2*h};n.segpts.push(g.x+o.x*d,g.y+o.y*d)}},ta.findLoopPoints=function(e,t,n,i){var r=e._private.rscratch,o=t.dirCounts,a=t.srcPos,s=e.pstyle("control-point-distances"),l=s?s.pfValue[0]:void 0,u=e.pstyle("loop-direction").pfValue,c=e.pstyle("loop-sweep").pfValue,h=e.pstyle("control-point-step-size").pfValue;r.edgeType="self";var d=n,f=h;i&&(d=0,f=l);var p=u-Math.PI/2,g=p-c/2,m=p+c/2,v=String(u+"_"+c);d=void 0===o[v]?o[v]=0:++o[v],r.ctrlpts=[a.x+1.4*Math.cos(g)*f*(d/3+1),a.y+1.4*Math.sin(g)*f*(d/3+1),a.x+1.4*Math.cos(m)*f*(d/3+1),a.y+1.4*Math.sin(m)*f*(d/3+1)]},ta.findCompoundLoopPoints=function(e,t,n,i){var r=e._private.rscratch;r.edgeType="compound";var o=t.srcPos,a=t.tgtPos,s=t.srcW,l=t.srcH,u=t.tgtW,c=t.tgtH,h=e.pstyle("control-point-step-size").pfValue,d=e.pstyle("control-point-distances"),f=n,p=h;i&&(f=0,p=d?d.pfValue[0]:void 0);var g={x:o.x-s/2,y:o.y-l/2},m={x:a.x-u/2,y:a.y-c/2},v={x:Math.min(g.x,m.x),y:Math.min(g.y,m.y)},y=Math.max(.5,Math.log(.01*s)),b=Math.max(.5,Math.log(.01*u));r.ctrlpts=[v.x,v.y-(1+Math.pow(50,1.12)/100)*p*(f/3+1)*y,v.x-(1+Math.pow(50,1.12)/100)*p*(f/3+1)*b,v.y]},ta.findStraightEdgePoints=function(e){e._private.rscratch.edgeType="straight"},ta.findBezierPoints=function(e,t,n,i,r){var o=e._private.rscratch,a=t.vectorNormInverse,s=t.posPts,l=t.intersectionPts,u=e.pstyle("edge-distances").value,c=e.pstyle("control-point-step-size").pfValue,h=e.pstyle("control-point-distances"),d=e.pstyle("control-point-weights"),f=h&&d?Math.min(h.value.length,d.value.length):1,p=h?h.pfValue[0]:void 0,g=d.value[0],m=i;o.edgeType=m?"multibezier":"bezier",o.ctrlpts=[];for(var v=0;v<f;v++){var y,b=(.5-t.eles.length/2+n)*c*(r?-1:1),x=rt(b);m&&(p=h?h.pfValue[v]:c,g=d.value[v]);var w=void 0!==(y=i?p:void 0!==p?x*p:void 0)?y:b,_=1-g,E="node-position"===u?s:l,S={x:E.x1*_+E.x2*g,y:E.y1*_+E.y2*g};o.ctrlpts.push(S.x+a.x*w,S.y+a.y*w)}},ta.findTaxiPoints=function(e,t){var n=e._private.rscratch;n.edgeType="segments";var i=t.posPts,r=t.srcW,o=t.srcH,a=t.tgtW,s=t.tgtH,l="node-position"!==e.pstyle("edge-distances").value,u=e.pstyle("taxi-direction").value,c=u,h=e.pstyle("taxi-turn"),d=h.pfValue,f=e.pstyle("taxi-turn-min-distance").pfValue,p="%"===h.units,g=l?(o+s)/2:0,m=i.x2-i.x1,v=i.y2-i.y1,y=function(e,t){return e>0?Math.max(e-t,0):Math.min(e+t,0)},b=y(m,l?(r+a)/2:0),x=y(v,g),w=!1;"auto"===u?u=Math.abs(b)>Math.abs(x)?"horizontal":"vertical":"upward"===u||"downward"===u?(u="vertical",w=!0):"leftward"!==u&&"rightward"!==u||(u="horizontal",w=!0);var _="vertical"===u,E=_?x:b,S=_?v:m,C=rt(S),T=!1;w&&p||!("downward"===c&&S<0||"upward"===c&&S>0||"leftward"===c&&S>0||"rightward"===c&&S<0)||(E=(C*=-1)*Math.abs(E),T=!0);var k=p?d*E:d*C,D=function(e){return Math.abs(e)<f||Math.abs(e)>=Math.abs(E)},A=D(k),O=D(E-k);if(!A&&!O||T)if(_){var P=i.y1+k+(l?o/2*C:0);n.segpts=[i.x1,P,i.x2,P]}else{var M=i.x1+k+(l?r/2*C:0);n.segpts=[M,i.y1,M,i.y2]}else if(_){var I=Math.abs(S)<=o/2,N=Math.abs(m)<=a/2;if(I){var L=(i.x1+i.x2)/2;n.segpts=[L,i.y1,L,i.y2]}else if(N){var R=(i.y1+i.y2)/2;n.segpts=[i.x1,R,i.x2,R]}else n.segpts=[i.x1,i.y2]}else{var B=Math.abs(S)<=r/2,j=Math.abs(v)<=s/2;if(B){var F=(i.y1+i.y2)/2;n.segpts=[i.x1,F,i.x2,F]}else if(j){var H=(i.x1+i.x2)/2;n.segpts=[H,i.y1,H,i.y2]}else n.segpts=[i.x2,i.y1]}},ta.tryToCorrectInvalidPoints=function(e,t){var n=e._private.rscratch;if("bezier"===n.edgeType){var i=t.srcPos,r=t.tgtPos,o=t.srcW,a=t.srcH,s=t.tgtW,l=t.tgtH,u=t.srcShape,c=t.tgtShape,h=!m(n.startX)||!m(n.startY),d=!m(n.arrowStartX)||!m(n.arrowStartY),f=!m(n.endX)||!m(n.endY),p=!m(n.arrowEndX)||!m(n.arrowEndY),g=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,v=ot({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.startX,y:n.startY}),y=v<g,b=ot({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.endX,y:n.endY}),x=b<g,w=!1;if(h||d||y){w=!0;var _={x:n.ctrlpts[0]-i.x,y:n.ctrlpts[1]-i.y},E=Math.sqrt(_.x*_.x+_.y*_.y),S={x:_.x/E,y:_.y/E},C=Math.max(o,a),T={x:n.ctrlpts[0]+2*S.x*C,y:n.ctrlpts[1]+2*S.y*C},k=u.intersectLine(i.x,i.y,o,a,T.x,T.y,0);y?(n.ctrlpts[0]=n.ctrlpts[0]+S.x*(g-v),n.ctrlpts[1]=n.ctrlpts[1]+S.y*(g-v)):(n.ctrlpts[0]=k[0]+S.x*g,n.ctrlpts[1]=k[1]+S.y*g)}if(f||p||x){w=!0;var D={x:n.ctrlpts[0]-r.x,y:n.ctrlpts[1]-r.y},A=Math.sqrt(D.x*D.x+D.y*D.y),O={x:D.x/A,y:D.y/A},P=Math.max(o,a),M={x:n.ctrlpts[0]+2*O.x*P,y:n.ctrlpts[1]+2*O.y*P},I=c.intersectLine(r.x,r.y,s,l,M.x,M.y,0);x?(n.ctrlpts[0]=n.ctrlpts[0]+O.x*(g-b),n.ctrlpts[1]=n.ctrlpts[1]+O.y*(g-b)):(n.ctrlpts[0]=I[0]+O.x*g,n.ctrlpts[1]=I[1]+O.y*g)}w&&this.findEndpoints(e)}},ta.storeAllpts=function(e){var t=e._private.rscratch;if("multibezier"===t.edgeType||"bezier"===t.edgeType||"self"===t.edgeType||"compound"===t.edgeType){t.allpts=[],t.allpts.push(t.startX,t.startY);for(var n=0;n+1<t.ctrlpts.length;n+=2)t.allpts.push(t.ctrlpts[n],t.ctrlpts[n+1]),n+3<t.ctrlpts.length&&t.allpts.push((t.ctrlpts[n]+t.ctrlpts[n+2])/2,(t.ctrlpts[n+1]+t.ctrlpts[n+3])/2);var i;t.allpts.push(t.endX,t.endY),t.ctrlpts.length/2%2==0?(t.midX=t.allpts[i=t.allpts.length/2-1],t.midY=t.allpts[i+1]):(t.midX=lt(t.allpts[i=t.allpts.length/2-3],t.allpts[i+2],t.allpts[i+4],.5),t.midY=lt(t.allpts[i+1],t.allpts[i+3],t.allpts[i+5],.5))}else if("straight"===t.edgeType)t.allpts=[t.startX,t.startY,t.endX,t.endY],t.midX=(t.startX+t.endX+t.arrowStartX+t.arrowEndX)/4,t.midY=(t.startY+t.endY+t.arrowStartY+t.arrowEndY)/4;else if("segments"===t.edgeType)if(t.allpts=[],t.allpts.push(t.startX,t.startY),t.allpts.push.apply(t.allpts,t.segpts),t.allpts.push(t.endX,t.endY),t.segpts.length%4==0){var r=t.segpts.length/2,o=r-2;t.midX=(t.segpts[o]+t.segpts[r])/2,t.midY=(t.segpts[o+1]+t.segpts[r+1])/2}else{var a=t.segpts.length/2-1;t.midX=t.segpts[a],t.midY=t.segpts[a+1]}},ta.checkForInvalidEdgeWarning=function(e){var t=e[0]._private.rscratch;t.nodesOverlap||m(t.startX)&&m(t.startY)&&m(t.endX)&&m(t.endY)?t.loggedErr=!1:t.loggedErr||(t.loggedErr=!0,Ee("Edge `"+e.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},ta.findEdgeControlPoints=function(e){var t=this;if(e&&0!==e.length){for(var n=this,i=n.cy.hasCompoundNodes(),r=new Ie,o=[],a=[],s=0;s<e.length;s++){var l=e[s],u=l._private,c=l.pstyle("curve-style").value;if(!l.removed()&&l.takesUpSpace())if("haystack"!==c){var h="unbundled-bezier"===c||"segments"===c||"straight"===c||"taxi"===c,d="unbundled-bezier"===c||"bezier"===c,f=u.source.poolIndex(),p=u.target.poolIndex(),g=(h?-1:1)*ue([f,p].sort()),v=r.get(g);null==v&&(r.set(g,v={eles:[]}),o.push(g)),v.eles.push(l),h&&(v.hasUnbundled=!0),d&&(v.hasBezier=!0)}else a.push(l)}for(var y=function(e){var a=r.get(o[e]),s=void 0;if(!a.hasUnbundled){var l=a.eles[0].parallelEdges().filter((function(e){return e.isBundledBezier()}));Oe(a.eles),l.forEach((function(e){return a.eles.push(e)})),a.eles.sort((function(e,t){return e.poolIndex()-t.poolIndex()}))}var u=a.eles[0],c=u.source(),h=u.target();if(c.poolIndex()>h.poolIndex()){var d=c;c=h,h=d}var f=a.srcPos=c.position(),p=a.tgtPos=h.position(),g=a.srcW=c.outerWidth(),v=a.srcH=c.outerHeight(),y=a.tgtW=h.outerWidth(),b=a.tgtH=h.outerHeight(),x=a.srcShape=n.nodeShapes[t.getNodeShape(c)],w=a.tgtShape=n.nodeShapes[t.getNodeShape(h)];a.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var _=0;_<a.eles.length;_++){var E=a.eles[_],S=E[0]._private.rscratch,C=E.pstyle("curve-style").value,T="unbundled-bezier"===C||"segments"===C||"taxi"===C,k=!c.same(E.source());if(!a.calculatedIntersection&&c!==h&&(a.hasBezier||a.hasUnbundled)){a.calculatedIntersection=!0;var D=x.intersectLine(f.x,f.y,g,v,p.x,p.y,0),A=a.srcIntn=D,O=w.intersectLine(p.x,p.y,y,b,f.x,f.y,0),P=a.tgtIntn=O,M=a.intersectionPts={x1:D[0],x2:O[0],y1:D[1],y2:O[1]},I=a.posPts={x1:f.x,x2:p.x,y1:f.y,y2:p.y},N=O[1]-D[1],L=O[0]-D[0],R=Math.sqrt(L*L+N*N),B=a.vector={x:L,y:N},j=a.vectorNorm={x:B.x/R,y:B.y/R},F={x:-j.y,y:j.x};a.nodesOverlap=!m(R)||w.checkPoint(D[0],D[1],0,y,b,p.x,p.y)||x.checkPoint(O[0],O[1],0,g,v,f.x,f.y),a.vectorNormInverse=F,s={nodesOverlap:a.nodesOverlap,dirCounts:a.dirCounts,calculatedIntersection:!0,hasBezier:a.hasBezier,hasUnbundled:a.hasUnbundled,eles:a.eles,srcPos:p,tgtPos:f,srcW:y,srcH:b,tgtW:g,tgtH:v,srcIntn:P,tgtIntn:A,srcShape:w,tgtShape:x,posPts:{x1:I.x2,y1:I.y2,x2:I.x1,y2:I.y1},intersectionPts:{x1:M.x2,y1:M.y2,x2:M.x1,y2:M.y1},vector:{x:-B.x,y:-B.y},vectorNorm:{x:-j.x,y:-j.y},vectorNormInverse:{x:-F.x,y:-F.y}}}var H=k?s:a;S.nodesOverlap=H.nodesOverlap,S.srcIntn=H.srcIntn,S.tgtIntn=H.tgtIntn,i&&(c.isParent()||c.isChild()||h.isParent()||h.isChild())&&(c.parents().anySame(h)||h.parents().anySame(c)||c.same(h))?t.findCompoundLoopPoints(E,H,_,T):c===h?t.findLoopPoints(E,H,_,T):"segments"===C?t.findSegmentsPoints(E,H):"taxi"===C?t.findTaxiPoints(E,H):"straight"===C||!T&&a.eles.length%2==1&&_===Math.floor(a.eles.length/2)?t.findStraightEdgePoints(E):t.findBezierPoints(E,H,_,T,k),t.findEndpoints(E),t.tryToCorrectInvalidPoints(E,H),t.checkForInvalidEdgeWarning(E),t.storeAllpts(E),t.storeEdgeProjections(E),t.calculateArrowAngles(E),t.recalculateEdgeLabelProjections(E),t.calculateLabelAngles(E)}},b=0;b<o.length;b++)y(b);this.findHaystackPoints(a)}},ta.getSegmentPoints=function(e){var t=e[0]._private.rscratch;if("segments"===t.edgeType)return this.recalculateRenderedStyle(e),na(t.segpts)},ta.getControlPoints=function(e){var t=e[0]._private.rscratch,n=t.edgeType;if("bezier"===n||"multibezier"===n||"self"===n||"compound"===n)return this.recalculateRenderedStyle(e),na(t.ctrlpts)},ta.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),{x:t.midX,y:t.midY}};var ia={manualEndptToPx:function(e,t){var n=e.position(),i=e.outerWidth(),r=e.outerHeight();if(2===t.value.length){var o=[t.pfValue[0],t.pfValue[1]];return"%"===t.units[0]&&(o[0]=o[0]*i),"%"===t.units[1]&&(o[1]=o[1]*r),o[0]+=n.x,o[1]+=n.y,o}var a=t.pfValue[0];a=-Math.PI/2+a;var s=2*Math.max(i,r),l=[n.x+Math.cos(a)*s,n.y+Math.sin(a)*s];return this.nodeShapes[this.getNodeShape(e)].intersectLine(n.x,n.y,i,r,l[0],l[1],0)},findEndpoints:function(e){var t,n,i,r,o,a=this,s=e.source()[0],l=e.target()[0],u=s.position(),c=l.position(),h=e.pstyle("target-arrow-shape").value,d=e.pstyle("source-arrow-shape").value,f=e.pstyle("target-distance-from-node").pfValue,p=e.pstyle("source-distance-from-node").pfValue,g=e.pstyle("curve-style").value,v=e._private.rscratch,y=v.edgeType,b="self"===y||"compound"===y,x="bezier"===y||"multibezier"===y||b,w="bezier"!==y,_="straight"===y||"segments"===y,E="segments"===y,S=x||w||_,C=b||"taxi"===g,T=e.pstyle("source-endpoint"),k=C?"outside-to-node":T.value,D=e.pstyle("target-endpoint"),A=C?"outside-to-node":D.value;if(v.srcManEndpt=T,v.tgtManEndpt=D,x){var O=[v.ctrlpts[0],v.ctrlpts[1]];n=w?[v.ctrlpts[v.ctrlpts.length-2],v.ctrlpts[v.ctrlpts.length-1]]:O,i=O}else if(_){var P=E?v.segpts.slice(0,2):[c.x,c.y];n=E?v.segpts.slice(v.segpts.length-2):[u.x,u.y],i=P}if("inside-to-node"===A)t=[c.x,c.y];else if(D.units)t=this.manualEndptToPx(l,D);else if("outside-to-line"===A)t=v.tgtIntn;else if("outside-to-node"===A||"outside-to-node-or-label"===A?r=n:"outside-to-line"!==A&&"outside-to-line-or-label"!==A||(r=[u.x,u.y]),t=a.nodeShapes[this.getNodeShape(l)].intersectLine(c.x,c.y,l.outerWidth(),l.outerHeight(),r[0],r[1],0),"outside-to-node-or-label"===A||"outside-to-line-or-label"===A){var M=l._private.rscratch,I=M.labelWidth,N=M.labelHeight,L=M.labelX,R=M.labelY,B=l.pstyle("text-valign").value;"top"===B?R-=N/2:"bottom"===B&&(R+=N/2);var j=l.pstyle("text-halign").value;"left"===j?L-=I/2:"right"===j&&(L+=I/2);var F=a.nodeShapes.rectangle.intersectLine(L,R,I,N,r[0],r[1],0),H=u,Y=at(H,tt(t));at(H,tt(F))<Y&&(t=F)}var z=Lt(t,n,a.arrowShapes[h].spacing(e)+f),W=Lt(t,n,a.arrowShapes[h].gap(e)+f);if(v.endX=W[0],v.endY=W[1],v.arrowEndX=z[0],v.arrowEndY=z[1],"inside-to-node"===k)t=[u.x,u.y];else if(T.units)t=this.manualEndptToPx(s,T);else if("outside-to-line"===k)t=v.srcIntn;else if("outside-to-node"===k||"outside-to-node-or-label"===k?o=i:"outside-to-line"!==k&&"outside-to-line-or-label"!==k||(o=[c.x,c.y]),t=a.nodeShapes[this.getNodeShape(s)].intersectLine(u.x,u.y,s.outerWidth(),s.outerHeight(),o[0],o[1],0),"outside-to-node-or-label"===k||"outside-to-line-or-label"===k){var $=s._private.rscratch,V=$.labelWidth,q=$.labelHeight,X=$.labelX,U=$.labelY,G=s.pstyle("text-valign").value;"top"===G?U-=q/2:"bottom"===G&&(U+=q/2);var K=s.pstyle("text-halign").value;"left"===K?X-=V/2:"right"===K&&(X+=V/2);var Q=a.nodeShapes.rectangle.intersectLine(X,U,V,q,o[0],o[1],0),Z=c,J=at(Z,tt(t));at(Z,tt(Q))<J&&(t=Q)}var ee=Lt(t,i,a.arrowShapes[d].spacing(e)+p),te=Lt(t,i,a.arrowShapes[d].gap(e)+p);v.startX=te[0],v.startY=te[1],v.arrowStartX=ee[0],v.arrowStartY=ee[1],S&&(v.badLine=!(m(v.startX)&&m(v.startY)&&m(v.endX)&&m(v.endY)))},getSourceEndpoint:function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[0],y:t.haystackPts[1]};default:return{x:t.arrowStartX,y:t.arrowStartY}}},getTargetEndpoint:function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[2],y:t.haystackPts[3]};default:return{x:t.arrowEndX,y:t.arrowEndY}}}},ra={};function oa(e,t,n){for(var i=function(e,t,n,i){return lt(e,t,n,i)},r=t._private.rstyle.bezierPts,o=0;o<e.bezierProjPcts.length;o++){var a=e.bezierProjPcts[o];r.push({x:i(n[0],n[2],n[4],a),y:i(n[1],n[3],n[5],a)})}}ra.storeEdgeProjections=function(e){var t=e._private,n=t.rscratch,i=n.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,"multibezier"===i||"bezier"===i||"self"===i||"compound"===i){t.rstyle.bezierPts=[];for(var r=0;r+5<n.allpts.length;r+=4)oa(this,e,n.allpts.slice(r,r+6))}else if("segments"===i){var o=t.rstyle.linePts=[];for(r=0;r+1<n.allpts.length;r+=2)o.push({x:n.allpts[r],y:n.allpts[r+1]})}else if("haystack"===i){var a=n.haystackPts;t.rstyle.haystackPts=[{x:a[0],y:a[1]},{x:a[2],y:a[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth},ra.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)};var aa={recalculateNodeLabelProjection:function(e){var t=e.pstyle("label").strValue;if(!E(t)){var n,i,r=e._private,o=e.width(),a=e.height(),s=e.padding(),l=e.position(),u=e.pstyle("text-halign").strValue,c=e.pstyle("text-valign").strValue,h=r.rscratch,d=r.rstyle;switch(u){case"left":n=l.x-o/2-s;break;case"right":n=l.x+o/2+s;break;default:n=l.x}switch(c){case"top":i=l.y-a/2-s;break;case"bottom":i=l.y+a/2+s;break;default:i=l.y}h.labelX=n,h.labelY=i,d.labelX=n,d.labelY=i,this.applyLabelDimensions(e)}}},sa=function(e,t){var n=Math.atan(t/e);return 0===e&&n<0&&(n*=-1),n},la=function(e,t){return sa(t.x-e.x,t.y-e.y)};aa.recalculateEdgeLabelProjections=function(e){var t,n=e._private,i=n.rscratch,r=this,o={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(o.mid||o.source||o.target){var a=function(e,t,i){Me(n.rscratch,e,t,i),Me(n.rstyle,e,t,i)};a("labelX",null,(t={x:i.midX,y:i.midY}).x),a("labelY",null,t.y);var s=sa(i.midDispX,i.midDispY);a("labelAutoAngle",null,s);var l=function(s){var l,u="source"===s;if(o[s]){var c=e.pstyle(s+"-text-offset").pfValue;switch(i.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var h,d=function e(){if(e.cache)return e.cache;for(var t=[],o=0;o+5<i.allpts.length;o+=4)t.push({p0:{x:i.allpts[o],y:i.allpts[o+1]},p1:{x:i.allpts[o+2],y:i.allpts[o+3]},p2:{x:i.allpts[o+4],y:i.allpts[o+5]},startDist:0,length:0,segments:[]});var a=n.rstyle.bezierPts,s=r.bezierProjPcts.length;function l(e,t,n,i,r){var o=ot(t,n),a=e.segments[e.segments.length-1];e.segments.push({p0:t,p1:n,t0:i,t1:r,startDist:a?a.startDist+a.length:0,length:o}),e.length+=o}for(var u=0;u<t.length;u++){var c=t[u],h=t[u-1];h&&(c.startDist=h.startDist+h.length),l(c,c.p0,a[u*s],0,r.bezierProjPcts[0]);for(var d=0;d<s-1;d++)l(c,a[u*s+d],a[u*s+d+1],r.bezierProjPcts[d],r.bezierProjPcts[d+1]);l(c,a[u*s+s-1],c.p2,r.bezierProjPcts[s-1],1)}return e.cache=t}(),f=0,p=0,g=0;g<d.length;g++){for(var m=d[u?g:d.length-1-g],v=0;v<m.segments.length;v++){var y=m.segments[u?v:m.segments.length-1-v];if(f=p,(p+=y.length)>=c||g===d.length-1&&v===m.segments.length-1){h={cp:m,segment:y};break}}if(h)break}var b=h.cp,x=h.segment,w=(c-f)/x.length,_=x.t1-x.t0,E=u?x.t0+_*w:x.t1-_*w;E=ct(0,E,1),t=ut(b.p0,b.p1,b.p2,E),l=function(e,t,n,i){var r=ct(0,i-.001,1),o=ct(0,i+.001,1),a=ut(e,t,n,r),s=ut(e,t,n,o);return la(a,s)}(b.p0,b.p1,b.p2,E);break;case"straight":case"segments":case"haystack":for(var S,C,T,k,D=0,A=i.allpts.length,O=0;O+3<A&&(u?(T={x:i.allpts[O],y:i.allpts[O+1]},k={x:i.allpts[O+2],y:i.allpts[O+3]}):(T={x:i.allpts[A-2-O],y:i.allpts[A-1-O]},k={x:i.allpts[A-4-O],y:i.allpts[A-3-O]}),C=D,!((D+=S=ot(T,k))>=c));O+=2);var P=(c-C)/S;P=ct(0,P,1),t=function(e,t,n,i){var r=t.x-e.x,o=t.y-e.y,a=ot(e,t);return n=null==n?0:n,{x:e.x+r/a*(i=null!=i?i:n*a),y:e.y+o/a*i}}(T,k,P),l=la(T,k)}a("labelX",s,t.x),a("labelY",s,t.y),a("labelAutoAngle",s,l)}};l("source"),l("target"),this.applyLabelDimensions(e)}},aa.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))},aa.applyPrefixedLabelDimensions=function(e,t){var n=e._private,i=this.getLabelText(e,t),r=this.calculateLabelDimensions(e,i),o=e.pstyle("line-height").pfValue,a=e.pstyle("text-wrap").strValue,s=Pe(n.rscratch,"labelWrapCachedLines",t)||[],l="wrap"!==a?1:Math.max(s.length,1),u=r.height/l,c=u*o,h=r.width,d=r.height+(l-1)*(o-1)*u;Me(n.rstyle,"labelWidth",t,h),Me(n.rscratch,"labelWidth",t,h),Me(n.rstyle,"labelHeight",t,d),Me(n.rscratch,"labelHeight",t,d),Me(n.rscratch,"labelLineHeight",t,c)},aa.getLabelText=function(e,t){var n=e._private,i=e.pstyle((t?t+"-":"")+"label").strValue,r=e.pstyle("text-transform").value,o=function(e,i){return i?(Me(n.rscratch,e,t,i),i):Pe(n.rscratch,e,t)};if(!i)return"";"none"==r||("uppercase"==r?i=i.toUpperCase():"lowercase"==r&&(i=i.toLowerCase()));var a=e.pstyle("text-wrap").value;if("wrap"===a){var s=o("labelKey");if(null!=s&&o("labelWrapKey")===s)return o("labelWrapCachedText");for(var l=i.split("\n"),u=e.pstyle("text-max-width").pfValue,c="anywhere"===e.pstyle("text-overflow-wrap").value,h=[],d=/[\s\u200b]+/,f=c?"":" ",p=0;p<l.length;p++){var g=l[p],m=this.calculateLabelDimensions(e,g).width;if(c){var v=g.split("").join("​");g=v}if(m>u){for(var y=g.split(d),b="",x=0;x<y.length;x++){var w=y[x];this.calculateLabelDimensions(e,0===b.length?w:b+f+w).width<=u?b+=w+f:(h.push(b),b=w+f)}b.match(/^[\s\u200b]+$/)||h.push(b)}else h.push(g)}o("labelWrapCachedLines",h),i=o("labelWrapCachedText",h.join("\n")),o("labelWrapKey",s)}else if("ellipsis"===a){for(var _=e.pstyle("text-max-width").pfValue,E="",S=!1,C=0;C<i.length&&!(this.calculateLabelDimensions(e,E+i[C]+"…").width>_);C++)E+=i[C],C===i.length-1&&(S=!0);return S||(E+="…"),E}return i},aa.getLabelJustification=function(e){var t=e.pstyle("text-justification").strValue,n=e.pstyle("text-halign").strValue;if("auto"!==t)return t;if(!e.isNode())return"center";switch(n){case"left":return"right";case"right":return"left";default:return"center"}},aa.calculateLabelDimensions=function(e,t){var n=ce(t,e._private.labelDimsKey),i=this.labelDimCache||(this.labelDimCache=[]),r=i[n];if(null!=r)return r;var o=e.pstyle("font-style").strValue,a=1*e.pstyle("font-size").pfValue+"px",s=e.pstyle("font-family").strValue,l=e.pstyle("font-weight").strValue,u=this.labelCalcDiv;u||(u=this.labelCalcDiv=document.createElement("div"),document.body.appendChild(u));var c=u.style;return c.fontFamily=s,c.fontStyle=o,c.fontSize=a,c.fontWeight=l,c.position="absolute",c.left="-9999px",c.top="-9999px",c.zIndex="-1",c.visibility="hidden",c.pointerEvents="none",c.padding="0",c.lineHeight="1",c.whiteSpace="wrap"===e.pstyle("text-wrap").value?"pre":"normal",u.textContent=t,i[n]={width:Math.ceil(u.clientWidth/1),height:Math.ceil(u.clientHeight/1)}},aa.calculateLabelAngle=function(e,t){var n=e._private.rscratch,i=e.isEdge(),r=e.pstyle((t?t+"-":"")+"text-rotation"),o=r.strValue;return"none"===o?0:i&&"autorotate"===o?n.labelAutoAngle:"autorotate"===o?0:r.pfValue},aa.calculateLabelAngles=function(e){var t=this,n=e.isEdge(),i=e._private.rscratch;i.labelAngle=t.calculateLabelAngle(e),n&&(i.sourceLabelAngle=t.calculateLabelAngle(e,"source"),i.targetLabelAngle=t.calculateLabelAngle(e,"target"))};var ua={},ca=!1;ua.getNodeShape=function(e){var t=e.pstyle("shape").value;if("cutrectangle"===t&&(e.width()<28||e.height()<28))return ca||(Ee("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),ca=!0),"rectangle";if(e.isParent())return"rectangle"===t||"roundrectangle"===t||"cutrectangle"===t||"barrel"===t?t:"rectangle";if("polygon"===t){var n=e.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(n).name}return t};var ha={};[Jo,ea,ta,ia,ra,aa,ua,{registerCalculationListeners:function(){var e=this.cy,t=e.collection(),n=this,i=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t.merge(e),n)for(var i=0;i<e.length;i++)e[i]._private.rstyle.clean=!1};n.binder(e).on("bounds.* dirty.*",(function(e){i(e.target)})).on("style.* background.*",(function(e){i(e.target,!1)}));var r=function(r){if(r){for(var o=n.onUpdateEleCalcsFns,a=0;a<t.length;a++){var s=t[a];s.isNode()&&!s._private.rstyle.clean&&i(s.connectedEdges())}if(o)for(a=0;a<o.length;a++)(0,o[a])(r,t);n.recalculateRenderedStyle(t),t=e.collection()}};n.flushRenderedStyleQueue=function(){r(!0)},n.beforeRender(r,n.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(e){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(e)},recalculateRenderedStyle:function(e,t){var n=[],i=[];if(!this.destroyed){void 0===t&&(t=!0);for(var r=0;r<e.length;r++){var o=(l=(s=e[r])._private).rstyle;t&&o.clean||s.removed()||"none"!==s.pstyle("display").value&&("nodes"===l.group?i.push(s):n.push(s),o.clean=!0)}for(r=0;r<i.length;r++){o=(l=(s=i[r])._private).rstyle;var a=s.position();this.recalculateNodeLabelProjection(s),o.nodeX=a.x,o.nodeY=a.y,o.nodeW=s.pstyle("width").pfValue,o.nodeH=s.pstyle("height").pfValue}for(this.recalculateEdgeProjections(n),r=0;r<n.length;r++){o=(l=(s=n[r])._private).rstyle;var s,l,u=l.rscratch;o.srcX=u.arrowStartX,o.srcY=u.arrowStartY,o.tgtX=u.arrowEndX,o.tgtY=u.arrowEndY,o.midX=u.midX,o.midY=u.midY,o.labelAngle=u.labelAngle,o.sourceLabelAngle=u.sourceLabelAngle,o.targetLabelAngle=u.targetLabelAngle}}}},{updateCachedGrabbedEles:function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],n=0;n<e.length;n++){var i=(r=e[n])._private.rscratch;r.grabbed()&&!r.isParent()?t.push(r):i.inDragLayer?e.drag.push(r):e.nondrag.push(r)}for(n=0;n<t.length;n++){var r=t[n];e.drag.push(r)}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(gr),t.interactive=t.filter((function(e){return e.interactive()})),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t}}].forEach((function(e){I(ha,e)}));var da={getCachedImage:function(e,t,n){var i=this.imageCache=this.imageCache||{},r=i[e];if(r)return r.image.complete||r.image.addEventListener("load",n),r.image;var o=(r=i[e]=i[e]||{}).image=new Image;return o.addEventListener("load",n),o.addEventListener("error",(function(){o.error=!0})),"data:"===e.substring(0,"data:".length).toLowerCase()||(o.crossOrigin=t),o.src=e,o}},fa={registerBinding:function(e,t,n,i){var r=Array.prototype.slice.apply(arguments,[1]),o=this.binder(e);return o.on.apply(o,r)},binder:function(e){var t=this,n=e===window||e===document||e===document.body||"undefined"!=typeof HTMLElement&&e instanceof HTMLElement;if(null==t.supportsPassiveEvents){var i=!1;try{var r=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});window.addEventListener("test",null,r)}catch(e){}t.supportsPassiveEvents=i}var o=function(i,r,o){var a=Array.prototype.slice.call(arguments);return n&&t.supportsPassiveEvents&&(a[2]={capture:null!=o&&o,passive:!1,once:!1}),t.bindings.push({target:e,args:a}),(e.addEventListener||e.on).apply(e,a),this};return{on:o,addEventListener:o,addListener:o,bind:o}},nodeIsDraggable:function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()},nodeIsGrabbable:function(e){return this.nodeIsDraggable(e)&&e.interactive()},load:function(){var e=this,t=function(e){return e.selected()},n=function(t,n,i,r){null==t&&(t=e.cy);for(var o=0;o<n.length;o++)t.emit({originalEvent:i,type:n[o],position:r})},i=function(e){return e.shiftKey||e.metaKey||e.ctrlKey},r=function(t,n){var i=!0;if(e.cy.hasCompoundNodes()&&t&&t.isEdge()){for(var r=0;n&&r<n.length;r++)if((t=n[r]).isNode()&&t.isParent()){i=!1;break}}else i=!0;return i},o=function(e){e[0]._private.rscratch.inDragLayer=!0},a=function(e){e[0]._private.rscratch.isGrabTarget=!0},s=function(e,t){var n=t.addToList;n.has(e)||(n.merge(e),function(e){e[0]._private.grabbed=!0}(e))},l=function(t,n){n=n||{};var i=t.cy().hasCompoundNodes();n.inDragLayer&&(t.forEach(o),t.neighborhood().stdFilter((function(e){return!i||e.isEdge()})).forEach(o)),n.addToList&&t.forEach((function(e){s(e,n)})),function(e,t){if(e.cy().hasCompoundNodes()&&(null!=t.inDragLayer||null!=t.addToList)){var n=e.descendants();t.inDragLayer&&(n.forEach(o),n.connectedEdges().forEach(o)),t.addToList&&t.addToList.unmerge(n)}}(t,n),h(t,{inDragLayer:n.inDragLayer}),e.updateCachedGrabbedEles()},u=l,c=function(t){t&&(e.getCachedZSortedEles().forEach((function(e){!function(e){e[0]._private.grabbed=!1}(e),function(e){e[0]._private.rscratch.inDragLayer=!1}(e),function(e){e[0]._private.rscratch.isGrabTarget=!1}(e)})),e.updateCachedGrabbedEles())},h=function(e,t){if((null!=t.inDragLayer||null!=t.addToList)&&e.cy().hasCompoundNodes()){var n=e.ancestors().orphans();if(!n.same(e)){var i=n.descendants().spawnSelf().merge(n).unmerge(e).unmerge(e.descendants()),r=i.connectedEdges();t.inDragLayer&&(r.forEach(o),i.forEach(o)),t.addToList&&i.forEach((function(e){s(e,t)}))}}},d=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},f="undefined"!=typeof MutationObserver;f?(e.removeObserver=new MutationObserver((function(t){for(var n=0;n<t.length;n++){var i=t[n].removedNodes;if(i)for(var r=0;r<i.length;r++)if(i[r]===e.container){e.destroy();break}}})),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",(function(t){e.destroy()}));var p=te((function(){e.cy.resize()}),100);f&&(e.styleObserver=new MutationObserver(p),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(window,"resize",p);var g=function(){e.invalidateContainerClientCoordsCache()};!function(e,t){for(;null!=e;)t(e),e=e.parentNode}(e.container,(function(t){e.registerBinding(t,"transitionend",g),e.registerBinding(t,"animationend",g),e.registerBinding(t,"scroll",g)})),e.registerBinding(e.container,"contextmenu",(function(e){e.preventDefault()}));var v,y,b,x,w,_,E,S,C,T,k,D,A,O=function(t){for(var n=e.findContainerClientCoords(),i=n[0],r=n[1],o=n[2],a=n[3],s=t.touches?t.touches:[t],l=!1,u=0;u<s.length;u++){var c=s[u];if(i<=c.clientX&&c.clientX<=i+o&&r<=c.clientY&&c.clientY<=r+a){l=!0;break}}if(!l)return!1;for(var h=e.container,d=t.target.parentNode,f=!1;d;){if(d===h){f=!0;break}d=d.parentNode}return!!f};e.registerBinding(e.container,"mousedown",(function(t){if(O(t)){t.preventDefault(),d(),e.hoverData.capture=!0,e.hoverData.which=t.which;var i=e.cy,r=[t.clientX,t.clientY],o=e.projectIntoViewport(r[0],r[1]),s=e.selection,c=e.findNearestElements(o[0],o[1],!0,!1),h=c[0],f=e.dragData.possibleDragElements;if(e.hoverData.mdownPos=o,e.hoverData.mdownGPos=r,3==t.which){e.hoverData.cxtStarted=!0;var p={originalEvent:t,type:"cxttapstart",position:{x:o[0],y:o[1]}};h?(h.activate(),h.emit(p),e.hoverData.down=h):i.emit(p),e.hoverData.downTime=(new Date).getTime(),e.hoverData.cxtDragged=!1}else if(1==t.which){if(h&&h.activate(),null!=h&&e.nodeIsGrabbable(h)){var g=function(e){return{originalEvent:t,type:e,position:{x:o[0],y:o[1]}}};if(a(h),h.selected()){f=e.dragData.possibleDragElements=i.collection();var m=i.$((function(t){return t.isNode()&&t.selected()&&e.nodeIsGrabbable(t)}));l(m,{addToList:f}),h.emit(g("grabon")),m.forEach((function(e){e.emit(g("grab"))}))}else f=e.dragData.possibleDragElements=i.collection(),u(h,{addToList:f}),h.emit(g("grabon")).emit(g("grab"));e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=h,e.hoverData.downs=c,e.hoverData.downTime=(new Date).getTime(),n(h,["mousedown","tapstart","vmousedown"],t,{x:o[0],y:o[1]}),null==h?(s[4]=1,e.data.bgActivePosistion={x:o[0],y:o[1]},e.redrawHint("select",!0),e.redraw()):h.isEdge()&&(s[4]=1),e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout((function(){if(!e.hoverData.tapholdCancelled){var n=e.hoverData.down;n?n.emit({originalEvent:t,type:"taphold",position:{x:o[0],y:o[1]}}):i.emit({originalEvent:t,type:"taphold",position:{x:o[0],y:o[1]}})}}),e.tapholdDuration)}s[0]=s[2]=o[0],s[1]=s[3]=o[1]}}),!1),e.registerBinding(window,"mousemove",(function(t){if(e.hoverData.capture||O(t)){var o=!1,a=e.cy,s=a.zoom(),u=[t.clientX,t.clientY],h=e.projectIntoViewport(u[0],u[1]),d=e.hoverData.mdownPos,f=e.hoverData.mdownGPos,p=e.selection,g=null;e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.selecting||(g=e.findNearestElement(h[0],h[1],!0,!1));var v,y=e.hoverData.last,b=e.hoverData.down,x=[h[0]-p[2],h[1]-p[3]],w=e.dragData.possibleDragElements;if(f){var _=u[0]-f[0],E=u[1]-f[1];e.hoverData.isOverThresholdDrag=v=_*_+E*E>=e.desktopTapThreshold2}var S=i(t);v&&(e.hoverData.tapholdCancelled=!0),o=!0,n(g,["mousemove","vmousemove","tapdrag"],t,{x:h[0],y:h[1]});var C=function(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||a.emit({originalEvent:t,type:"boxstart",position:{x:h[0],y:h[1]}}),p[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()};if(3===e.hoverData.which){if(v){var T={originalEvent:t,type:"cxtdrag",position:{x:h[0],y:h[1]}};b?b.emit(T):a.emit(T),e.hoverData.cxtDragged=!0,e.hoverData.cxtOver&&g===e.hoverData.cxtOver||(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit({originalEvent:t,type:"cxtdragout",position:{x:h[0],y:h[1]}}),e.hoverData.cxtOver=g,g&&g.emit({originalEvent:t,type:"cxtdragover",position:{x:h[0],y:h[1]}}))}}else if(e.hoverData.dragging){if(o=!0,a.panningEnabled()&&a.userPanningEnabled()){var k;if(e.hoverData.justStartedPan){var D=e.hoverData.mdownPos;k={x:(h[0]-D[0])*s,y:(h[1]-D[1])*s},e.hoverData.justStartedPan=!1}else k={x:x[0]*s,y:x[1]*s};a.panBy(k),e.hoverData.dragged=!0}h=e.projectIntoViewport(t.clientX,t.clientY)}else if(1!=p[4]||null!=b&&!b.isEdge()){if(b&&b.isEdge()&&b.active()&&b.unactivate(),b&&b.grabbed()||g==y||(y&&n(y,["mouseout","tapdragout"],t,{x:h[0],y:h[1]}),g&&n(g,["mouseover","tapdragover"],t,{x:h[0],y:h[1]}),e.hoverData.last=g),b)if(v){if(a.boxSelectionEnabled()&&S)b&&b.grabbed()&&(c(w),b.emit("freeon"),w.emit("free"),e.dragData.didDrag&&(b.emit("dragfreeon"),w.emit("dragfree"))),C();else if(b&&b.grabbed()&&e.nodeIsDraggable(b)){var A=!e.dragData.didDrag;A&&e.redrawHint("eles",!0),e.dragData.didDrag=!0;var P=a.collection();e.hoverData.draggingEles||l(w,{inDragLayer:!0});var M={x:0,y:0};if(m(x[0])&&m(x[1])&&(M.x+=x[0],M.y+=x[1],A)){var I=e.hoverData.dragDelta;I&&m(I[0])&&m(I[1])&&(M.x+=I[0],M.y+=I[1])}for(var N=0;N<w.length;N++){var L=w[N];e.nodeIsDraggable(L)&&L.grabbed()&&P.merge(L)}e.hoverData.draggingEles=!0,P.silentShift(M).emit("position drag"),e.redrawHint("drag",!0),e.redraw()}}else!function(){var t=e.hoverData.dragDelta=e.hoverData.dragDelta||[];0===t.length?(t.push(x[0]),t.push(x[1])):(t[0]+=x[0],t[1]+=x[1])}();o=!0}else v&&(e.hoverData.dragging||!a.boxSelectionEnabled()||!S&&a.panningEnabled()&&a.userPanningEnabled()?!e.hoverData.selecting&&a.panningEnabled()&&a.userPanningEnabled()&&r(b,e.hoverData.downs)&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,p[4]=0,e.data.bgActivePosistion=tt(d),e.redrawHint("select",!0),e.redraw()):C(),b&&b.isEdge()&&b.active()&&b.unactivate());return p[2]=h[0],p[3]=h[1],o?(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),!1):void 0}}),!1),e.registerBinding(window,"mouseup",(function(r){if(e.hoverData.capture){e.hoverData.capture=!1;var o=e.cy,a=e.projectIntoViewport(r.clientX,r.clientY),s=e.selection,l=e.findNearestElement(a[0],a[1],!0,!1),u=e.dragData.possibleDragElements,h=e.hoverData.down,d=i(r);if(e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,h&&h.unactivate(),3===e.hoverData.which){var f={originalEvent:r,type:"cxttapend",position:{x:a[0],y:a[1]}};if(h?h.emit(f):o.emit(f),!e.hoverData.cxtDragged){var p={originalEvent:r,type:"cxttap",position:{x:a[0],y:a[1]}};h?h.emit(p):o.emit(p)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(1===e.hoverData.which){if(n(l,["mouseup","tapend","vmouseup"],r,{x:a[0],y:a[1]}),e.dragData.didDrag||e.hoverData.dragged||e.hoverData.selecting||e.hoverData.isOverThresholdDrag||n(h,["click","tap","vclick"],r,{x:a[0],y:a[1]}),null!=h||e.dragData.didDrag||e.hoverData.selecting||e.hoverData.dragged||i(r)||(o.$(t).unselect(["tapunselect"]),u.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=u=o.collection()),l!=h||e.dragData.didDrag||e.hoverData.selecting||null!=l&&l._private.selectable&&(e.hoverData.dragging||("additive"===o.selectionType()||d?l.selected()?l.unselect(["tapunselect"]):l.select(["tapselect"]):d||(o.$(t).unmerge(l).unselect(["tapunselect"]),l.select(["tapselect"]))),e.redrawHint("eles",!0)),e.hoverData.selecting){var g=o.collection(e.getAllInBox(s[0],s[1],s[2],s[3]));e.redrawHint("select",!0),g.length>0&&e.redrawHint("eles",!0),o.emit({type:"boxend",originalEvent:r,position:{x:a[0],y:a[1]}});var m=function(e){return e.selectable()&&!e.selected()};"additive"===o.selectionType()?g.emit("box").stdFilter(m).select().emit("boxselect"):(d||o.$(t).unmerge(g).unselect(),g.emit("box").stdFilter(m).select().emit("boxselect")),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!s[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var v=h&&h.grabbed();c(u),v&&(h.emit("freeon"),u.emit("free"),e.dragData.didDrag&&(h.emit("dragfreeon"),u.emit("dragfree")))}}s[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null}}),!1),e.registerBinding(e.container,"wheel",(function(t){if(!e.scrollingPage){var n,i=e.cy,r=e.projectIntoViewport(t.clientX,t.clientY),o=[r[0]*i.zoom()+i.pan().x,r[1]*i.zoom()+i.pan().y];e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||0!==e.selection[4]?t.preventDefault():i.panningEnabled()&&i.userPanningEnabled()&&i.zoomingEnabled()&&i.userZoomingEnabled()&&(t.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout((function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()}),150),n=null!=t.deltaY?t.deltaY/-250:null!=t.wheelDeltaY?t.wheelDeltaY/1e3:t.wheelDelta/1e3,n*=e.wheelSensitivity,1===t.deltaMode&&(n*=33),i.zoom({level:i.zoom()*Math.pow(10,n),renderedPosition:{x:o[0],y:o[1]}}))}}),!0),e.registerBinding(window,"scroll",(function(t){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout((function(){e.scrollingPage=!1}),250)}),!0),e.registerBinding(e.container,"mouseout",(function(t){var n=e.projectIntoViewport(t.clientX,t.clientY);e.cy.emit({originalEvent:t,type:"mouseout",position:{x:n[0],y:n[1]}})}),!1),e.registerBinding(e.container,"mouseover",(function(t){var n=e.projectIntoViewport(t.clientX,t.clientY);e.cy.emit({originalEvent:t,type:"mouseover",position:{x:n[0],y:n[1]}})}),!1);var P,M,I,N,L=function(e,t,n,i){return Math.sqrt((n-e)*(n-e)+(i-t)*(i-t))},R=function(e,t,n,i){return(n-e)*(n-e)+(i-t)*(i-t)};if(e.registerBinding(e.container,"touchstart",P=function(t){if(O(t)){d(),e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var i=e.cy,r=e.touchData.now,o=e.touchData.earlier;if(t.touches[0]){var s=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);r[0]=s[0],r[1]=s[1]}if(t.touches[1]&&(s=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY),r[2]=s[0],r[3]=s[1]),t.touches[2]&&(s=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY),r[4]=s[0],r[5]=s[1]),t.touches[1]){c(e.dragData.touchDragEles);var h=e.findContainerClientCoords();k=h[2],D=h[3],y=t.touches[0].clientY-(T=h[1]),b=t.touches[1].clientX-(C=h[0]),x=t.touches[1].clientY-T,A=0<=(v=t.touches[0].clientX-C)&&v<=k&&0<=b&&b<=k&&0<=y&&y<=D&&0<=x&&x<=D;var f=i.pan(),p=i.zoom();if(w=L(v,y,b,x),_=R(v,y,b,x),S=[((E=[(v+b)/2,(y+x)/2])[0]-f.x)/p,(E[1]-f.y)/p],_<4e4&&!t.touches[2]){var g=e.findNearestElement(r[0],r[1],!0,!0),m=e.findNearestElement(r[2],r[3],!0,!0);return g&&g.isNode()?(g.activate().emit({originalEvent:t,type:"cxttapstart",position:{x:r[0],y:r[1]}}),e.touchData.start=g):m&&m.isNode()?(m.activate().emit({originalEvent:t,type:"cxttapstart",position:{x:r[0],y:r[1]}}),e.touchData.start=m):i.emit({originalEvent:t,type:"cxttapstart",position:{x:r[0],y:r[1]}}),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,void e.redraw()}}if(t.touches[2]);else if(t.touches[1]);else if(t.touches[0]){var P=e.findNearestElements(r[0],r[1],!0,!0),M=P[0];if(null!=M&&(M.activate(),e.touchData.start=M,e.touchData.starts=P,e.nodeIsGrabbable(M))){var I=e.dragData.touchDragEles=i.collection(),N=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),M.selected()?(N=i.$((function(t){return t.selected()&&e.nodeIsGrabbable(t)})),l(N,{addToList:I})):u(M,{addToList:I}),a(M);var B=function(e){return{originalEvent:t,type:e,position:{x:r[0],y:r[1]}}};M.emit(B("grabon")),N?N.forEach((function(e){e.emit(B("grab"))})):M.emit(B("grab"))}n(M,["touchstart","tapstart","vmousedown"],t,{x:r[0],y:r[1]}),null==M&&(e.data.bgActivePosistion={x:s[0],y:s[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout((function(){!1!==e.touchData.singleTouchMoved||e.pinching||e.touchData.selecting||n(e.touchData.start,["taphold"],t,{x:r[0],y:r[1]})}),e.tapholdDuration)}if(t.touches.length>=1){for(var j=e.touchData.startPosition=[],F=0;F<r.length;F++)j[F]=o[F]=r[F];var H=t.touches[0];e.touchData.startGPosition=[H.clientX,H.clientY]}}},!1),e.registerBinding(window,"touchmove",M=function(t){var i=e.touchData.capture;if(i||O(t)){var o=e.selection,a=e.cy,s=e.touchData.now,u=e.touchData.earlier,h=a.zoom();if(t.touches[0]){var d=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);s[0]=d[0],s[1]=d[1]}t.touches[1]&&(d=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY),s[2]=d[0],s[3]=d[1]),t.touches[2]&&(d=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY),s[4]=d[0],s[5]=d[1]);var f,p=e.touchData.startGPosition;if(i&&t.touches[0]&&p){for(var g=[],E=0;E<s.length;E++)g[E]=s[E]-u[E];var k=t.touches[0].clientX-p[0],D=t.touches[0].clientY-p[1];f=k*k+D*D>=e.touchTapThreshold2}if(i&&e.touchData.cxt){t.preventDefault();var P=t.touches[0].clientX-C,M=t.touches[0].clientY-T,I=t.touches[1].clientX-C,N=t.touches[1].clientY-T,B=R(P,M,I,N);if(B/_>=2.25||B>=22500){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var j={originalEvent:t,type:"cxttapend",position:{x:s[0],y:s[1]}};e.touchData.start?(e.touchData.start.unactivate().emit(j),e.touchData.start=null):a.emit(j)}}if(i&&e.touchData.cxt){j={originalEvent:t,type:"cxtdrag",position:{x:s[0],y:s[1]}},e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(j):a.emit(j),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var F=e.findNearestElement(s[0],s[1],!0,!0);e.touchData.cxtOver&&F===e.touchData.cxtOver||(e.touchData.cxtOver&&e.touchData.cxtOver.emit({originalEvent:t,type:"cxtdragout",position:{x:s[0],y:s[1]}}),e.touchData.cxtOver=F,F&&F.emit({originalEvent:t,type:"cxtdragover",position:{x:s[0],y:s[1]}}))}else if(i&&t.touches[2]&&a.boxSelectionEnabled())t.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||a.emit({originalEvent:t,type:"boxstart",position:{x:s[0],y:s[1]}}),e.touchData.selecting=!0,e.redrawHint("select",!0),o&&0!==o.length&&void 0!==o[0]?(o[2]=(s[0]+s[2]+s[4])/3,o[3]=(s[1]+s[3]+s[5])/3):(o[0]=(s[0]+s[2]+s[4])/3,o[1]=(s[1]+s[3]+s[5])/3,o[2]=(s[0]+s[2]+s[4])/3+1,o[3]=(s[1]+s[3]+s[5])/3+1),o[4]=1,e.touchData.selecting=!0,e.redraw();else if(i&&t.touches[1]&&a.zoomingEnabled()&&a.panningEnabled()&&a.userZoomingEnabled()&&a.userPanningEnabled()){if(t.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),J=e.dragData.touchDragEles){e.redrawHint("drag",!0);for(var H=0;H<J.length;H++){var Y=J[H]._private;Y.grabbed=!1,Y.rscratch.inDragLayer=!1}}var z=e.touchData.start,W=L(P=t.touches[0].clientX-C,M=t.touches[0].clientY-T,I=t.touches[1].clientX-C,N=t.touches[1].clientY-T),$=W/w;if(A){var V=(P-v+(I-b))/2,q=(M-y+(N-x))/2,X=a.zoom(),U=X*$,G=a.pan(),K=S[0]*X+G.x,Q=S[1]*X+G.y,Z={x:-U/X*(K-G.x-V)+K,y:-U/X*(Q-G.y-q)+Q};if(z&&z.active()){var J=e.dragData.touchDragEles;c(J),e.redrawHint("drag",!0),e.redrawHint("eles",!0),z.unactivate().emit("freeon"),J.emit("free"),e.dragData.didDrag&&(z.emit("dragfreeon"),J.emit("dragfree"))}a.viewport({zoom:U,pan:Z,cancelOnFailedZoom:!0}),w=W,v=P,y=M,b=I,x=N,e.pinching=!0}t.touches[0]&&(d=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY),s[0]=d[0],s[1]=d[1]),t.touches[1]&&(d=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY),s[2]=d[0],s[3]=d[1]),t.touches[2]&&(d=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY),s[4]=d[0],s[5]=d[1])}else if(t.touches[0]){var ee=e.touchData.start,te=e.touchData.last;if(e.hoverData.draggingEles||e.swipePanning||(F=e.findNearestElement(s[0],s[1],!0,!0)),i&&null!=ee&&t.preventDefault(),i&&null!=ee&&e.nodeIsDraggable(ee))if(f){J=e.dragData.touchDragEles;var ne=!e.dragData.didDrag;ne&&l(J,{inDragLayer:!0}),e.dragData.didDrag=!0;var ie={x:0,y:0};m(g[0])&&m(g[1])&&(ie.x+=g[0],ie.y+=g[1],ne&&(e.redrawHint("eles",!0),(re=e.touchData.dragDelta)&&m(re[0])&&m(re[1])&&(ie.x+=re[0],ie.y+=re[1]))),e.hoverData.draggingEles=!0,J.silentShift(ie).emit("position drag"),e.redrawHint("drag",!0),e.touchData.startPosition[0]==u[0]&&e.touchData.startPosition[1]==u[1]&&e.redrawHint("eles",!0),e.redraw()}else{var re;0===(re=e.touchData.dragDelta=e.touchData.dragDelta||[]).length?(re.push(g[0]),re.push(g[1])):(re[0]+=g[0],re[1]+=g[1])}if(n(ee||F,["touchmove","tapdrag","vmousemove"],t,{x:s[0],y:s[1]}),ee&&ee.grabbed()||F==te||(te&&te.emit({originalEvent:t,type:"tapdragout",position:{x:s[0],y:s[1]}}),F&&F.emit({originalEvent:t,type:"tapdragover",position:{x:s[0],y:s[1]}})),e.touchData.last=F,i)for(H=0;H<s.length;H++)s[H]&&e.touchData.startPosition[H]&&f&&(e.touchData.singleTouchMoved=!0);i&&(null==ee||ee.isEdge())&&a.panningEnabled()&&a.userPanningEnabled()&&(r(ee,e.touchData.starts)&&(t.preventDefault(),e.swipePanning?a.panBy({x:g[0]*h,y:g[1]*h}):f&&(e.swipePanning=!0,a.panBy({x:k*h,y:D*h}),ee&&(ee.unactivate(),e.data.bgActivePosistion||(e.data.bgActivePosistion=tt(e.touchData.startPosition)),e.redrawHint("select",!0),e.touchData.start=null))),d=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY),s[0]=d[0],s[1]=d[1])}for(E=0;E<s.length;E++)u[E]=s[E];i&&t.touches.length>0&&!e.hoverData.draggingEles&&!e.swipePanning&&null!=e.data.bgActivePosistion&&(e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.redraw())}},!1),e.registerBinding(window,"touchcancel",I=function(t){var n=e.touchData.start;e.touchData.capture=!1,n&&n.unactivate()}),e.registerBinding(window,"touchend",N=function(i){var r=e.touchData.start;if(e.touchData.capture){0===i.touches.length&&(e.touchData.capture=!1),i.preventDefault();var o=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var a,s=e.cy,l=s.zoom(),u=e.touchData.now,h=e.touchData.earlier;if(i.touches[0]){var d=e.projectIntoViewport(i.touches[0].clientX,i.touches[0].clientY);u[0]=d[0],u[1]=d[1]}if(i.touches[1]&&(d=e.projectIntoViewport(i.touches[1].clientX,i.touches[1].clientY),u[2]=d[0],u[3]=d[1]),i.touches[2]&&(d=e.projectIntoViewport(i.touches[2].clientX,i.touches[2].clientY),u[4]=d[0],u[5]=d[1]),r&&r.unactivate(),e.touchData.cxt){if(a={originalEvent:i,type:"cxttapend",position:{x:u[0],y:u[1]}},r?r.emit(a):s.emit(a),!e.touchData.cxtDragged){var f={originalEvent:i,type:"cxttap",position:{x:u[0],y:u[1]}};r?r.emit(f):s.emit(f)}return e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,void e.redraw()}if(!i.touches[2]&&s.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var p=s.collection(e.getAllInBox(o[0],o[1],o[2],o[3]));o[0]=void 0,o[1]=void 0,o[2]=void 0,o[3]=void 0,o[4]=0,e.redrawHint("select",!0),s.emit({type:"boxend",originalEvent:i,position:{x:u[0],y:u[1]}}),p.emit("box").stdFilter((function(e){return e.selectable()&&!e.selected()})).select().emit("boxselect"),p.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(null!=r&&r.unactivate(),i.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(i.touches[1]);else if(i.touches[0]);else if(!i.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var g=e.dragData.touchDragEles;if(null!=r){var m=r._private.grabbed;c(g),e.redrawHint("drag",!0),e.redrawHint("eles",!0),m&&(r.emit("freeon"),g.emit("free"),e.dragData.didDrag&&(r.emit("dragfreeon"),g.emit("dragfree"))),n(r,["touchend","tapend","vmouseup","tapdragout"],i,{x:u[0],y:u[1]}),r.unactivate(),e.touchData.start=null}else{var v=e.findNearestElement(u[0],u[1],!0,!0);n(v,["touchend","tapend","vmouseup","tapdragout"],i,{x:u[0],y:u[1]})}var y=e.touchData.startPosition[0]-u[0],b=e.touchData.startPosition[1]-u[1],x=(y*y+b*b)*l*l;e.touchData.singleTouchMoved||(r||s.$(":selected").unselect(["tapunselect"]),n(r,["tap","vclick"],i,{x:u[0],y:u[1]})),null!=r&&!e.dragData.didDrag&&r._private.selectable&&x<e.touchTapThreshold2&&!e.pinching&&("single"===s.selectionType()?(s.$(t).unmerge(r).unselect(["tapunselect"]),r.select(["tapselect"])):r.selected()?r.unselect(["tapunselect"]):r.select(["tapselect"]),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved=!0}for(var w=0;w<u.length;w++)h[w]=u[w];e.dragData.didDrag=!1,0===i.touches.length&&(e.touchData.dragDelta=[],e.touchData.startPosition=null,e.touchData.startGPosition=null),i.touches.length<2&&(e.pinching=!1,e.redrawHint("eles",!0),e.redraw())}},!1),"undefined"==typeof TouchEvent){var B=[],j=function(e){return{clientX:e.clientX,clientY:e.clientY,force:1,identifier:e.pointerId,pageX:e.pageX,pageY:e.pageY,radiusX:e.width/2,radiusY:e.height/2,screenX:e.screenX,screenY:e.screenY,target:e.target}},F=function(e){for(var t=0;t<B.length;t++)if(B[t].event.pointerId===e.pointerId)return void B.splice(t,1)},H=function(e){e.touches=B.map((function(e){return e.touch}))},Y=function(e){return"mouse"===e.pointerType||4===e.pointerType};e.registerBinding(e.container,"pointerdown",(function(e){Y(e)||(e.preventDefault(),function(e){B.push(function(e){return{event:e,touch:j(e)}}(e))}(e),H(e),P(e))})),e.registerBinding(e.container,"pointerup",(function(e){Y(e)||(F(e),H(e),N(e))})),e.registerBinding(e.container,"pointercancel",(function(e){Y(e)||(F(e),H(e),I())})),e.registerBinding(e.container,"pointermove",(function(e){Y(e)||(e.preventDefault(),function(e){var t=B.filter((function(t){return t.event.pointerId===e.pointerId}))[0];t.event=e,t.touch=j(e)}(e),H(e),M(e))}))}}},pa={generatePolygon:function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:function(e,t,n,i,r){this.renderer.nodeShapeImpl("polygon",e,t,n,i,r,this.points)},intersectLine:function(e,t,n,i,r,o,a){return Nt(r,o,this.points,e,t,n/2,i/2,a)},checkPoint:function(e,t,n,i,r,o,a){return kt(e,t,this.points,o,a,i,r,[0,-1],n)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,t,n,i,r){this.renderer.nodeShapeImpl(this.name,e,t,n,i,r)},intersectLine:function(e,t,n,i,r,o,a){return function(e,t,n,i,r,o){var a=n-e,s=i-t;a/=r,s/=o;var l=Math.sqrt(a*a+s*s),u=l-1;if(u<0)return[];var c=u/l;return[(n-e)*c+e,(i-t)*c+t]}(r,o,e,t,n/2+a,i/2+a)},checkPoint:function(e,t,n,i,r,o,a){return Ot(e,t,i,r,o,a,n)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Rt(4,0),draw:function(e,t,n,i,r){this.renderer.nodeShapeImpl(this.name,e,t,n,i,r)},intersectLine:function(e,t,n,i,r,o,a){return wt(r,o,e,t,n,i,a)},checkPoint:function(e,t,n,i,r,o,a){var s=Ft(i,r),l=2*s;return!!(kt(e,t,this.points,o,a,i,r-l,[0,-1],n)||kt(e,t,this.points,o,a,i-l,r,[0,-1],n)||Ot(e,t,l,l,o-i/2+s,a-r/2+s,n)||Ot(e,t,l,l,o+i/2-s,a-r/2+s,n)||Ot(e,t,l,l,o+i/2-s,a+r/2-s,n)||Ot(e,t,l,l,o-i/2+s,a+r/2-s,n))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:Rt(4,0),draw:function(e,t,n,i,r){this.renderer.nodeShapeImpl(this.name,e,t,n,i,r)},generateCutTrianglePts:function(e,t,n,i){var r=this.cornerLength,o=t/2,a=e/2,s=n-a,l=n+a,u=i-o,c=i+o;return{topLeft:[s,u+r,s+r,u,s+r,u+r],topRight:[l-r,u,l,u+r,l-r,u+r],bottomRight:[l,c-r,l-r,c,l-r,c-r],bottomLeft:[s+r,c,s,c-r,s+r,c-r]}},intersectLine:function(e,t,n,i,r,o,a){var s=this.generateCutTrianglePts(n+2*a,i+2*a,e,t),l=[].concat.apply([],[s.topLeft.splice(0,4),s.topRight.splice(0,4),s.bottomRight.splice(0,4),s.bottomLeft.splice(0,4)]);return Nt(r,o,l,e,t)},checkPoint:function(e,t,n,i,r,o,a){if(kt(e,t,this.points,o,a,i,r-2*this.cornerLength,[0,-1],n))return!0;if(kt(e,t,this.points,o,a,i-2*this.cornerLength,r,[0,-1],n))return!0;var s=this.generateCutTrianglePts(i,r,o,a);return Tt(e,t,s.topLeft)||Tt(e,t,s.topRight)||Tt(e,t,s.bottomRight)||Tt(e,t,s.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Rt(4,0),draw:function(e,t,n,i,r){this.renderer.nodeShapeImpl(this.name,e,t,n,i,r)},intersectLine:function(e,t,n,i,r,o,a){var s=this.generateBarrelBezierPts(n+2*a,i+2*a,e,t),l=function(e){var t=ut({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.15),n=ut({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.5),i=ut({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.85);return[e[0],e[1],t.x,t.y,n.x,n.y,i.x,i.y,e[4],e[5]]},u=[].concat(l(s.topLeft),l(s.topRight),l(s.bottomRight),l(s.bottomLeft));return Nt(r,o,u,e,t)},generateBarrelBezierPts:function(e,t,n,i){var r=t/2,o=e/2,a=n-o,s=n+o,l=i-r,u=i+r,c=Ht(e,t),h=c.heightOffset,d=c.widthOffset,f=c.ctrlPtOffsetPct*e,p={topLeft:[a,l+h,a+f,l,a+d,l],topRight:[s-d,l,s-f,l,s,l+h],bottomRight:[s,u-h,s-f,u,s-d,u],bottomLeft:[a+d,u,a+f,u,a,u-h]};return p.topLeft.isTop=!0,p.topRight.isTop=!0,p.bottomLeft.isBottom=!0,p.bottomRight.isBottom=!0,p},checkPoint:function(e,t,n,i,r,o,a){var s=Ht(i,r),l=s.widthOffset;if(kt(e,t,this.points,o,a,i,r-2*s.heightOffset,[0,-1],n))return!0;if(kt(e,t,this.points,o,a,i-2*l,r,[0,-1],n))return!0;for(var u=this.generateBarrelBezierPts(i,r,o,a),c=function(e,t,n){var i=n[4],r=n[2],o=n[0],a=n[5],s=n[1],l=Math.min(i,o),u=Math.max(i,o),c=Math.min(a,s),h=Math.max(a,s);if(l<=e&&e<=u&&c<=t&&t<=h){var d=function(e,t,n){return[e-2*t+n,2*(t-e),e]}(i,r,o),f=function(e,t,n,i){var r=t*t-4*e*(n-=i);if(r<0)return[];var o=Math.sqrt(r),a=2*e;return[(-t+o)/a,(-t-o)/a]}(d[0],d[1],d[2],e).filter((function(e){return 0<=e&&e<=1}));if(f.length>0)return f[0]}return null},h=Object.keys(u),d=0;d<h.length;d++){var f=u[h[d]],p=c(e,t,f);if(null!=p){var g=lt(f[5],f[3],f[1],p);if(f.isTop&&g<=t)return!0;if(f.isBottom&&t<=g)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Rt(4,0),draw:function(e,t,n,i,r){this.renderer.nodeShapeImpl(this.name,e,t,n,i,r)},intersectLine:function(e,t,n,i,r,o,a){var s=t-(i/2+a),l=It(r,o,e,t,e-(n/2+a),s,e+(n/2+a),s,!1);return l.length>0?l:wt(r,o,e,t,n,i,a)},checkPoint:function(e,t,n,i,r,o,a){var s=Ft(i,r),l=2*s;if(kt(e,t,this.points,o,a,i,r-l,[0,-1],n))return!0;if(kt(e,t,this.points,o,a,i-l,r,[0,-1],n))return!0;var u=i/2+2*n,c=r/2+2*n;return!!Tt(e,t,[o-u,a-c,o-u,a,o+u,a,o+u,a-c])||!!Ot(e,t,l,l,o+i/2-s,a+r/2-s,n)||!!Ot(e,t,l,l,o-i/2+s,a+r/2-s,n)}}},registerNodeShapes:function(){var e=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",Rt(3,0)),this.generatePolygon("rectangle",Rt(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle(),this.generatePolygon("diamond",[0,1,1,0,0,-1,-1,0]),this.generatePolygon("pentagon",Rt(5,0)),this.generatePolygon("hexagon",Rt(6,0)),this.generatePolygon("heptagon",Rt(7,0)),this.generatePolygon("octagon",Rt(8,0));var n=new Array(20),i=jt(5,0),r=jt(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var a=0;a<r.length/2;a++)r[2*a]*=o,r[2*a+1]*=o;for(a=0;a<5;a++)n[4*a]=i[2*a],n[4*a+1]=i[2*a+1],n[4*a+2]=r[2*a],n[4*a+3]=r[2*a+1];n=Bt(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]),this.generatePolygon("tag",[-1,-1,.25,-1,1,0,.25,1,-1,1]),e.makePolygon=function(e){var n,i="polygon-"+e.join("$");return(n=this[i])?n:t.generatePolygon(i,e)}}},ga={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(e){e=e||ke();var t=this;void 0===t.averageRedrawTime&&(t.averageRedrawTime=0),void 0===t.lastRedrawTime&&(t.lastRedrawTime=0),void 0===t.lastDrawTime&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e},beforeRender:function(e,t){if(!this.destroyed){null==t&&we("Priority is not optional for beforeRender");var n=this.beforeRenderCallbacks;n.push({fn:e,priority:t}),n.sort((function(e,t){return t.priority-e.priority}))}}},ma=function(e,t,n){for(var i=e.beforeRenderCallbacks,r=0;r<i.length;r++)i[r].fn(t,n)};ga.startRenderLoop=function(){var e=this,t=e.cy;e.renderLoopStarted||(e.renderLoopStarted=!0,oe((function n(i){if(!e.destroyed){if(t.batching());else if(e.requestedFrame&&!e.skipFrame){ma(e,!0,i);var r=ae();e.render(e.renderOptions);var o=e.lastDrawTime=ae();void 0===e.averageRedrawTime&&(e.averageRedrawTime=o-r),void 0===e.redrawCount&&(e.redrawCount=0),e.redrawCount++,void 0===e.redrawTotalTime&&(e.redrawTotalTime=0);var a=o-r;e.redrawTotalTime+=a,e.lastRedrawTime=a,e.averageRedrawTime=e.averageRedrawTime/2+a/2,e.requestedFrame=!1}else ma(e,!1,i);e.skipFrame=!1,oe(n)}})))};var va=function(e){this.init(e)},ya=va.prototype;ya.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],ya.init=function(e){var t=this;t.options=e,t.cy=e.cy;var n=t.container=e.cy.container();if(o){var i=o.document,r=i.head,a="__________cytoscape_container",s=null!=i.getElementById("__________cytoscape_stylesheet");if(n.className.indexOf(a)<0&&(n.className=(n.className||"")+" "+a),!s){var l=i.createElement("style");l.id="__________cytoscape_stylesheet",l.innerHTML="."+a+" { position: relative; }",r.insertBefore(l,r.children[0])}"static"===o.getComputedStyle(n).getPropertyValue("position")&&Ee("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.hideLabelsOnViewport=e.hideLabelsOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=m(e.pixelRatio)?e.pixelRatio:null,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()},ya.notify=function(e,t){var n=this;this.destroyed||("init"!==e?"destroy"!==e?(("add"===e||"remove"===e||"move"===e&&n.cy.hasCompoundNodes()||"load"===e||"zorder"===e||"mount"===e)&&n.invalidateCachedZSortedEles(),"viewport"===e&&n.redrawHint("select",!0),"load"!==e&&"resize"!==e&&"mount"!==e||(n.invalidateContainerClientCoordsCache(),n.matchCanvasSize(n.container)),n.redrawHint("eles",!0),n.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()):n.destroy():n.load())},ya.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var n=e.bindings[t],i=n.target;(i.off||i.removeEventListener).apply(i,n.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch(e){}},ya.isHeadless=function(){return!1},[Zo,ha,da,fa,pa,ga].forEach((function(e){I(ya,e)}));var ba=function(e){return function(){var t=this,n=this.renderer;if(!t.dequeueingSetup){t.dequeueingSetup=!0;var i=te((function(){n.redrawHint("eles",!0),n.redrawHint("drag",!0),n.redraw()}),e.deqRedrawThreshold);n.beforeRender((function(r,o){var a=ae(),s=n.averageRedrawTime,l=n.lastRedrawTime,u=[],c=n.cy.extent(),h=n.getPixelRatio();for(r||n.flushRenderedStyleQueue();;){var d=ae(),f=d-a,p=d-o;if(l<1e3/60){if(p>=e.deqFastCost*(1e3/60-(r?s:0)))break}else if(r){if(f>=e.deqCost*l||f>=e.deqAvgCost*s)break}else if(p>=e.deqNoDrawCost*(1e3/60))break;var g=e.deq(t,h,c);if(!(g.length>0))break;for(var m=0;m<g.length;m++)u.push(g[m])}u.length>0&&(e.onDeqd(t,u),!r&&e.shouldRedraw(t,u,h,c)&&i())}),(e.priority||xe)(t))}}},xa=function(){function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ye;t(this,e),this.idsByKey=new Ie,this.keyForId=new Ie,this.cachesByLvl=new Ie,this.lvls=[],this.getKey=n,this.doesEleInvalidateKey=i}return i(e,[{key:"getIdsFor",value:function(e){null==e&&we("Can not get id list for null key");var t=this.idsByKey,n=this.idsByKey.get(e);return n||(n=new Le,t.set(e,n)),n}},{key:"addIdForKey",value:function(e,t){null!=e&&this.getIdsFor(e).add(t)}},{key:"deleteIdForKey",value:function(e,t){null!=e&&this.getIdsFor(e).delete(t)}},{key:"getNumberOfIdsForKey",value:function(e){return null==e?0:this.getIdsFor(e).size}},{key:"updateKeyMappingFor",value:function(e){var t=e.id(),n=this.keyForId.get(t),i=this.getKey(e);this.deleteIdForKey(n,t),this.addIdForKey(i,t),this.keyForId.set(t,i)}},{key:"deleteKeyMappingFor",value:function(e){var t=e.id(),n=this.keyForId.get(t);this.deleteIdForKey(n,t),this.keyForId.delete(t)}},{key:"keyHasChangedFor",value:function(e){var t=e.id();return this.keyForId.get(t)!==this.getKey(e)}},{key:"isInvalid",value:function(e){return this.keyHasChangedFor(e)||this.doesEleInvalidateKey(e)}},{key:"getCachesAt",value:function(e){var t=this.cachesByLvl,n=this.lvls,i=t.get(e);return i||(i=new Ie,t.set(e,i),n.push(e)),i}},{key:"getCache",value:function(e,t){return this.getCachesAt(t).get(e)}},{key:"get",value:function(e,t){var n=this.getKey(e),i=this.getCache(n,t);return null!=i&&this.updateKeyMappingFor(e),i}},{key:"getForCachedKey",value:function(e,t){var n=this.keyForId.get(e.id());return this.getCache(n,t)}},{key:"hasCache",value:function(e,t){return this.getCachesAt(t).has(e)}},{key:"has",value:function(e,t){var n=this.getKey(e);return this.hasCache(n,t)}},{key:"setCache",value:function(e,t,n){n.key=e,this.getCachesAt(t).set(e,n)}},{key:"set",value:function(e,t,n){var i=this.getKey(e);this.setCache(i,t,n),this.updateKeyMappingFor(e)}},{key:"deleteCache",value:function(e,t){this.getCachesAt(t).delete(e)}},{key:"delete",value:function(e,t){var n=this.getKey(e);this.deleteCache(n,t)}},{key:"invalidateKey",value:function(e){var t=this;this.lvls.forEach((function(n){return t.deleteCache(e,n)}))}},{key:"invalidate",value:function(e){var t=e.id(),n=this.keyForId.get(t);this.deleteKeyMappingFor(e);var i=this.doesEleInvalidateKey(e);return i&&this.invalidateKey(n),i||0===this.getNumberOfIdsForKey(n)}}]),e}(),wa={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},_a=De({getKey:null,doesEleInvalidateKey:ye,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:ve,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Ea=function(e,t){this.renderer=e,this.onDequeues=[];var n=_a(t);I(this,n),this.lookup=new xa(n.getKey,n.doesEleInvalidateKey),this.setupDequeueing()},Sa=Ea.prototype;Sa.reasons=wa,Sa.getTextureQueue=function(e){return this.eleImgCaches=this.eleImgCaches||{},this.eleImgCaches[e]=this.eleImgCaches[e]||[]},Sa.getRetiredTextureQueue=function(e){var t=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return t[e]=t[e]||[]},Sa.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new Fe((function(e,t){return t.reqs-e.reqs}))},Sa.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},Sa.getElement=function(e,t,n,i,r){var o=this,a=this.renderer,s=a.cy.zoom(),l=this.lookup;if(0===t.w||0===t.h||isNaN(t.w)||isNaN(t.h)||!e.visible())return null;if(!o.allowEdgeTxrCaching&&e.isEdge()||!o.allowParentTxrCaching&&e.isParent())return null;if(null==i&&(i=Math.ceil(it(s*n))),i<-4)i=-4;else if(s>=7.99||i>3)return null;var u=Math.pow(2,i),c=t.h*u,h=t.w*u,d=a.eleTextBiggerThanMin(e,u);if(!this.isVisible(e,d))return null;var f,p=l.get(e,i);if(p&&p.invalidated&&(p.invalidated=!1,p.texture.invalidatedWidth-=p.width),p)return p;if(f=c<=25?25:c<=50?50:50*Math.ceil(c/50),c>1024||h>1024)return null;var g=o.getTextureQueue(f),m=g[g.length-2],v=function(){return o.recycleTexture(f,h)||o.addTexture(f,h)};m||(m=g[g.length-1]),m||(m=v()),m.width-m.usedWidth<h&&(m=v());for(var y,b=function(e){return e&&e.scaledLabelShown===d},x=r&&r===wa.dequeue,w=r&&r===wa.highQuality,_=r&&r===wa.downscale,E=i+1;E<=3;E++){var S=l.get(e,E);if(S){y=S;break}}var C=y&&y.level===i+1?y:null,T=function(){m.context.drawImage(C.texture.canvas,C.x,0,C.width,C.height,m.usedWidth,0,h,c)};if(m.context.setTransform(1,0,0,1,0,0),m.context.clearRect(m.usedWidth,0,h,f),b(C))T();else if(b(y)){if(!w)return o.queueElement(e,y.level-1),y;for(var k=y.level;k>i;k--)C=o.getElement(e,t,n,k,wa.downscale);T()}else{var D;if(!x&&!w&&!_)for(var A=i-1;A>=-4;A--){var O=l.get(e,A);if(O){D=O;break}}if(b(D))return o.queueElement(e,i),D;m.context.translate(m.usedWidth,0),m.context.scale(u,u),this.drawElement(m.context,e,t,d,!1),m.context.scale(1/u,1/u),m.context.translate(-m.usedWidth,0)}return p={x:m.usedWidth,texture:m,level:i,scale:u,width:h,height:c,scaledLabelShown:d},m.usedWidth+=Math.ceil(h+8),m.eleCaches.push(p),l.set(e,i,p),o.checkTextureFullness(m),p},Sa.invalidateElements=function(e){for(var t=0;t<e.length;t++)this.invalidateElement(e[t])},Sa.invalidateElement=function(e){var t=this.lookup,n=[];if(t.isInvalid(e)){for(var i=-4;i<=3;i++){var r=t.getForCachedKey(e,i);r&&n.push(r)}if(t.invalidate(e))for(var o=0;o<n.length;o++){var a=n[o],s=a.texture;s.invalidatedWidth+=a.width,a.invalidated=!0,this.checkTextureUtility(s)}this.removeFromQueue(e)}},Sa.checkTextureUtility=function(e){e.invalidatedWidth>=.2*e.width&&this.retireTexture(e)},Sa.checkTextureFullness=function(e){var t=this.getTextureQueue(e.height);e.usedWidth/e.width>.8&&e.fullnessChecks>=10?Ae(t,e):e.fullnessChecks++},Sa.retireTexture=function(e){var t=e.height,n=this.getTextureQueue(t),i=this.lookup;Ae(n,e),e.retired=!0;for(var r=e.eleCaches,o=0;o<r.length;o++){var a=r[o];i.deleteCache(a.key,a.level)}Oe(r),this.getRetiredTextureQueue(t).push(e)},Sa.addTexture=function(e,t){var n={};return this.getTextureQueue(e).push(n),n.eleCaches=[],n.height=e,n.width=Math.max(1024,t),n.usedWidth=0,n.invalidatedWidth=0,n.fullnessChecks=0,n.canvas=this.renderer.makeOffscreenCanvas(n.width,n.height),n.context=n.canvas.getContext("2d"),n},Sa.recycleTexture=function(e,t){for(var n=this.getTextureQueue(e),i=this.getRetiredTextureQueue(e),r=0;r<i.length;r++){var o=i[r];if(o.width>=t)return o.retired=!1,o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,Oe(o.eleCaches),o.context.setTransform(1,0,0,1,0,0),o.context.clearRect(0,0,o.width,o.height),Ae(i,o),n.push(o),o}},Sa.queueElement=function(e,t){var n=this.getElementQueue(),i=this.getElementKeyToQueue(),r=this.getKey(e),o=i[r];if(o)o.level=Math.max(o.level,t),o.eles.merge(e),o.reqs++,n.updateItem(o);else{var a={eles:e.spawn().merge(e),level:t,reqs:1,key:r};n.push(a),i[r]=a}},Sa.dequeue=function(e){for(var t=this.getElementQueue(),n=this.getElementKeyToQueue(),i=[],r=this.lookup,o=0;o<1&&t.size()>0;o++){var a=t.pop(),s=a.key,l=a.eles[0],u=r.hasCache(l,a.level);if(n[s]=null,!u){i.push(a);var c=this.getBoundingBox(l);this.getElement(l,c,e,a.level,wa.dequeue)}}return i},Sa.removeFromQueue=function(e){var t=this.getElementQueue(),n=this.getElementKeyToQueue(),i=this.getKey(e),r=n[i];null!=r&&(1===r.eles.length?(r.reqs=me,t.updateItem(r),t.pop(),n[i]=null):r.eles.unmerge(e))},Sa.onDequeue=function(e){this.onDequeues.push(e)},Sa.offDequeue=function(e){Ae(this.onDequeues,e)},Sa.setupDequeueing=ba({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t,n){return e.dequeue(t,n)},onDeqd:function(e,t){for(var n=0;n<e.onDequeues.length;n++)(0,e.onDequeues[n])(t)},shouldRedraw:function(e,t,n,i){for(var r=0;r<t.length;r++)for(var o=t[r].eles,a=0;a<o.length;a++){var s=o[a].boundingBox();if(vt(s,i))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var Ca=function(e){var t=this,n=t.renderer=e,i=n.cy;t.layersByLevel={},t.firstGet=!0,t.lastInvalidationTime=ae()-500,t.skipping=!1,t.eleTxrDeqs=i.collection(),t.scheduleElementRefinement=te((function(){t.refineElementTextures(t.eleTxrDeqs),t.eleTxrDeqs.unmerge(t.eleTxrDeqs)}),50),n.beforeRender((function(e,n){t.skipping=n-t.lastInvalidationTime<=250}),n.beforeRenderPriorities.lyrTxrSkip),t.layersQueue=new Fe((function(e,t){return t.reqs-e.reqs})),t.setupDequeueing()},Ta=Ca.prototype,ka=0,Da=Math.pow(2,53)-1;Ta.makeLayer=function(e,t){var n=Math.pow(2,t),i=Math.ceil(e.w*n),r=Math.ceil(e.h*n),o=this.renderer.makeOffscreenCanvas(i,r),a={id:ka=++ka%Da,bb:e,level:t,width:i,height:r,canvas:o,context:o.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=a.context,l=-a.bb.x1,u=-a.bb.y1;return s.scale(n,n),s.translate(l,u),a},Ta.getLayers=function(e,t,n){var i=this,r=i.renderer.cy.zoom(),o=i.firstGet;if(i.firstGet=!1,null==n)if((n=Math.ceil(it(r*t)))<-4)n=-4;else if(r>=3.99||n>2)return null;i.validateLayersElesOrdering(n,e);var a,s,l=i.layersByLevel,u=Math.pow(2,n),c=l[n]=l[n]||[];if(i.levelIsComplete(n,e))return c;!function(){var t=function(t){if(i.validateLayersElesOrdering(t,e),i.levelIsComplete(t,e))return s=l[t],!0},r=function(e){if(!s)for(var i=n+e;-4<=i&&i<=2&&!t(i);i+=e);};r(1),r(-1);for(var o=c.length-1;o>=0;o--){var a=c[o];a.invalid&&Ae(c,a)}}();var h=function(t){var r=(t=t||{}).after;if(function(){if(!a){a=ht();for(var t=0;t<e.length;t++)dt(a,e[t].boundingBox())}}(),a.w*u*(a.h*u)>16e6)return null;var o=i.makeLayer(a,n);if(null!=r){var s=c.indexOf(r)+1;c.splice(s,0,o)}else(void 0===t.insert||t.insert)&&c.unshift(o);return o};if(i.skipping&&!o)return null;for(var d=null,f=e.length/1,p=!o,g=0;g<e.length;g++){var m=e[g],v=m._private.rscratch,y=v.imgLayerCaches=v.imgLayerCaches||{},b=y[n];if(b)d=b;else{if((!d||d.eles.length>=f||!xt(d.bb,m.boundingBox()))&&!(d=h({insert:!0,after:d})))return null;s||p?i.queueLayer(d,m):i.drawEleInLayer(d,m,n,t),d.eles.push(m),y[n]=d}}return s||(p?null:c)},Ta.getEleLevelForLayerLevel=function(e,t){return e},Ta.drawEleInLayer=function(e,t,n,i){var r=this.renderer,o=e.context,a=t.boundingBox();0!==a.w&&0!==a.h&&t.visible()&&(n=this.getEleLevelForLayerLevel(n,i),r.setImgSmoothing(o,!1),r.drawCachedElement(o,t,null,null,n,!0),r.setImgSmoothing(o,!0))},Ta.levelIsComplete=function(e,t){var n=this.layersByLevel[e];if(!n||0===n.length)return!1;for(var i=0,r=0;r<n.length;r++){var o=n[r];if(o.reqs>0)return!1;if(o.invalid)return!1;i+=o.eles.length}return i===t.length},Ta.validateLayersElesOrdering=function(e,t){var n=this.layersByLevel[e];if(n)for(var i=0;i<n.length;i++){for(var r=n[i],o=-1,a=0;a<t.length;a++)if(r.eles[0]===t[a]){o=a;break}if(o<0)this.invalidateLayer(r);else{var s=o;for(a=0;a<r.eles.length;a++)if(r.eles[a]!==t[s+a]){this.invalidateLayer(r);break}}}},Ta.updateElementsInLayers=function(e,t){for(var n=b(e[0]),i=0;i<e.length;i++)for(var r=n?null:e[i],o=n?e[i]:e[i].ele,a=o._private.rscratch,s=a.imgLayerCaches=a.imgLayerCaches||{},l=-4;l<=2;l++){var u=s[l];u&&(r&&this.getEleLevelForLayerLevel(u.level)!==r.level||t(u,o,r))}},Ta.haveLayers=function(){for(var e=!1,t=-4;t<=2;t++){var n=this.layersByLevel[t];if(n&&n.length>0){e=!0;break}}return e},Ta.invalidateElements=function(e){var t=this;0!==e.length&&(t.lastInvalidationTime=ae(),0!==e.length&&t.haveLayers()&&t.updateElementsInLayers(e,(function(e,n,i){t.invalidateLayer(e)})))},Ta.invalidateLayer=function(e){if(this.lastInvalidationTime=ae(),!e.invalid){var t=e.level,n=e.eles;Ae(this.layersByLevel[t],e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var i=0;i<n.length;i++){var r=n[i]._private.rscratch.imgLayerCaches;r&&(r[t]=null)}}},Ta.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,(function(e,n,i){var r=e.replacement;if(r||((r=e.replacement=t.makeLayer(e.bb,e.level)).replaces=e,r.eles=e.eles),!r.reqs)for(var o=0;o<r.eles.length;o++)t.queueLayer(r,r.eles[o])}))},Ta.enqueueElementRefinement=function(e){this.eleTxrDeqs.merge(e),this.scheduleElementRefinement()},Ta.queueLayer=function(e,t){var n=this.layersQueue,i=e.elesQueue,r=i.hasId=i.hasId||{};if(!e.replacement){if(t){if(r[t.id()])return;i.push(t),r[t.id()]=!0}e.reqs?(e.reqs++,n.updateItem(e)):(e.reqs=1,n.push(e))}},Ta.dequeue=function(e){for(var t=this.layersQueue,n=[],i=0;i<1&&0!==t.size();){var r=t.peek();if(r.replacement)t.pop();else if(r.replaces&&r!==r.replaces.replacement)t.pop();else if(r.invalid)t.pop();else{var o=r.elesQueue.shift();o&&(this.drawEleInLayer(r,o,r.level,e),i++),0===n.length&&n.push(!0),0===r.elesQueue.length&&(t.pop(),r.reqs=0,r.replaces&&this.applyLayerReplacement(r),this.requestRedraw())}}return n},Ta.applyLayerReplacement=function(e){var t=this.layersByLevel[e.level],n=e.replaces,i=t.indexOf(n);if(!(i<0||n.invalid)){t[i]=e;for(var r=0;r<e.eles.length;r++){var o=e.eles[r]._private,a=o.imgLayerCaches=o.imgLayerCaches||{};a&&(a[e.level]=e)}this.requestRedraw()}},Ta.requestRedraw=te((function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()}),100),Ta.setupDequeueing=ba({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t){return e.dequeue(t)},onDeqd:xe,shouldRedraw:ve,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var Aa,Oa={};function Pa(e,t){for(var n=0;n<t.length;n++){var i=t[n];e.lineTo(i.x,i.y)}}function Ma(e,t,n){for(var i,r=0;r<t.length;r++){var o=t[r];0===r&&(i=o),e.lineTo(o.x,o.y)}e.quadraticCurveTo(n.x,n.y,i.x,i.y)}function Ia(e,t,n){e.beginPath&&e.beginPath();for(var i=t,r=0;r<i.length;r++){var o=i[r];e.lineTo(o.x,o.y)}var a=n,s=n[0];for(e.moveTo(s.x,s.y),r=1;r<a.length;r++)e.lineTo((o=a[r]).x,o.y);e.closePath&&e.closePath()}function Na(e,t,n,i){e.arc(t,n,i,0,2*Math.PI,!1)}Oa.arrowShapeImpl=function(e){return(Aa||(Aa={polygon:Pa,"triangle-backcurve":Ma,"triangle-tee":Ia,"triangle-cross":Ia,circle:Na}))[e]};var La={drawElement:function(e,t,n,i,r,o){t.isNode()?this.drawNode(e,t,n,i,r,o):this.drawEdge(e,t,n,i,r,o)},drawElementOverlay:function(e,t){t.isNode()?this.drawNodeOverlay(e,t):this.drawEdgeOverlay(e,t)},drawCachedElementPortion:function(e,t,n,i,r,o,a){var s=this,l=n.getBoundingBox(t);if(0!==l.w&&0!==l.h){var u=n.getElement(t,l,i,r,o);if(null!=u){var c=t.effectiveOpacity();if(0===c)return;var h,d,f,p,g,m,v=a(s,t),y=l.x1,b=l.y1,x=l.w,w=l.h;if(0!==v){var _=n.getRotationPoint(t);e.translate(f=_.x,p=_.y),e.rotate(v),(g=s.getImgSmoothing(e))||s.setImgSmoothing(e,!0);var E=n.getRotationOffset(t);h=E.x,d=E.y}else h=y,d=b;1!==c&&(e.globalAlpha=(m=e.globalAlpha)*c),e.drawImage(u.texture.canvas,u.x,0,u.width,u.height,h,d,x,w),1!==c&&(e.globalAlpha=m),0!==v&&(e.rotate(-v),e.translate(-f,-p),g||s.setImgSmoothing(e,!1))}else n.drawElement(e,t)}}},Ra=function(){return 0},Ba=function(e,t){return e.getTextAngle(t,null)},ja=function(e,t){return e.getTextAngle(t,"source")},Fa=function(e,t){return e.getTextAngle(t,"target")};La.drawCachedElement=function(e,t,n,i,r,o){var a=this,s=a.data,l=s.eleTxrCache,u=s.lblTxrCache,c=s.slbTxrCache,h=s.tlbTxrCache,d=t.boundingBox(),f=!0===o?l.reasons.highQuality:null;0!==d.w&&0!==d.h&&t.visible()&&(i&&!vt(d,i)||(a.drawCachedElementPortion(e,t,l,n,r,f,Ra),a.drawCachedElementPortion(e,t,u,n,r,f,Ba),t.isEdge()&&(a.drawCachedElementPortion(e,t,c,n,r,f,ja),a.drawCachedElementPortion(e,t,h,n,r,f,Fa)),a.drawElementOverlay(e,t)))},La.drawElements=function(e,t){for(var n=0;n<t.length;n++)this.drawElement(e,t[n])},La.drawCachedElements=function(e,t,n,i){for(var r=0;r<t.length;r++)this.drawCachedElement(e,t[r],n,i)},La.drawCachedNodes=function(e,t,n,i){for(var r=0;r<t.length;r++){var o=t[r];o.isNode()&&this.drawCachedElement(e,o,n,i)}},La.drawLayeredElements=function(e,t,n,i){var r=this.data.lyrTxrCache.getLayers(t,n);if(r)for(var o=0;o<r.length;o++){var a=r[o],s=a.bb;0!==s.w&&0!==s.h&&e.drawImage(a.canvas,s.x1,s.y1,s.w,s.h)}else this.drawCachedElements(e,t,n,i)};for(var Ha={drawEdge:function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=this,s=t._private.rscratch;if(t.visible()&&!s.badLine&&null!=s.allpts&&!isNaN(s.allpts[0])){var l;n&&e.translate(-(l=n).x1,-l.y1);var u=o?t.pstyle("opacity").value:1,c=t.pstyle("line-style").value,h=t.pstyle("width").pfValue,d=t.pstyle("line-cap").value,f=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;e.lineWidth=h,e.lineCap=d,a.eleStrokeStyle(e,t,n),a.drawEdgePath(t,e,s.allpts,c),e.lineCap="butt"},p=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;a.drawArrowheads(e,t,n)};if(e.lineJoin="round","yes"===t.pstyle("ghost").value){var g=t.pstyle("ghost-offset-x").pfValue,m=t.pstyle("ghost-offset-y").pfValue,v=t.pstyle("ghost-opacity").value,y=u*v;e.translate(g,m),f(y),p(y),e.translate(-g,-m)}f(),p(),r&&a.drawEdgeOverlay(e,t),a.drawElementText(e,t,null,i),n&&e.translate(l.x1,l.y1)}},drawEdgeOverlay:function(e,t){if(t.visible()){var n=t.pstyle("overlay-opacity").value;if(0!==n){var i=this,r=i.usePaths(),o=t._private.rscratch,a=2*t.pstyle("overlay-padding").pfValue,s=t.pstyle("overlay-color").value;e.lineWidth=a,e.lineCap="self"!==o.edgeType||r?"round":"butt",i.colorStrokeStyle(e,s[0],s[1],s[2],n),i.drawEdgePath(t,e,o.allpts,"solid")}}},drawEdgePath:function(e,t,n,i){var r,o=e._private.rscratch,a=t,s=!1,l=this.usePaths(),u=e.pstyle("line-dash-pattern").pfValue,c=e.pstyle("line-dash-offset").pfValue;if(l){var h=n.join("$");o.pathCacheKey&&o.pathCacheKey===h?(r=t=o.pathCache,s=!0):(r=t=new Path2D,o.pathCacheKey=h,o.pathCache=r)}if(a.setLineDash)switch(i){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash(u),a.lineDashOffset=c;break;case"solid":a.setLineDash([])}if(!s&&!o.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(n[0],n[1]),o.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var d=2;d+3<n.length;d+=4)t.quadraticCurveTo(n[d],n[d+1],n[d+2],n[d+3]);break;case"straight":case"segments":case"haystack":for(var f=2;f+1<n.length;f+=2)t.lineTo(n[f],n[f+1])}t=a,l?t.stroke(r):t.stroke(),t.setLineDash&&t.setLineDash([])},drawArrowheads:function(e,t,n){var i=t._private.rscratch,r="haystack"===i.edgeType;r||this.drawArrowhead(e,t,"source",i.arrowStartX,i.arrowStartY,i.srcArrowAngle,n),this.drawArrowhead(e,t,"mid-target",i.midX,i.midY,i.midtgtArrowAngle,n),this.drawArrowhead(e,t,"mid-source",i.midX,i.midY,i.midsrcArrowAngle,n),r||this.drawArrowhead(e,t,"target",i.arrowEndX,i.arrowEndY,i.tgtArrowAngle,n)},drawArrowhead:function(e,t,n,i,r,o,a){if(!(isNaN(i)||null==i||isNaN(r)||null==r||isNaN(o)||null==o)){var s=t.pstyle(n+"-arrow-shape").value;if("none"!==s){var l="hollow"===t.pstyle(n+"-arrow-fill").value?"both":"filled",u=t.pstyle(n+"-arrow-fill").value,c=t.pstyle("width").pfValue,h=t.pstyle("opacity").value;void 0===a&&(a=h);var d=e.globalCompositeOperation;1===a&&"hollow"!==u||(e.globalCompositeOperation="destination-out",this.colorFillStyle(e,255,255,255,1),this.colorStrokeStyle(e,255,255,255,1),this.drawArrowShape(t,e,l,c,s,i,r,o),e.globalCompositeOperation=d);var f=t.pstyle(n+"-arrow-color").value;this.colorFillStyle(e,f[0],f[1],f[2],a),this.colorStrokeStyle(e,f[0],f[1],f[2],a),this.drawArrowShape(t,e,u,c,s,i,r,o)}}},drawArrowShape:function(e,t,n,i,r,o,a,s){var l,u=this,c=this.usePaths()&&"triangle-cross"!==r,h=!1,d=t,f={x:o,y:a},p=e.pstyle("arrow-scale").value,g=this.getArrowWidth(i,p),m=u.arrowShapes[r];if(c){var v=u.arrowPathCache=u.arrowPathCache||[],y=ce(r),b=v[y];null!=b?(l=t=b,h=!0):(l=t=new Path2D,v[y]=l)}t.beginPath&&t.beginPath(),h||(c?m.draw(t,1,0,{x:0,y:0},1):m.draw(t,g,s,f,i)),t.closePath&&t.closePath(),t=d,c&&(t.translate(o,a),t.rotate(s),t.scale(g,g)),"filled"!==n&&"both"!==n||(c?t.fill(l):t.fill()),"hollow"!==n&&"both"!==n||(t.lineWidth=(m.matchEdgeWidth?i:1)/(c?g:1),t.lineJoin="miter",c?t.stroke(l):t.stroke()),c&&(t.scale(1/g,1/g),t.rotate(-s),t.translate(-o,-a))}},Ya={safeDrawImage:function(e,t,n,i,r,o,a,s,l,u){r<=0||o<=0||l<=0||u<=0||e.drawImage(t,n,i,r,o,a,s,l,u)},drawInscribedImage:function(e,t,n,i,r){var o=this,a=n.position(),s=a.x,l=a.y,u=n.cy().style(),c=u.getIndexedStyle.bind(u),h=c(n,"background-fit","value",i),d=c(n,"background-repeat","value",i),f=n.width(),p=n.height(),g=2*n.padding(),m=f+("inner"===c(n,"background-width-relative-to","value",i)?0:g),v=p+("inner"===c(n,"background-height-relative-to","value",i)?0:g),y=n._private.rscratch,b="node"===n.pstyle("background-clip").value,x=c(n,"background-image-opacity","value",i)*r,w=t.width||t.cachedW,_=t.height||t.cachedH;null!=w&&null!=_||(document.body.appendChild(t),w=t.cachedW=t.width||t.offsetWidth,_=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var E=w,S=_;if("auto"!==c(n,"background-width","value",i)&&(E="%"===c(n,"background-width","units",i)?c(n,"background-width","pfValue",i)*m:c(n,"background-width","pfValue",i)),"auto"!==c(n,"background-height","value",i)&&(S="%"===c(n,"background-height","units",i)?c(n,"background-height","pfValue",i)*v:c(n,"background-height","pfValue",i)),0!==E&&0!==S){if("contain"===h)E*=C=Math.min(m/E,v/S),S*=C;else if("cover"===h){var C;E*=C=Math.max(m/E,v/S),S*=C}var T=s-m/2,k=c(n,"background-position-x","units",i),D=c(n,"background-position-x","pfValue",i);T+="%"===k?(m-E)*D:D;var A=c(n,"background-offset-x","units",i),O=c(n,"background-offset-x","pfValue",i);T+="%"===A?(m-E)*O:O;var P=l-v/2,M=c(n,"background-position-y","units",i),I=c(n,"background-position-y","pfValue",i);P+="%"===M?(v-S)*I:I;var N=c(n,"background-offset-y","units",i),L=c(n,"background-offset-y","pfValue",i);P+="%"===N?(v-S)*L:L,y.pathCache&&(T-=s,P-=l,s=0,l=0);var R=e.globalAlpha;if(e.globalAlpha=x,"no-repeat"===d)b&&(e.save(),y.pathCache?e.clip(y.pathCache):(o.nodeShapes[o.getNodeShape(n)].draw(e,s,l,m,v),e.clip())),o.safeDrawImage(e,t,0,0,w,_,T,P,E,S),b&&e.restore();else{var B=e.createPattern(t,d);e.fillStyle=B,o.nodeShapes[o.getNodeShape(n)].draw(e,s,l,m,v),e.translate(T,P),e.fill(),e.translate(-T,-P)}e.globalAlpha=R}}},za={eleTextBiggerThanMin:function(e,t){if(!t){var n=e.cy().zoom(),i=this.getPixelRatio(),r=Math.ceil(it(n*i));t=Math.pow(2,r)}return!(e.pstyle("font-size").pfValue*t<e.pstyle("min-zoomed-font-size").pfValue)},drawElementText:function(e,t,n,i,r){var o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=this;if(null==i){if(!a.eleTextBiggerThanMin(t))return}else if(!1===i)return;if(t.isNode()){var s=t.pstyle("label");if(!s||!s.value)return;var l=a.getLabelJustification(t);e.textAlign=l,e.textBaseline="bottom"}else{var u=t.pstyle("label"),c=t.pstyle("source-label"),h=t.pstyle("target-label");if(!(u&&u.value||c&&c.value||h&&h.value))return;e.textAlign="center",e.textBaseline="bottom"}var d,f=!n;n&&e.translate(-(d=n).x1,-d.y1),null==r?(a.drawText(e,t,null,f,o),t.isEdge()&&(a.drawText(e,t,"source",f,o),a.drawText(e,t,"target",f,o))):a.drawText(e,t,r,f,o),n&&e.translate(d.x1,d.y1)},getFontCache:function(e){var t;this.fontCaches=this.fontCaches||[];for(var n=0;n<this.fontCaches.length;n++)if((t=this.fontCaches[n]).context===e)return t;return this.fontCaches.push(t={context:e}),t},setupTextStyle:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=t.pstyle("font-style").strValue,r=t.pstyle("font-size").pfValue+"px",o=t.pstyle("font-family").strValue,a=t.pstyle("font-weight").strValue,s=t.pstyle("text-opacity").value*(n?t.effectiveOpacity():1),l=t.pstyle("text-outline-opacity").value*s,u=t.pstyle("color").value,c=t.pstyle("text-outline-color").value;e.font=i+" "+a+" "+r+" "+o,e.lineJoin="round",this.colorFillStyle(e,u[0],u[1],u[2],s),this.colorStrokeStyle(e,c[0],c[1],c[2],l)},getTextAngle:function(e,t){var n=e._private.rscratch,i=e.pstyle((t?t+"-":"")+"text-rotation"),r=Pe(n,"labelAngle",t);return"autorotate"===i.strValue?e.isEdge()?r:0:"none"===i.strValue?0:i.pfValue},drawText:function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=t._private.rscratch,a=r?t.effectiveOpacity():1;if(0!==a&&0!==t.pstyle("text-opacity").value){"main"===n&&(n=null);var s,l,u=Pe(o,"labelX",n),c=Pe(o,"labelY",n),h=this.getLabelText(t,n);if(null!=h&&""!==h&&!isNaN(u)&&!isNaN(c)){this.setupTextStyle(e,t,r);var d,f=n?n+"-":"",p=Pe(o,"labelWidth",n),g=Pe(o,"labelHeight",n),m=t.pstyle(f+"text-margin-x").pfValue,v=t.pstyle(f+"text-margin-y").pfValue,y=t.isEdge(),b=t.pstyle("text-halign").value,x=t.pstyle("text-valign").value;switch(y&&(b="center",x="center"),u+=m,c+=v,0!==(d=i?this.getTextAngle(t,n):0)&&(e.translate(s=u,l=c),e.rotate(d),u=0,c=0),x){case"top":break;case"center":c+=g/2;break;case"bottom":c+=g}var w=t.pstyle("text-background-opacity").value,_=t.pstyle("text-border-opacity").value,E=t.pstyle("text-border-width").pfValue,S=t.pstyle("text-background-padding").pfValue;if(w>0||E>0&&_>0){var C=u-S;switch(b){case"left":C-=p;break;case"center":C-=p/2}var T=c-g-S,k=p+2*S,D=g+2*S;if(w>0){var A=e.fillStyle,O=t.pstyle("text-background-color").value;e.fillStyle="rgba("+O[0]+","+O[1]+","+O[2]+","+w*a+")","roundrectangle"==t.pstyle("text-background-shape").strValue?function(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;e.beginPath(),e.moveTo(t+o,n),e.lineTo(t+i-o,n),e.quadraticCurveTo(t+i,n,t+i,n+o),e.lineTo(t+i,n+r-o),e.quadraticCurveTo(t+i,n+r,t+i-o,n+r),e.lineTo(t+o,n+r),e.quadraticCurveTo(t,n+r,t,n+r-o),e.lineTo(t,n+o),e.quadraticCurveTo(t,n,t+o,n),e.closePath(),e.fill()}(e,C,T,k,D,2):e.fillRect(C,T,k,D),e.fillStyle=A}if(E>0&&_>0){var P=e.strokeStyle,M=e.lineWidth,I=t.pstyle("text-border-color").value,N=t.pstyle("text-border-style").value;if(e.strokeStyle="rgba("+I[0]+","+I[1]+","+I[2]+","+_*a+")",e.lineWidth=E,e.setLineDash)switch(N){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=E/4,e.setLineDash([]);break;case"solid":e.setLineDash([])}if(e.strokeRect(C,T,k,D),"double"===N){var L=E/2;e.strokeRect(C+L,T+L,k-2*L,D-2*L)}e.setLineDash&&e.setLineDash([]),e.lineWidth=M,e.strokeStyle=P}}var R=2*t.pstyle("text-outline-width").pfValue;if(R>0&&(e.lineWidth=R),"wrap"===t.pstyle("text-wrap").value){var B=Pe(o,"labelWrapCachedLines",n),j=Pe(o,"labelLineHeight",n),F=p/2,H=this.getLabelJustification(t);switch("auto"===H||("left"===b?"left"===H?u+=-p:"center"===H&&(u+=-F):"center"===b?"left"===H?u+=-F:"right"===H&&(u+=F):"right"===b&&("center"===H?u+=F:"right"===H&&(u+=p))),x){case"top":c-=(B.length-1)*j;break;case"center":case"bottom":c-=(B.length-1)*j}for(var Y=0;Y<B.length;Y++)R>0&&e.strokeText(B[Y],u,c),e.fillText(B[Y],u,c),c+=j}else R>0&&e.strokeText(h,u,c),e.fillText(h,u,c);0!==d&&(e.rotate(-d),e.translate(-s,-l))}}}},Wa={drawNode:function(e,t,n){var i,r,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=this,u=t._private,c=u.rscratch,h=t.position();if(m(h.x)&&m(h.y)&&t.visible()){var d,f,p=s?t.effectiveOpacity():1,g=l.usePaths(),v=!1,y=t.padding();i=t.width()+2*y,r=t.height()+2*y,n&&e.translate(-(f=n).x1,-f.y1);for(var b=t.pstyle("background-image").value,x=new Array(b.length),w=new Array(b.length),_=0,E=0;E<b.length;E++){var S=b[E];if(x[E]=null!=S&&"none"!==S){var C=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",E);_++,w[E]=l.getCachedImage(S,C,(function(){u.backgroundTimestamp=Date.now(),t.emitAndNotify("background")}))}}var T=t.pstyle("background-blacken").value,k=t.pstyle("border-width").pfValue,D=t.pstyle("background-opacity").value*p,A=t.pstyle("border-color").value,O=t.pstyle("border-style").value,P=t.pstyle("border-opacity").value*p;e.lineJoin="miter";var M=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;l.eleFillStyle(e,t,n)},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;l.colorStrokeStyle(e,A[0],A[1],A[2],t)},N=t.pstyle("shape").strValue,L=t.pstyle("shape-polygon-points").pfValue;if(g){e.translate(h.x,h.y);var R=l.nodePathCache=l.nodePathCache||[],B=he("polygon"===N?N+","+L.join(","):N,""+r,""+i),j=R[B];null!=j?(v=!0,c.pathCache=d=j):(d=new Path2D,R[B]=c.pathCache=d)}var F=function(){if(!v){var n=h;g&&(n={x:0,y:0}),l.nodeShapes[l.getNodeShape(t)].draw(d||e,n.x,n.y,i,r)}g?e.fill(d):e.fill()},H=function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,i=u.backgrounding,r=0,o=0;o<w.length;o++)x[o]&&w[o].complete&&!w[o].error&&(r++,l.drawInscribedImage(e,w[o],t,o,n));u.backgrounding=!(r===_),i!==u.backgrounding&&t.updateStyle(!1)},Y=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;l.hasPie(t)&&(l.drawPie(e,t,o),n&&(g||l.nodeShapes[l.getNodeShape(t)].draw(e,h.x,h.y,i,r)))},z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,n=(T>0?T:-T)*t,i=T>0?0:255;0!==T&&(l.colorFillStyle(e,i,i,i,n),g?e.fill(d):e.fill())},W=function(){if(k>0){if(e.lineWidth=k,e.lineCap="butt",e.setLineDash)switch(O){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([])}if(g?e.stroke(d):e.stroke(),"double"===O){e.lineWidth=k/3;var t=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",g?e.stroke(d):e.stroke(),e.globalCompositeOperation=t}e.setLineDash&&e.setLineDash([])}};if("yes"===t.pstyle("ghost").value){var $=t.pstyle("ghost-offset-x").pfValue,V=t.pstyle("ghost-offset-y").pfValue,q=t.pstyle("ghost-opacity").value,X=q*p;e.translate($,V),M(q*D),F(),H(X),Y(0!==T||0!==k),z(X),I(q*P),W(),e.translate(-$,-V)}M(),F(),H(),Y(0!==T||0!==k),z(),I(),W(),g&&e.translate(-h.x,-h.y),l.drawElementText(e,t,null,o),a&&l.drawNodeOverlay(e,t,h,i,r),n&&e.translate(f.x1,f.y1)}},drawNodeOverlay:function(e,t,n,i,r){if(t.visible()){var o=t.pstyle("overlay-padding").pfValue,a=t.pstyle("overlay-opacity").value,s=t.pstyle("overlay-color").value;if(a>0){if(n=n||t.position(),null==i||null==r){var l=t.padding();i=t.width()+2*l,r=t.height()+2*l}this.colorFillStyle(e,s[0],s[1],s[2],a),this.nodeShapes.roundrectangle.draw(e,n.x,n.y,i+2*o,r+2*o),e.fill()}}},hasPie:function(e){return(e=e[0])._private.hasPie},drawPie:function(e,t,n,i){t=t[0],i=i||t.position();var r=t.cy().style(),o=t.pstyle("pie-size"),a=i.x,s=i.y,l=t.width(),u=t.height(),c=Math.min(l,u)/2,h=0;this.usePaths()&&(a=0,s=0),"%"===o.units?c*=o.pfValue:void 0!==o.pfValue&&(c=o.pfValue/2);for(var d=1;d<=r.pieBackgroundN;d++){var f=t.pstyle("pie-"+d+"-background-size").value,p=t.pstyle("pie-"+d+"-background-color").value,g=t.pstyle("pie-"+d+"-background-opacity").value*n,m=f/100;m+h>1&&(m=1-h);var v=1.5*Math.PI+2*Math.PI*h,y=v+2*Math.PI*m;0===f||h>=1||h+m>1||(e.beginPath(),e.moveTo(a,s),e.arc(a,s,c,v,y),e.closePath(),this.colorFillStyle(e,p[0],p[1],p[2],g),e.fill(),h+=m)}}},$a={getPixelRatio:function(){var e=this.data.contexts[0];return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)},paintCache:function(e){for(var t,n=this.paintCaches=this.paintCaches||[],i=!0,r=0;r<n.length;r++)if((t=n[r]).context===e){i=!1;break}return i&&n.push(t={context:e}),t},createGradientStyleFor:function(e,t,n,i,r){var o,a=this.usePaths(),s=n.pstyle(t+"-gradient-stop-colors").value,l=n.pstyle(t+"-gradient-stop-positions").pfValue;if("radial-gradient"===i)if(n.isEdge()){var u=n.sourceEndpoint(),c=n.targetEndpoint(),h=n.midpoint(),d=ot(u,h),f=ot(c,h);o=e.createRadialGradient(h.x,h.y,0,h.x,h.y,Math.max(d,f))}else{var p=a?{x:0,y:0}:n.position(),g=n.width(),m=n.height();o=e.createRadialGradient(p.x,p.y,0,p.x,p.y,Math.max(g,m))}else if(n.isEdge()){var v=n.sourceEndpoint(),y=n.targetEndpoint();o=e.createLinearGradient(v.x,v.y,y.x,y.y)}else{var b=a?{x:0,y:0}:n.position(),x=n.width()/2,w=n.height()/2;switch(n.pstyle("background-gradient-direction").value){case"to-bottom":o=e.createLinearGradient(b.x,b.y-w,b.x,b.y+w);break;case"to-top":o=e.createLinearGradient(b.x,b.y+w,b.x,b.y-w);break;case"to-left":o=e.createLinearGradient(b.x-x,b.y,b.x+x,b.y);break;case"to-right":o=e.createLinearGradient(b.x+x,b.y,b.x-x,b.y);break;case"to-bottom-right":case"to-right-bottom":o=e.createLinearGradient(b.x-x,b.y-w,b.x+x,b.y+w);break;case"to-top-right":case"to-right-top":o=e.createLinearGradient(b.x-x,b.y+w,b.x+x,b.y-w);break;case"to-bottom-left":case"to-left-bottom":o=e.createLinearGradient(b.x+x,b.y-w,b.x-x,b.y+w);break;case"to-top-left":case"to-left-top":o=e.createLinearGradient(b.x+x,b.y+w,b.x-x,b.y-w)}}if(!o)return null;for(var _=l.length===s.length,E=s.length,S=0;S<E;S++)o.addColorStop(_?l[S]:S/(E-1),"rgba("+s[S][0]+","+s[S][1]+","+s[S][2]+","+r+")");return o},gradientFillStyle:function(e,t,n,i){var r=this.createGradientStyleFor(e,"background",t,n,i);if(!r)return null;e.fillStyle=r},colorFillStyle:function(e,t,n,i,r){e.fillStyle="rgba("+t+","+n+","+i+","+r+")"},eleFillStyle:function(e,t,n){var i=t.pstyle("background-fill").value;if("linear-gradient"===i||"radial-gradient"===i)this.gradientFillStyle(e,t,i,n);else{var r=t.pstyle("background-color").value;this.colorFillStyle(e,r[0],r[1],r[2],n)}},gradientStrokeStyle:function(e,t,n,i){var r=this.createGradientStyleFor(e,"line",t,n,i);if(!r)return null;e.strokeStyle=r},colorStrokeStyle:function(e,t,n,i,r){e.strokeStyle="rgba("+t+","+n+","+i+","+r+")"},eleStrokeStyle:function(e,t,n){var i=t.pstyle("line-fill").value;if("linear-gradient"===i||"radial-gradient"===i)this.gradientStrokeStyle(e,t,i,n);else{var r=t.pstyle("line-color").value;this.colorStrokeStyle(e,r[0],r[1],r[2],n)}},matchCanvasSize:function(e){var t=this,n=t.data,i=t.findContainerClientCoords(),r=i[2],o=i[3],a=t.getPixelRatio();e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]&&e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG]||(a=t.motionBlurPxRatio);var s,l=r*a,u=o*a;if(l!==t.canvasWidth||u!==t.canvasHeight){t.fontCaches=null;var c=n.canvasContainer;c.style.width=r+"px",c.style.height=o+"px";for(var h=0;h<t.CANVAS_LAYERS;h++)(s=n.canvases[h]).width=l,s.height=u,s.style.width=r+"px",s.style.height=o+"px";for(h=0;h<t.BUFFER_COUNT;h++)(s=n.bufferCanvases[h]).width=l,s.height=u,s.style.width=r+"px",s.style.height=o+"px";t.textureMult=1,a<=1&&(s=n.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,s.width=l*t.textureMult,s.height=u*t.textureMult),t.canvasWidth=l,t.canvasHeight=u}},renderTo:function(e,t,n,i){this.render({forcedContext:e,forcedZoom:t,forcedPan:n,drawAllLayers:!0,forcedPxRatio:i})},render:function(e){var t=(e=e||ke()).forcedContext,n=e.drawAllLayers,i=e.drawOnlyNodeLayer,r=e.forcedZoom,o=e.forcedPan,a=this,s=void 0===e.forcedPxRatio?this.getPixelRatio():e.forcedPxRatio,l=a.cy,u=a.data,c=u.canvasNeedsRedraw,h=a.textureOnViewport&&!t&&(a.pinching||a.hoverData.dragging||a.swipePanning||a.data.wheelZooming),d=void 0!==e.motionBlur?e.motionBlur:a.motionBlur,f=a.motionBlurPxRatio,p=l.hasCompoundNodes(),g=a.hoverData.draggingEles,m=d=d&&!t&&a.motionBlurEnabled&&!(a.hoverData.selecting||a.touchData.selecting);t||(a.prevPxRatio!==s&&(a.invalidateContainerClientCoordsCache(),a.matchCanvasSize(a.container),a.redrawHint("eles",!0),a.redrawHint("drag",!0)),a.prevPxRatio=s),!t&&a.motionBlurTimeout&&clearTimeout(a.motionBlurTimeout),d&&(null==a.mbFrames&&(a.mbFrames=0),a.mbFrames++,a.mbFrames<3&&(m=!1),a.mbFrames>a.minMbLowQualFrames&&(a.motionBlurPxRatio=a.mbPxRBlurry)),a.clearingMotionBlur&&(a.motionBlurPxRatio=1),a.textureDrawLastFrame&&!h&&(c[a.NODE]=!0,c[a.SELECT_BOX]=!0);var v=l.style(),y=l.zoom(),b=void 0!==r?r:y,x=l.pan(),w={x:x.x,y:x.y},_={zoom:y,pan:{x:x.x,y:x.y}},E=a.prevViewport;void 0===E||_.zoom!==E.zoom||_.pan.x!==E.pan.x||_.pan.y!==E.pan.y||g&&!p||(a.motionBlurPxRatio=1),o&&(w=o),b*=s,w.x*=s,w.y*=s;var S=a.getCachedZSortedEles();function C(e,t,n,i,r){var o=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",a.colorFillStyle(e,255,255,255,a.motionBlurTransparency),e.fillRect(t,n,i,r),e.globalCompositeOperation=o}function T(e,i){var s,l,c,h;a.clearingMotionBlur||e!==u.bufferContexts[a.MOTIONBLUR_BUFFER_NODE]&&e!==u.bufferContexts[a.MOTIONBLUR_BUFFER_DRAG]?(s=w,l=b,c=a.canvasWidth,h=a.canvasHeight):(s={x:x.x*f,y:x.y*f},l=y*f,c=a.canvasWidth*f,h=a.canvasHeight*f),e.setTransform(1,0,0,1,0,0),"motionBlur"===i?C(e,0,0,c,h):t||void 0!==i&&!i||e.clearRect(0,0,c,h),n||(e.translate(s.x,s.y),e.scale(l,l)),o&&e.translate(o.x,o.y),r&&e.scale(r,r)}if(h||(a.textureDrawLastFrame=!1),h){if(a.textureDrawLastFrame=!0,!a.textureCache){a.textureCache={},a.textureCache.bb=l.mutableElements().boundingBox(),a.textureCache.texture=a.data.bufferCanvases[a.TEXTURE_BUFFER];var k=a.data.bufferContexts[a.TEXTURE_BUFFER];k.setTransform(1,0,0,1,0,0),k.clearRect(0,0,a.canvasWidth*a.textureMult,a.canvasHeight*a.textureMult),a.render({forcedContext:k,drawOnlyNodeLayer:!0,forcedPxRatio:s*a.textureMult}),(_=a.textureCache.viewport={zoom:l.zoom(),pan:l.pan(),width:a.canvasWidth,height:a.canvasHeight}).mpan={x:(0-_.pan.x)/_.zoom,y:(0-_.pan.y)/_.zoom}}c[a.DRAG]=!1,c[a.NODE]=!1;var D=u.contexts[a.NODE],A=a.textureCache.texture;_=a.textureCache.viewport,D.setTransform(1,0,0,1,0,0),d?C(D,0,0,_.width,_.height):D.clearRect(0,0,_.width,_.height);var O=v.core("outside-texture-bg-color").value,P=v.core("outside-texture-bg-opacity").value;a.colorFillStyle(D,O[0],O[1],O[2],P),D.fillRect(0,0,_.width,_.height),y=l.zoom(),T(D,!1),D.clearRect(_.mpan.x,_.mpan.y,_.width/_.zoom/s,_.height/_.zoom/s),D.drawImage(A,_.mpan.x,_.mpan.y,_.width/_.zoom/s,_.height/_.zoom/s)}else a.textureOnViewport&&!t&&(a.textureCache=null);var M=l.extent(),I=a.hideEdgesOnViewport&&(a.pinching||a.hoverData.dragging||a.swipePanning||a.data.wheelZooming||a.hoverData.draggingEles),N=[];if(N[a.NODE]=!c[a.NODE]&&d&&!a.clearedForMotionBlur[a.NODE]||a.clearingMotionBlur,N[a.NODE]&&(a.clearedForMotionBlur[a.NODE]=!0),N[a.DRAG]=!c[a.DRAG]&&d&&!a.clearedForMotionBlur[a.DRAG]||a.clearingMotionBlur,N[a.DRAG]&&(a.clearedForMotionBlur[a.DRAG]=!0),c[a.NODE]||n||i||N[a.NODE]){var L=d&&!N[a.NODE]&&1!==f;T(D=t||(L?a.data.bufferContexts[a.MOTIONBLUR_BUFFER_NODE]:u.contexts[a.NODE]),d&&!L?"motionBlur":void 0),I?a.drawCachedNodes(D,S.nondrag,s,M):a.drawLayeredElements(D,S.nondrag,s,M),a.debug&&a.drawDebugPoints(D,S.nondrag),n||d||(c[a.NODE]=!1)}if(!i&&(c[a.DRAG]||n||N[a.DRAG])&&(L=d&&!N[a.DRAG]&&1!==f,T(D=t||(L?a.data.bufferContexts[a.MOTIONBLUR_BUFFER_DRAG]:u.contexts[a.DRAG]),d&&!L?"motionBlur":void 0),I?a.drawCachedNodes(D,S.drag,s,M):a.drawCachedElements(D,S.drag,s,M),a.debug&&a.drawDebugPoints(D,S.drag),n||d||(c[a.DRAG]=!1)),a.showFps||!i&&c[a.SELECT_BOX]&&!n){if(T(D=t||u.contexts[a.SELECT_BOX]),1==a.selection[4]&&(a.hoverData.selecting||a.touchData.selecting)){y=a.cy.zoom();var R=v.core("selection-box-border-width").value/y;D.lineWidth=R,D.fillStyle="rgba("+v.core("selection-box-color").value[0]+","+v.core("selection-box-color").value[1]+","+v.core("selection-box-color").value[2]+","+v.core("selection-box-opacity").value+")",D.fillRect(a.selection[0],a.selection[1],a.selection[2]-a.selection[0],a.selection[3]-a.selection[1]),R>0&&(D.strokeStyle="rgba("+v.core("selection-box-border-color").value[0]+","+v.core("selection-box-border-color").value[1]+","+v.core("selection-box-border-color").value[2]+","+v.core("selection-box-opacity").value+")",D.strokeRect(a.selection[0],a.selection[1],a.selection[2]-a.selection[0],a.selection[3]-a.selection[1]))}if(u.bgActivePosistion&&!a.hoverData.selecting){y=a.cy.zoom();var B=u.bgActivePosistion;D.fillStyle="rgba("+v.core("active-bg-color").value[0]+","+v.core("active-bg-color").value[1]+","+v.core("active-bg-color").value[2]+","+v.core("active-bg-opacity").value+")",D.beginPath(),D.arc(B.x,B.y,v.core("active-bg-size").pfValue/y,0,2*Math.PI),D.fill()}var j=a.lastRedrawTime;if(a.showFps&&j){j=Math.round(j);var F=Math.round(1e3/j);D.setTransform(1,0,0,1,0,0),D.fillStyle="rgba(255, 0, 0, 0.75)",D.strokeStyle="rgba(255, 0, 0, 0.75)",D.lineWidth=1,D.fillText("1 frame = "+j+" ms = "+F+" fps",0,20),D.strokeRect(0,30,250,20),D.fillRect(0,30,250*Math.min(F/60,1),20)}n||(c[a.SELECT_BOX]=!1)}if(d&&1!==f){var H=u.contexts[a.DRAG],Y=a.data.bufferCanvases[a.MOTIONBLUR_BUFFER_DRAG],z=function(e,t,n){e.setTransform(1,0,0,1,0,0),n||!m?e.clearRect(0,0,a.canvasWidth,a.canvasHeight):C(e,0,0,a.canvasWidth,a.canvasHeight),e.drawImage(t,0,0,a.canvasWidth*f,a.canvasHeight*f,0,0,a.canvasWidth,a.canvasHeight)};(c[a.NODE]||N[a.NODE])&&(z(u.contexts[a.NODE],a.data.bufferCanvases[a.MOTIONBLUR_BUFFER_NODE],N[a.NODE]),c[a.NODE]=!1),(c[a.DRAG]||N[a.DRAG])&&(z(H,Y,N[a.DRAG]),c[a.DRAG]=!1)}a.prevViewport=_,a.clearingMotionBlur&&(a.clearingMotionBlur=!1,a.motionBlurCleared=!0,a.motionBlur=!0),d&&(a.motionBlurTimeout=setTimeout((function(){a.motionBlurTimeout=null,a.clearedForMotionBlur[a.NODE]=!1,a.clearedForMotionBlur[a.DRAG]=!1,a.motionBlur=!1,a.clearingMotionBlur=!h,a.mbFrames=0,c[a.NODE]=!0,c[a.DRAG]=!0,a.redraw()}),100)),t||l.emit("render")}},Va={drawPolygonPath:function(e,t,n,i,r,o){var a=i/2,s=r/2;e.beginPath&&e.beginPath(),e.moveTo(t+a*o[0],n+s*o[1]);for(var l=1;l<o.length/2;l++)e.lineTo(t+a*o[2*l],n+s*o[2*l+1]);e.closePath()},drawRoundRectanglePath:function(e,t,n,i,r){var o=i/2,a=r/2,s=Ft(i,r);e.beginPath&&e.beginPath(),e.moveTo(t,n-a),e.arcTo(t+o,n-a,t+o,n,s),e.arcTo(t+o,n+a,t,n+a,s),e.arcTo(t-o,n+a,t-o,n,s),e.arcTo(t-o,n-a,t,n-a,s),e.lineTo(t,n-a),e.closePath()},drawBottomRoundRectanglePath:function(e,t,n,i,r){var o=i/2,a=r/2,s=Ft(i,r);e.beginPath&&e.beginPath(),e.moveTo(t,n-a),e.lineTo(t+o,n-a),e.lineTo(t+o,n),e.arcTo(t+o,n+a,t,n+a,s),e.arcTo(t-o,n+a,t-o,n,s),e.lineTo(t-o,n-a),e.lineTo(t,n-a),e.closePath()},drawCutRectanglePath:function(e,t,n,i,r){var o=i/2,a=r/2;e.beginPath&&e.beginPath(),e.moveTo(t-o+8,n-a),e.lineTo(t+o-8,n-a),e.lineTo(t+o,n-a+8),e.lineTo(t+o,n+a-8),e.lineTo(t+o-8,n+a),e.lineTo(t-o+8,n+a),e.lineTo(t-o,n+a-8),e.lineTo(t-o,n-a+8),e.closePath()},drawBarrelPath:function(e,t,n,i,r){var o=i/2,a=r/2,s=t-o,l=t+o,u=n-a,c=n+a,h=Ht(i,r),d=h.widthOffset,f=h.heightOffset,p=h.ctrlPtOffsetPct*d;e.beginPath&&e.beginPath(),e.moveTo(s,u+f),e.lineTo(s,c-f),e.quadraticCurveTo(s+p,c,s+d,c),e.lineTo(l-d,c),e.quadraticCurveTo(l-p,c,l,c-f),e.lineTo(l,u+f),e.quadraticCurveTo(l-p,u,l-d,u),e.lineTo(s+d,u),e.quadraticCurveTo(s+p,u,s,u+f),e.closePath()}},qa=Math.sin(0),Xa=Math.cos(0),Ua={},Ga={},Ka=Math.PI/40,Qa=0*Math.PI;Qa<2*Math.PI;Qa+=Ka)Ua[Qa]=Math.sin(Qa),Ga[Qa]=Math.cos(Qa);Va.drawEllipsePath=function(e,t,n,i,r){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,n,i/2,r/2,0,0,2*Math.PI);else for(var o,a,s=i/2,l=r/2,u=0*Math.PI;u<2*Math.PI;u+=Ka)o=t-s*Ua[u]*qa+s*Ga[u]*Xa,a=n+l*Ga[u]*qa+l*Ua[u]*Xa,0===u?e.moveTo(o,a):e.lineTo(o,a);e.closePath()};var Za={};function Ja(e){var t=e.indexOf(",");return e.substr(t+1)}function es(e,t,n){var i=function(){return t.toDataURL(n,e.quality)};switch(e.output){case"blob-promise":return new qn((function(i,r){try{t.toBlob((function(e){null!=e?i(e):r(new Error("`canvas.toBlob()` sent a null value in its callback"))}),n,e.quality)}catch(e){r(e)}}));case"blob":return function(e,t){for(var n=atob(e),i=new ArrayBuffer(n.length),r=new Uint8Array(i),o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return new Blob([i],{type:t})}(Ja(i()),n);case"base64":return Ja(i());case"base64uri":default:return i()}}Za.createBuffer=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,[n,n.getContext("2d")]},Za.bufferCanvasImage=function(e){var t=this.cy,n=t.mutableElements().boundingBox(),i=this.findContainerClientCoords(),r=e.full?Math.ceil(n.w):i[2],o=e.full?Math.ceil(n.h):i[3],a=m(e.maxWidth)||m(e.maxHeight),s=this.getPixelRatio(),l=1;if(void 0!==e.scale)r*=e.scale,o*=e.scale,l=e.scale;else if(a){var u=1/0,c=1/0;m(e.maxWidth)&&(u=l*e.maxWidth/r),m(e.maxHeight)&&(c=l*e.maxHeight/o),r*=l=Math.min(u,c),o*=l}a||(r*=s,o*=s,l*=s);var h=document.createElement("canvas");h.width=r,h.height=o,h.style.width=r+"px",h.style.height=o+"px";var d=h.getContext("2d");if(r>0&&o>0){d.clearRect(0,0,r,o),d.globalCompositeOperation="source-over";var f=this.getCachedZSortedEles();if(e.full)d.translate(-n.x1*l,-n.y1*l),d.scale(l,l),this.drawElements(d,f),d.scale(1/l,1/l),d.translate(n.x1*l,n.y1*l);else{var p=t.pan(),g={x:p.x*l,y:p.y*l};l*=t.zoom(),d.translate(g.x,g.y),d.scale(l,l),this.drawElements(d,f),d.scale(1/l,1/l),d.translate(-g.x,-g.y)}e.bg&&(d.globalCompositeOperation="destination-over",d.fillStyle=e.bg,d.rect(0,0,r,o),d.fill())}return h},Za.png=function(e){return es(e,this.bufferCanvasImage(e),"image/png")},Za.jpg=function(e){return es(e,this.bufferCanvasImage(e),"image/jpeg")};var ts=is,ns=is.prototype;function is(e){var t=this;t.data={canvases:new Array(ns.CANVAS_LAYERS),contexts:new Array(ns.CANVAS_LAYERS),canvasNeedsRedraw:new Array(ns.CANVAS_LAYERS),bufferCanvases:new Array(ns.BUFFER_COUNT),bufferContexts:new Array(ns.CANVAS_LAYERS)},t.data.canvasContainer=document.createElement("div");var n=t.data.canvasContainer.style;t.data.canvasContainer.style["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",n.position="relative",n.zIndex="0",n.overflow="hidden";var i=e.cy.container();i.appendChild(t.data.canvasContainer),i.style["-webkit-tap-highlight-color"]="rgba(0,0,0,0)";var r={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};C()&&(r["-ms-touch-action"]="none",r["touch-action"]="none");for(var o=0;o<ns.CANVAS_LAYERS;o++){var a=t.data.canvases[o]=document.createElement("canvas");t.data.contexts[o]=a.getContext("2d"),Object.keys(r).forEach((function(e){a.style[e]=r[e]})),a.style.position="absolute",a.setAttribute("data-id","layer"+o),a.style.zIndex=String(ns.CANVAS_LAYERS-o),t.data.canvasContainer.appendChild(a),t.data.canvasNeedsRedraw[o]=!1}for(t.data.topCanvas=t.data.canvases[0],t.data.canvases[ns.NODE].setAttribute("data-id","layer"+ns.NODE+"-node"),t.data.canvases[ns.SELECT_BOX].setAttribute("data-id","layer"+ns.SELECT_BOX+"-selectbox"),t.data.canvases[ns.DRAG].setAttribute("data-id","layer"+ns.DRAG+"-drag"),o=0;o<ns.BUFFER_COUNT;o++)t.data.bufferCanvases[o]=document.createElement("canvas"),t.data.bufferContexts[o]=t.data.bufferCanvases[o].getContext("2d"),t.data.bufferCanvases[o].style.position="absolute",t.data.bufferCanvases[o].setAttribute("data-id","buffer"+o),t.data.bufferCanvases[o].style.zIndex=String(-o-1),t.data.bufferCanvases[o].style.visibility="hidden";t.pathsEnabled=!0;var s=ht(),l=function(e){return{x:-e.w/2,y:-e.h/2}},u=function(e){return e.boundingBox(),e[0]._private.bodyBounds},c=function(e){return e.boundingBox(),e[0]._private.labelBounds.main||s},h=function(e){return e.boundingBox(),e[0]._private.labelBounds.source||s},d=function(e){return e.boundingBox(),e[0]._private.labelBounds.target||s},f=function(e,t){return t},p=function(e,t){return{x:e.x+t.pstyle("text-margin-x").pfValue,y:e.y+t.pstyle("text-margin-y").pfValue}},g=function(e,t,n){var i=e[0]._private.rscratch;return{x:i[t],y:i[n]}},m=t.data.eleTxrCache=new Ea(t,{getKey:function(e){return e[0]._private.nodeKey},doesEleInvalidateKey:function(e){var t=e[0]._private;return!(t.oldBackgroundTimestamp===t.backgroundTimestamp)},drawElement:function(e,n,i,r,o){return t.drawElement(e,n,i,!1,!1,o)},getBoundingBox:u,getRotationPoint:function(e){return{x:((t=u(e)).x1+t.x2)/2,y:(t.y1+t.y2)/2};var t},getRotationOffset:function(e){return l(u(e))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),v=t.data.lblTxrCache=new Ea(t,{getKey:function(e){return e[0]._private.labelStyleKey},drawElement:function(e,n,i,r,o){return t.drawElementText(e,n,i,r,"main",o)},getBoundingBox:c,getRotationPoint:function(e){return p(g(e,"labelX","labelY"),e)},getRotationOffset:function(e){var t=c(e),n=l(c(e));if(e.isNode()){switch(e.pstyle("text-halign").value){case"left":n.x=-t.w;break;case"right":n.x=0}switch(e.pstyle("text-valign").value){case"top":n.y=-t.h;break;case"bottom":n.y=0}}return n},isVisible:f}),y=t.data.slbTxrCache=new Ea(t,{getKey:function(e){return e[0]._private.sourceLabelStyleKey},drawElement:function(e,n,i,r,o){return t.drawElementText(e,n,i,r,"source",o)},getBoundingBox:h,getRotationPoint:function(e){return p(g(e,"sourceLabelX","sourceLabelY"),e)},getRotationOffset:function(e){return l(h(e))},isVisible:f}),b=t.data.tlbTxrCache=new Ea(t,{getKey:function(e){return e[0]._private.targetLabelStyleKey},drawElement:function(e,n,i,r,o){return t.drawElementText(e,n,i,r,"target",o)},getBoundingBox:d,getRotationPoint:function(e){return p(g(e,"targetLabelX","targetLabelY"),e)},getRotationOffset:function(e){return l(d(e))},isVisible:f}),x=t.data.lyrTxrCache=new Ca(t);t.onUpdateEleCalcs((function(e,t){m.invalidateElements(t),v.invalidateElements(t),y.invalidateElements(t),b.invalidateElements(t),x.invalidateElements(t);for(var n=0;n<t.length;n++){var i=t[n]._private;i.oldBackgroundTimestamp=i.backgroundTimestamp}}));var w=function(e){for(var t=0;t<e.length;t++)x.enqueueElementRefinement(e[t].ele)};m.onDequeue(w),v.onDequeue(w),y.onDequeue(w),b.onDequeue(w)}ns.CANVAS_LAYERS=3,ns.SELECT_BOX=0,ns.DRAG=1,ns.NODE=2,ns.BUFFER_COUNT=3,ns.TEXTURE_BUFFER=0,ns.MOTIONBLUR_BUFFER_NODE=1,ns.MOTIONBLUR_BUFFER_DRAG=2,ns.redrawHint=function(e,t){var n=this;switch(e){case"eles":n.data.canvasNeedsRedraw[ns.NODE]=t;break;case"drag":n.data.canvasNeedsRedraw[ns.DRAG]=t;break;case"select":n.data.canvasNeedsRedraw[ns.SELECT_BOX]=t}};var rs="undefined"!=typeof Path2D;ns.path2dEnabled=function(e){if(void 0===e)return this.pathsEnabled;this.pathsEnabled=!!e},ns.usePaths=function(){return rs&&this.pathsEnabled},ns.setImgSmoothing=function(e,t){null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)},ns.getImgSmoothing=function(e){return null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled:e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled},ns.makeOffscreenCanvas=function(t,n){var i;return"undefined"!==("undefined"==typeof OffscreenCanvas?"undefined":e(OffscreenCanvas))?i=new OffscreenCanvas(t,n):((i=document.createElement("canvas")).width=t,i.height=n),i},[Oa,La,Ha,Ya,za,Wa,$a,Va,Za,{nodeShapeImpl:function(e,t,n,i,r,o,a){switch(e){case"ellipse":return this.drawEllipsePath(t,n,i,r,o);case"polygon":return this.drawPolygonPath(t,n,i,r,o,a);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(t,n,i,r,o);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(t,n,i,r,o);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(t,n,i,r,o);case"barrel":return this.drawBarrelPath(t,n,i,r,o)}}}].forEach((function(e){I(ns,e)}));var os=[{type:"layout",extensions:Go},{type:"renderer",extensions:[{name:"null",impl:Ko},{name:"base",impl:va},{name:"canvas",impl:ts}]}],as={},ss={};function ls(e,t,n){var i=n,r=function(n){we("Can not register `"+t+"` for `"+e+"` since `"+n+"` already exists in the prototype and can not be overridden")};if("core"===e){if(_o.prototype[t])return r(t);_o.prototype[t]=n}else if("collection"===e){if(Hr.prototype[t])return r(t);Hr.prototype[t]=n}else if("layout"===e){for(var o=function(e){this.options=e,n.call(this,e),g(this._private)||(this._private={}),this._private.cy=e.cy,this._private.listeners=[],this.createEmitter()},a=o.prototype=Object.create(n.prototype),s=[],l=0;l<s.length;l++){var u=s[l];a[u]=a[u]||function(){return this}}a.start&&!a.run?a.run=function(){return this.start(),this}:!a.start&&a.run&&(a.start=function(){return this.run(),this});var c=n.prototype.stop;a.stop=function(){var e=this.options;if(e&&e.animate){var t=this.animations;if(t)for(var n=0;n<t.length;n++)t[n].stop()}return c?c.call(this):this.emit("layoutstop"),this},a.destroy||(a.destroy=function(){return this}),a.cy=function(){return this._private.cy};var h=function(e){return e._private.cy},d={addEventFields:function(e,t){t.layout=e,t.cy=h(e),t.target=e},bubble:function(){return!0},parent:function(e){return h(e)}};I(a,{createEmitter:function(){return this._private.emitter=new ar(d,this),this},emitter:function(){return this._private.emitter},on:function(e,t){return this.emitter().on(e,t),this},one:function(e,t){return this.emitter().one(e,t),this},once:function(e,t){return this.emitter().one(e,t),this},removeListener:function(e,t){return this.emitter().removeListener(e,t),this},emit:function(e,t){return this.emitter().emit(e,t),this}}),Gn.eventAliasesOn(a),i=o}else if("renderer"===e&&"null"!==t&&"base"!==t){var f=us("renderer","base"),p=f.prototype,m=n,v=n.prototype,y=function(){f.apply(this,arguments),m.apply(this,arguments)},b=y.prototype;for(var x in p){var w=p[x];if(null!=v[x])return r(x);b[x]=w}for(var _ in v)b[_]=v[_];p.clientFunctions.forEach((function(e){b[e]=b[e]||function(){we("Renderer does not implement `renderer."+e+"()` on its prototype")}})),i=y}return R({map:as,keys:[e,t],value:i})}function us(e,t){return B({map:as,keys:[e,t]})}var cs=function(){return 2===arguments.length?us.apply(null,arguments):3===arguments.length?ls.apply(null,arguments):4===arguments.length?(function(e,t,n,i){return B({map:ss,keys:[e,t,n,i]})}).apply(null,arguments):5===arguments.length?(function(e,t,n,i,r){return R({map:ss,keys:[e,t,n,i],value:r})}).apply(null,arguments):void we("Invalid extension access syntax")};_o.prototype.extension=cs,os.forEach((function(e){e.extensions.forEach((function(t){ls(e.type,t.name,t.impl)}))}));var hs=function e(){if(!(this instanceof e))return new e;this.length=0},ds=hs.prototype;ds.instanceString=function(){return"stylesheet"},ds.selector=function(e){return this[this.length++]={selector:e,properties:[]},this},ds.css=function(e,t){var n=this.length-1;if(d(e))this[n].properties.push({name:e,value:t});else if(g(e))for(var i=e,r=Object.keys(i),o=0;o<r.length;o++){var a=r[o],s=i[a];if(null!=s){var l=yo.properties[a]||yo.properties[D(a)];null!=l&&this[n].properties.push({name:l.name,value:s})}}return this},ds.style=ds.css,ds.generateStyle=function(e){var t=new yo(e);return this.appendToStyle(t)},ds.appendToStyle=function(e){for(var t=0;t<this.length;t++){var n=this[t],i=n.properties;e.selector(n.selector);for(var r=0;r<i.length;r++){var o=i[r];e.css(o.name,o.value)}}return e};var fs=function(e){return void 0===e&&(e={}),g(e)?new _o(e):d(e)?cs.apply(cs,arguments):void 0};return fs.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(fs),e.apply(null,t),this},fs.warnings=function(e){return _e(e)},fs.version="3.6.2",fs.stylesheet=fs.Stylesheet=hs,fs})),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.cytoscapeCxtmenu=t():e.cytoscapeCxtmenu=t()}(this,(function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){"use strict";var i=n(2),r=n(1),o=n(3),a=o.removeEles,s=o.setStyles,l=o.createElement,u=o.getPixelRatio,c=o.getOffset;e.exports=function(e){var t=r({},i,e),n=this,o=n.container(),h=void 0,d={options:t,handlers:[],container:l({class:"cxtmenu"})},f=d.container,p=l(),g=l({tag:"canvas"}),m=[],v=g.getContext("2d"),y=t.menuRadius,b=2*(y+t.activePadding),x=void 0,w=void 0;function _(e){k.drawBg=[e]}function E(e){e=void 0!==e?e:F,v.globalCompositeOperation="source-over",v.clearRect(0,0,b,b),v.fillStyle=t.fillColor;for(var n=2*Math.PI/m.length,i=Math.PI/2,r=i+n,o=0;o<m.length;o++){var a=m[o];a.fillColor&&(v.fillStyle=a.fillColor),v.beginPath(),v.moveTo(y+t.activePadding,y+t.activePadding),v.arc(y+t.activePadding,y+t.activePadding,y,2*Math.PI-i,2*Math.PI-r,!0),v.closePath(),v.fill(),i+=n,r+=n,v.fillStyle=t.fillColor}v.globalCompositeOperation="destination-out",v.strokeStyle="white",v.lineWidth=t.separatorWidth,r=(i=Math.PI/2)+n;for(var s=0;s<m.length;s++){var l=y*Math.cos(i),u=y*Math.sin(i);v.beginPath(),v.moveTo(y+t.activePadding,y+t.activePadding),v.lineTo(y+t.activePadding+l,y+t.activePadding-u),v.closePath(),v.stroke(),i+=n,r+=n}v.fillStyle="white",v.globalCompositeOperation="destination-out",v.beginPath(),v.arc(y+t.activePadding,y+t.activePadding,e+t.spotlightPadding,0,2*Math.PI,!0),v.closePath(),v.fill(),v.globalCompositeOperation="source-over"}function S(e,n,i){var r=2*Math.PI/m.length,o=Math.PI/2,a=o+r;o+=r*x,a+=r*x,v.fillStyle=t.activeFillColor,v.strokeStyle="black",v.lineWidth=1,v.beginPath(),v.moveTo(y+t.activePadding,y+t.activePadding),v.arc(y+t.activePadding,y+t.activePadding,y+t.activePadding,2*Math.PI-o,2*Math.PI-a,!0),v.closePath(),v.fill(),v.fillStyle="white",v.globalCompositeOperation="destination-out";var s=y+t.activePadding+e/y*(F+t.spotlightPadding-t.indicatorSize/4),l=y+t.activePadding+n/y*(F+t.spotlightPadding-t.indicatorSize/4),u=Math.PI/4-i;v.translate(s,l),v.rotate(u),v.beginPath(),v.fillRect(-t.indicatorSize/2,-t.indicatorSize/2,t.indicatorSize,t.indicatorSize),v.closePath(),v.fill(),v.rotate(-u),v.translate(-s,-l),v.beginPath(),v.arc(y+t.activePadding,y+t.activePadding,F+t.spotlightPadding,0,2*Math.PI,!0),v.closePath(),v.fill(),v.globalCompositeOperation="source-over"}function C(){var e=u(),t=b,n=b;g.width=t*e,g.height=n*e,g.style.width=t+"px",g.style.height=n+"px",v.setTransform(1,0,0,1,0,0),v.scale(e,e)}o.insertBefore(f,o.firstChild),f.appendChild(p),p.appendChild(g),s(f,{position:"absolute",zIndex:t.zIndex,userSelect:"none",pointerEvents:"none"}),["mousedown","mousemove","mouseup","contextmenu"].forEach((function(e){f.addEventListener(e,(function(e){return e.preventDefault(),!1}))})),s(p,{display:"none",width:b+"px",height:b+"px",position:"absolute",zIndex:1,marginLeft:-t.activePadding+"px",marginTop:-t.activePadding+"px",userSelect:"none"}),g.width=b,g.height=b;var T=!0,k={},D=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,16)};C(),function e(){k.drawBg&&E.apply(null,k.drawBg),k.drawCommands&&S.apply(null,k.drawCommands),k={},T&&D(e)}();var A,O,P,M,I,N,L,R,B=void 0,j=void 0,F=void 0,H={on:function(e,t,i){var r=i;return"core"===t&&(r=function(e){if(e.cyTarget===n||e.target===n)return i.apply(this,[e])}),d.handlers.push({events:e,selector:t,fn:r}),"core"===t?n.on(e,r):n.on(e,t,r),this}};return A=void 0,O=!1,P=void 0,M=void 0,I=void 0,N=void 0,L=void 0,R=function(){A&&h.grabify(),M&&n.userZoomingEnabled(!0),I&&n.userPanningEnabled(!0),N&&n.boxSelectionEnabled(!0)},window.addEventListener("resize",C),H.on("resize",(function(){C()})).on(t.openMenuEvents,t.selector,(function(e){h=this;var i=this,r=this===n;if(O&&(p.style.display="none",O=!1,R()),"function"==typeof t.commands){var u=t.commands(h);u.then?u.then((function(e){m=e,d()})):(m=u,d())}else m=t.commands,d();function d(){if(m&&0!==m.length){M=n.userZoomingEnabled(),n.userZoomingEnabled(!1),I=n.userPanningEnabled(),n.userPanningEnabled(!1),N=n.boxSelectionEnabled(),n.boxSelectionEnabled(!1),(A=h.grabbable&&h.grabbable())&&h.ungrabify();var u=void 0,d=void 0,f=void 0;r||!i.isNode()||i.isParent()||t.atMouse?(u=e.renderedPosition||e.cyRenderedPosition,d=1,f=1):(u=i.renderedPosition(),d=i.renderedWidth(),f=i.renderedHeight()),w=c(o),B=u.x,j=u.y,function(){a(".cxtmenu-item",p);for(var e=2*Math.PI/m.length,n=Math.PI/2,i=n+e,r=0;r<m.length;r++){var o=m[r],u=(n+i)/2,c=.66*y*Math.cos(u),h=.66*y*Math.sin(u),d=l({class:"cxtmenu-item"});s(d,{color:t.itemColor,cursor:"default",display:"table","text-align":"center",position:"absolute","text-shadow":"-1px -1px 2px "+t.itemTextShadowColor+", 1px -1px 2px "+t.itemTextShadowColor+", -1px 1px 2px "+t.itemTextShadowColor+", 1px 1px 1px "+t.itemTextShadowColor,left:"50%",top:"50%","min-height":.66*y+"px",width:.66*y+"px",height:.66*y+"px",marginLeft:c-.33*y+"px",marginTop:-h-.33*y+"px"});var f=l({class:"cxtmenu-content"});o.content instanceof HTMLElement?f.appendChild(o.content):f.innerHTML=o.content,s(f,{width:.66*y+"px",height:.66*y+"px","vertical-align":"middle",display:"table-cell"}),s(f,o.contentStyle||{}),!0!==o.disabled&&!1!==o.enabled||f.setAttribute("class","cxtmenu-content cxtmenu-disabled"),p.appendChild(d),d.appendChild(f),n+=e,i+=e}}(),s(p,{display:"block",left:u.x-y+"px",top:u.y-y+"px"}),F=Math.max(d,f)/2,F=Math.max(F,t.minSpotlightRadius),F=Math.min(F,t.maxSpotlightRadius),_(),x=void 0,O=!0,L=e}}})).on("cxtdrag tapdrag",t.selector,P=function(e){if(O){var n=e.originalEvent,i=n.touches&&n.touches.length>0;x=void 0;var r=(i?n.touches[0].pageX:n.pageX)-w.left-B,o=(i?n.touches[0].pageY:n.pageY)-w.top-j;0===r&&(r=.01);var a=Math.sqrt(r*r+o*o),s=Math.acos((o*o-a*a-r*r)/(-2*a*r));if(a<F+t.spotlightPadding)_();else{_();var l=r*y/a,u=o*y/a;o>0&&(s=Math.PI+Math.abs(s-Math.PI));for(var c=2*Math.PI/m.length,h=Math.PI/2,d=h+c,f=0;f<m.length;f++){var p=m[f],g=h<=s&&s<=d||h<=s+2*Math.PI&&s+2*Math.PI<=d;if(!0!==p.disabled&&!1!==p.enabled||(g=!1),g){x=f;break}h+=c,d+=c}!function(e,t,n){k.drawCommands=[e,t,n]}(l,u,s)}}}).on("tapdrag",P).on("cxttapend tapend",(function(){if(p.style.display="none",void 0!==x){var e=m[x].select;e&&(e.apply(h,[h,L]),x=void 0)}O=!1,R()})),{destroy:function(){T=!1,function(){for(var e=d.handlers,t=0;t<e.length;t++){var i=e[t];"core"===i.selector?n.off(i.events,i.fn):n.off(i.events,i.selector,i.fn)}window.removeEventListener("resize",C)}(),f.remove()}}}},function(e,t,n){"use strict";e.exports=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.filter((function(e){return null!=e})).forEach((function(t){Object.keys(t).forEach((function(n){return e[n]=t[n]}))})),e}},function(e,t,n){"use strict";e.exports={menuRadius:100,selector:"node",commands:[],fillColor:"rgba(0, 0, 0, 0.75)",activeFillColor:"rgba(1, 105, 217, 0.75)",activePadding:20,indicatorSize:24,separatorWidth:3,spotlightPadding:4,minSpotlightRadius:24,maxSpotlightRadius:38,openMenuEvents:"cxttapstart taphold",itemColor:"white",itemTextShadowColor:"transparent",zIndex:9999,atMouse:!1}},function(e,t,n){"use strict";var i=function(e,t){for(var n=Object.keys(t),i=0,r=n.length;i<r;i++)e.style[n[i]]=t[n[i]]};e.exports={removeEles:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=t.querySelectorAll(e),i=0;i<n.length;i++){var r=n[i];r.parentNode.removeChild(r)}},setStyles:i,createElement:function(e){e=e||{};var t=document.createElement(e.tag||"div");return t.className=e.class||"",e.style&&i(t,e.style),t},getPixelRatio:function(){return window.devicePixelRatio||1},getOffset:function(e){var t=e.getBoundingClientRect();return{left:t.left+document.body.scrollLeft+parseFloat(getComputedStyle(document.body)["padding-left"])+parseFloat(getComputedStyle(document.body)["border-left-width"]),top:t.top+document.body.scrollTop+parseFloat(getComputedStyle(document.body)["padding-top"])+parseFloat(getComputedStyle(document.body)["border-top-width"])}}}},function(e,t,n){"use strict";var i=n(0),r=function(e){e&&e("core","cxtmenu",i)};"undefined"!=typeof cytoscape&&r(cytoscape),e.exports=r}])})),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.cytoscapeCompoundDragAndDrop=t():e.cytoscapeCompoundDragAndDrop=t()}(this,(function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){"use strict";var i=n(1),r=n(2),o=n(4),a=n(3),s=function(e,t){this.cy=e,this.options=i({},r,t),this.listeners=[],this.enabled=!0,this.addListeners()};[o,a,{destroy:function(){this.removeListeners()}}].forEach((function(e){i(s.prototype,e)})),e.exports=function(e){return new s(this,e)}},function(e,t,n){"use strict";e.exports=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.filter((function(e){return null!=e})).forEach((function(t){Object.keys(t).forEach((function(n){return e[n]=t[n]}))})),e}},function(e,t,n){"use strict";e.exports={grabbedNode:function(e){return!0},dropTarget:function(e){return!0},dropSibling:function(e){return!0},newParentNode:function(e,t){return{}},overThreshold:10,outThreshold:10}},function(e,t,n){"use strict";var i=n(5),r=i.isParent,o=i.isChild,a=i.isOnlyChild,s=i.getBounds,l=i.getBoundsTuple,u=i.boundsOverlap,c=i.expandBounds,h=i.getBoundsCopy,d=i.setParent,f=i.removeParent;e.exports={addListener:function(e,t,n){this.listeners.push({event:e,selector:t,callback:n}),null==t?this.cy.on(e,n):this.cy.on(e,t,n)},addListeners:function(){var e=this,t=this.options,n=this.cy,i=function(n){return(function(n){return!o(n)&&!n.same(e.grabbedNode)&&t.dropTarget(n)}(n)||function(n){return o(n)&&!n.same(e.grabbedNode)&&t.dropSibling(n)}(n))&&!n.same(e.dropTarget)},p=function(){return e.boundsTuples=n.nodes(i).map(l)},g=function(){e.grabbedNode.removeClass("cdnd-grabbed-node"),e.dropTarget.removeClass("cdnd-drop-target"),e.dropSibling.removeClass("cdnd-drop-sibling"),e.grabbedNode=n.collection(),e.dropTarget=n.collection(),e.dropSibling=n.collection(),e.dropTargetBounds=null,e.boundsTuples=[],e.inGesture=!1};this.addListener("grab","node",(function(i){var a,s=i.target;e.enabled&&!r(a=s)&&!function(e){return e.selected()&&n.elements("node:selected").length>1}(a)&&t.grabbedNode(a)&&(e.inGesture=!0,e.grabbedNode=s,e.dropTarget=n.collection(),e.dropSibling=n.collection(),o(s)&&(e.dropTarget=s.parent(),e.dropTargetBounds=h(e.dropTarget)),p(),e.grabbedNode.addClass("cdnd-grabbed-node"),e.dropTarget.addClass("cdnd-drop-target"),s.emit("cdndgrab"))})),this.addListener("add","node",(function(t){if(e.inGesture&&e.enabled){var n=t.target;i(n)&&e.boundsTuples.push(l(n))}})),this.addListener("remove","node",(function(t){if(e.inGesture&&e.enabled){var i=t.target,r=i.same(e.dropTarget),o=i.same(e.dropSibling),a=i.same(e.grabbedNode);(r||o||a)&&(a?g():(e.dropTarget=n.collection(),e.dropSibling=n.collection(),p()))}})),this.addListener("drag","node",(function(){if(e.inGesture&&e.enabled)if(e.dropTarget.nonempty()){var i=c(s(e.grabbedNode),t.outThreshold),o=e.dropTarget,l=e.dropSibling,g=!u(e.dropTargetBounds,i),m=a(e.grabbedNode);g&&(f(e.grabbedNode),f(e.dropSibling),e.dropTarget.removeClass("cdnd-drop-target"),e.dropSibling.removeClass("cdnd-drop-sibling"),(e.dropSibling.nonempty()||m)&&e.dropTarget.remove(),e.dropTarget=n.collection(),e.dropSibling=n.collection(),e.dropTargetBounds=null,p(),e.grabbedNode.emit("cdndout",[o,l]))}else{var v=c(s(e.grabbedNode),t.overThreshold),y=e.boundsTuples.filter((function(e){return!e.node.removed()&&u(v,e.bb)})).map((function(e){return e.node}));if(y.length>0){var b=y.filter(r),x=void 0,w=void 0;b.length>0?(w=n.collection(),x=b[0]):x=n.add(t.newParentNode(e.grabbedNode,w=y[0])),x.addClass("cdnd-drop-target"),w.addClass("cdnd-drop-sibling"),d(w,x),e.dropTargetBounds=h(x),d(e.grabbedNode,x),e.dropTarget=x,e.dropSibling=w,e.grabbedNode.emit("cdndover",[x,w])}}})),this.addListener("free","node",(function(){if(e.inGesture&&e.enabled){var t=e.grabbedNode,n=e.dropTarget,i=e.dropSibling;g(),t.emit("cdnddrop",[n,i])}}))},removeListeners:function(){var e=this.cy;this.listeners.forEach((function(t){var n=t.event,i=t.selector,r=t.callback;null==i?e.removeListener(n,r):e.removeListener(n,i,r)})),this.listeners=[]}}},function(e,t,n){"use strict";e.exports={enable:function(){this.enabled=!0},disable:function(){this.enabled=!1}}},function(e,t,n){"use strict";var i=function(e){return e.isChild()},r=function(e){return e.boundingBox({includeOverlays:!1})},o=function(e){return{x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,w:e.w,h:e.h}};e.exports={isParent:function(e){return e.isParent()},isChild:i,isOnlyChild:function(e){return i(e)&&1===e.parent().children().length},getBoundsTuple:function(e){return{node:e,bb:o(r(e))}},boundsOverlap:function(e,t){return!(e.x1>t.x2||t.x1>e.x2||e.x2<t.x1||t.x2<e.x1||e.y2<t.y1||t.y2<e.y1||e.y1>t.y2||t.y1>e.y2)},getBounds:r,expandBounds:function(e,t){return{x1:e.x1-t,x2:e.x2+t,w:e.w+2*t,y1:e.y1-t,y2:e.y2+t,h:e.h+2*t}},copyBounds:o,getBoundsCopy:function(e){return o(r(e))},removeParent:function(e){return e.move({parent:null})},setParent:function(e,t){return e.move({parent:t.id()})}}},function(e,t,n){"use strict";var i=n(0),r=function(e){e&&e("core","compoundDragAndDrop",i)};"undefined"!=typeof cytoscape&&r(cytoscape),e.exports=r}])})),function(){"use strict";var e=function(e,t){if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var n,i=e.length>>>0,r=arguments[1],o=0;o<i;o++)if(t.call(r,n=e[o],o,e))return n},t=function(){function e(e,t){var n=e.node,i=e.position,r=void 0===i?null:i,o=e.data,a=void 0===o?null:o;this.updateParams(t),this._node=n,this.initStyles(t.cssClass),a&&this.updateData(a),r&&this.updatePosition(r)}return e.prototype.updateParams=function(e){var t=e.tpl,n=void 0===t?function(){return""}:t,i=e.halign,r=e.valign,o=e.halignBox,a=e.valignBox,s={top:-.5,left:-.5,center:0,right:.5,bottom:.5};this._align=[s[void 0===i?"center":i],s[void 0===r?"center":r],100*(s[void 0===o?"center":o]-.5),100*(s[void 0===a?"center":a]-.5)],this.tpl=n},e.prototype.updateData=function(e){try{this._node.innerHTML=this.tpl(e)}catch(t){console.error(t)}},e.prototype.getNode=function(){return this._node},e.prototype.updatePosition=function(e){this._renderPosition(e)},e.prototype.initStyles=function(e){this._node.style.position="absolute",e&&e.length&&this._node.classList.add(e)},e.prototype._renderPosition=function(e){var t=this._position,n=e.x+this._align[0]*e.w,i=e.y+this._align[1]*e.h;if(!t||t[0]!==n||t[1]!==i){this._position=[n,i];var r="translate("+this._align[2]+"%,"+this._align[3]+"%) translate("+n.toFixed(2)+"px,"+i.toFixed(2)+"px) ",o=this._node.style;o.webkitTransform=r,o.msTransform=r,o.transform=r}},e}(),n=function(){function e(e){this._node=e,this._elements={}}return e.prototype.addOrUpdateElem=function(e,n,i){void 0===i&&(i={});var r=this._elements[e];if(r)r.updateParams(n),r.updateData(i.data),r.updatePosition(i.position);else{var o=document.createElement("div");this._node.appendChild(o),this._elements[e]=new t({node:o,data:i.data,position:i.position},n)}},e.prototype.removeElemById=function(e){this._elements[e]&&(this._node.removeChild(this._elements[e].getNode()),delete this._elements[e])},e.prototype.updateElemPosition=function(e,t){var n=this._elements[e];n&&n.updatePosition(t)},e.prototype.updatePanZoom=function(e){var t=e.pan,n="translate("+t.x+"px,"+t.y+"px) scale("+e.zoom+")",i=this._node.style;i.webkitTransform=n,i.msTransform=n,i.transform=n,i.webkitTransformOrigin="top left",i.msTransformOrigin="top left",i.transformOrigin="top left"},e}(),i=function(t){t&&t("core","nodeHtmlLabel",(function(t){return function(t,i){var r=i&&"object"==typeof i?i:[],o=function(){var e=t.container(),i=document.createElement("div"),r=e.querySelector("canvas"),o=e.querySelector("[class^='cy-node-html']");o&&r.parentNode.removeChild(o);var a=i.style;return a.position="absolute",a["z-index"]=10,a.width="500px",a["pointer-events"]="none",a.margin="0px",a.padding="0px",a.border="0px",a.outline="0px",a.outline="0px",r.parentNode.appendChild(i),new n(i)}();return t.one("render",(function(e){var t;t=e.cy,r.forEach((function(e){t.elements(e.query).forEach((function(t){t.isNode()&&o.addOrUpdateElem(t.id(),e,{position:l(t),data:t.data()})}))})),s(e)})),t.on("add",(function(t){var n=t.target,i=e(r.slice().reverse(),(function(e){return n.is(e.query)}));i&&o.addOrUpdateElem(n.id(),i,{position:l(n),data:n.data()})})),t.on("layoutstop",(function(e){var t=e.cy;r.forEach((function(e){t.elements(e.query).forEach((function(e){e.isNode()&&o.updateElemPosition(e.id(),l(e))}))}))})),t.on("remove",(function(e){o.removeElemById(e.target.id())})),t.on("data",a),t.on("style",a),t.on("pan zoom",s),t.on("position bounds",(function(e){o.updateElemPosition(e.target.id(),l(e.target))})),t;function a(t){setTimeout((function(){var n=t.target,i=e(r.slice().reverse(),(function(e){return n.is(e.query)}));i?o.addOrUpdateElem(n.id(),i,{position:l(n),data:n.data()}):o.removeElemById(n.id())}),0)}function s(e){var t=e.cy;o.updatePanZoom({pan:t.pan(),zoom:t.zoom()})}function l(e){return{w:e.width(),h:e.height(),x:e.position("x"),y:e.position("y")}}}(this,t)}))};"undefined"!=typeof module&&module.exports?module.exports=function(e){i(e)}:"undefined"!=typeof define&&define.amd&&define("cytoscape-nodeHtmlLabel",(function(){return i})),"undefined"!=typeof cytoscape&&i(cytoscape)}();